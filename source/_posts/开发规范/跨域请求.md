---
title: 跨域请求
date: 2020-5-18 20:37:39
cover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220518203805.png
tags:
- 开发记录
---

# 什么是跨域请求
>请求的目标URL和所在网页的URL的协议、域名、端口有一个不同，就算是跨域
> https,baidu,80

# CORS
**跨域资源共享(Cross-origin resource sharing)**

> 在跨域请求之前，先发送options请求询问服务器是否允许接下来的跨域请求
> OPTIONS请求中添加字段
> Origin:发起请求的域
> Access-Control-Request-Method：将要发起的跨域请求方式（GET/PUT/POST/DELETE）
> Access-Control-Request-Headers：将要发起的跨域请求中包含的请求头字段

服务器通过响应字段表示是否允许这个跨域请求，浏览器收到后检查如果不符合，就拒绝
> Access-Control-Allow-Origin：允许哪些域来访问（*表示允许所有域的请求）
Access-Control-Allow-Methods：允许哪些请求方式
Access-Control-Allow-Headers：允许哪些请求头字段
Access-Control-Allow-Credentials：是否允许携带Cookie

# 两个优化
如果是一个简单请求，那么就直接发起请求，只需要加入Origin字段表明自己的来源，服务器根据Allow-Origin判断是否符合要求
简单请求就是HEAD，GET，POST三者之一，请求头中的

# 四种常见的 POST 提交数据方式
HTTP协议是由ASCII码传输的，建立在TCP/IP协议之上的应用层规范，规范把HTTP请求分为三个部分，状态行，请求头，消息主体
协议规定POST提交的数据必须放到消息体中，但是没有规定编码方式。
数据发送出去，服务端通过Content-Type字段对主体进行解析
## application/x-www-form-urlencoded
默认的编码方式，采用的浏览器的原生form表单，
