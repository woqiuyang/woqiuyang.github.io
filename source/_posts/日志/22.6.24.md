fap-engin-应收管理-业务类型单据类型的多选

```
http://localhost:3000/fap/accounting/business/head/download?businessTypeCodeList=commission&orderTypeCodeList=tolerance&correctingFlag=1&accountTimeRange=2022-06-01,2022-06-24&fundDirect=receipt&businessScope=business&fileName=%E5%BA%94%E6%94%B6%E5%8D%95%E6%8D%AE
```



删除

```
/fap/accounting/business/operate/by/select
```

单据主键

```
business_data_id
```

TKCN1000000ADPH01202206004

1539810215258595328

```java
        if (CollectionUtils.isNotEmpty(request.getFilter().getBusinessTypeCodeList())) {
            criteria.andBusinessTypeCodeIn(request.getFilter().getBusinessTypeCodeList());
        }
        if (CollectionUtils.isNotEmpty(request.getFilter().getOrderTypeCodeList())) {
            criteria.andOrderTypeCodeIn(request.getFilter().getOrderTypeCodeList());
        }
```

```
<if test="ids != null">
  and id in
  <foreach collection="ids" item="id" separator="," open="(" close=")">
    #{id}
  </foreach>
</if>
```

```sql
select
    business_type_name 业务类型,
    order_type_name 单据类型,
    company_code 公司代码,
    company_name 公司名称,
    contact_unit_1 往来单位代码,
    contact_unit_name_1 往来单位名称,
    business_no 业务单据号,correcting_no 冲正序号,
    write_off_no 核销方,
    written_off_no 被核销方,
    associate_no  关联单号,
    settlement_no  结算单号,
    IF(correcting_flag=0, '否', '是') 冲正有效标记,
    tax_no 税务单号,
    currency 币种,
    amount 含税金额,
    amount_tax 税金,
    amount_excluding_tax 不含税金额,
    other_amount 其他金额,
    remain_amount 余额,
    CONCAT(' ', business_time) 业务时间,
    CONCAT(' ', account_time) 会计日期,
    IF(payment_flag=0, '未收付', '已收付') 收付标记,
    CONCAT(' ', payment_time) 收付时间,
    case account_flag when 0 then '未记账' when 1 then '已记账' when 2 then '出错' when 3 then 'EBS已入账' when 4 then '无凭证' end 挂账记账标记,
    IF(payment_account_flag=0, '未记账', '已记账') 收付记账标记,
    IF(tax_account_flag=0, '未记账', '已记账') 税务记账标记,
    we_account_name 我方账户,
    we_bank_info 我方银行信息,
    account_name 收付方账户,
    summary 说明,
    error_msg 错误信息,
    CONCAT(' ', former_account_time) 原会计日期,
    IF(payment_check_flag=1, '失败', '成功') 付款校验状态,
    payment_check_error_msg 付款校验失败原因
    from accounting_business_head
     
     WHERE delete_flag = 0

      

      
        and business_type_code in
       (
         'purchase'
       ,
         'reimbursement'
       )
      
      
        and order_type_code in
       (
         'payment'
       ,
         'advancePayment'
       )
      

      
      
      
      
      
      
      
      
      
      
      
      
        and correcting_flag = 1
      
      
      
        and account_time >= '2022-06-01 00:00:00'
      
      
        and account_time < '2022-06-28 00:00:00'
      
      
      
      
      
      
        and order_type_code in (
        
          'returnLoan'
        ,
          'withholding'
        ,
          'loan'
        ,
          'returnAdvance'
        ,
          'advancePayment'
        ,
          'interiorCA'
        ,
          'collectingForAnother'
        ,
          'payment'
        ,
          'payTest'
        ,
          'expense'
        ,
          'payForAnother'
        ,
          'generalPayment'
        
        )
      
      
        and business_type_code in (
        
          'general'
        ,
          'purchase'
        ,
          'reimbursement'
        ,
          'anotherCP'
        
        ) 
   
    order by sys_ctime desc, correcting_no desc, order_type_code,business_type_code
```

