---
title: 绩效考核系统
date: 2022-6-21 11:05:47
cover: 
tags:
- 日志
---

# 360干部考核系统-wehr

主要功能分为问卷管理，问卷填写，评估管理和结果报告

https://wesure.coding.inwesure.com/p/g010/d/wehr/git

使用使用分支 dev

两个项目端口都是9200，改wehr为9201，同时修改grpc端口为59201







# 绩效考核系统-assess

分为绩效目标和绩效考核，绩效考核分为自评、初评、复评、星级报表、评估结果展示、评估配置

https://wesure.coding.inwesure.com/p/g010/d/assess/git

使用使用分支 dev

## 流程

新建周期(assess_period)

​	-目标人员填写(assess_target_persons)    id = period_id

​	-评估主实体(assess_header) 					 period_code= period_code

- 



## 问题

### 发起目标，还没有导入填写目标人员，发起成功(好像又不用改动了)

解决

```java
        //查询当前周期信息
        AssessPeriod assessPeriodDb = assessPeriodService.selectByPrimaryKey(assessPeriod.getId());
        if (null == assessPeriodDb){
            return new BaseResult(BaseMessage.FAILED,"考核周期不存在",null);
        }

        AssessHeaderExample assessHeaderExample = new AssessHeaderExample();
        assessHeaderExample.createCriteria()
                .andIsDelEqualTo((byte) 0)
                .andPeriodCodeEqualTo(assessPeriodDb.getPeriodCode());
        List<AssessHeader> assessHeaders = assessHeaderService.selectByExample(assessHeaderExample);
        if (CollectionUtils.isEmpty(assessHeaders)){
            return new BaseResult(BaseMessage.FAILED,"请先配置评估人员",null);
        }
```



```mysql
period_status '状态 0未发起 1已发起 2已结束',
```






# 前端网页

https://wesure.coding.inwesure.com/p/g010/d/assess-web/git

使用使用分支 develop

http://localhost:9008/      

## 配置本地网关

vue.config.js

```js
module.exports = {
  // app部署路径
  publicPath: '/',
  // build目录
  outputDir: 'dist',
  devServer: {
    clientLogLevel: 'warning',
    historyApiFallback: true,
    hot: true,
    compress: true,
    host: '0.0.0.0',
    port: 9008,
    open: false,
    overlay: {
      warnings: false, errors: true
    },
    watchOptions: {
      poll: false
    },
    proxy: {
      // 系统业务接口
      '/wofNidGenerator/getNids': {
        target: 'http://upmsapi.sit.com:10020',
        changeOrigin: true,
        secure: false,
        headers: {
          'X-WESURE-ENAME': 'v_linzlzhao'
        }
      },
      // 自定义页面接口
      '/upmsapi/forward_service/': {
        target: 'http://upmsapi.sit.com:10020', // sit
        changeOrigin: true,
        secure: false
      },
      '/manage/formappdata/': {
        target: 'http://10.0.32.65:80',
        changeOrigin: true,
        secure: false
      },
      '/manage/customapp/': {
        target: 'http://10.0.32.65:80',
        // target: 'http://10.98.163.34:8001',
        changeOrigin: true,
        secure: false
      },
      '/manage/processappdata/': {
        target: 'http://10.0.32.65:80',
        changeOrigin: true,
        secure: false
      },
      '/workflow/workflow_procIns/getDataByUrl': {
        target: 'http://upmsapi.sit.com:10020',
        // target: 'http://10.98.163.22:10020',
        changeOrigin: true,
        secure: false,
        headers: {
          'X-WESURE-ENAME': 'v_linzlzhao'
        }
      },
      '/workflow/': {
        target: 'http://10.0.32.179:7001',
        changeOrigin: true,
        secure: false,
        headers: {
          'X-WESURE-ENAME': 'v_linzlzhao'
        }
      },
      // 系统业务接口
      '/assess/result/': {
        // target: 'http://10.98.163.68:9200', // 淼哥
        target: 'http://10.98.164.181:9200', // sit
        // target: 'http://10.98.164.143:9200', // sit
        changeOrigin: true,
        secure: false
        // headers: {
        //   'X-WESURE-ENAME': 'raymcheng'
        // }
      },
      '/public/pbc': {
        // target: 'http://10.98.163.68:9200', // 淼哥
        // target: 'http://10.98.163.130:9200', // 东哥
        target: 'http://10.98.164.181:9200', // 一路
        // target: 'http://10.98.163.130:9200', // 景康
        // target: 'http://10.0.22.240:80', // sit
        changeOrigin: true,
        secure: false
      },
      '/public/': {
        // target: 'http://10.98.163.68:9200', // 淼哥
        // target: 'http://10.98.163.130:9200', // 东哥
        target: 'http://10.98.164.181:9200', // 一路
        // target: 'http://10.98.163.130:9200', // 景康
        // target: 'http://10.0.22.240:80', // sit
        changeOrigin: true,
        secure: false
      },
      '/assess/pbc/': {
        // target: 'http://10.98.163.68:9200', // 淼哥
        // target: 'http://10.98.163.130:9200', // 东哥
        target: 'http://10.98.164.181:9200', // 一路
        // target: 'http://10.98.163.130:9200', // 景康
        // target: 'http://10.0.22.240:80', // sit
        changeOrigin: true,
        secure: false,
        headers: {
          'X-WESURE-ENAME': 'yeelusun'
        }
      },
      '/assess/': {
        // target: 'http://10.98.163.68:9200', // 淼哥
        // target: 'http://10.98.163.130:9200', // 东哥
        target: 'http://10.98.164.181:9201', // 一路
        // target: 'http://10.0.64.179:9200', // sit
        changeOrigin: true,
        secure: false,
        headers: {
          'X-WESURE-ENAME': 'jackieyang'
        }
      },
      '/hr/': {
        // target: 'http://10.98.163.68:9200', // 淼哥
        // target: 'http://10.98.163.33:9200', // 东哥
        // target: 'http://10.98.164.197:9200', // 一路
        target: 'http://10.98.164.181:9201', // 一路
        // target: 'http://10.0.64.179:9200', // sit
        changeOrigin: true,
        secure: false
        // headers: {
        //   'X-WESURE-ENAME': 'raymcheng'
        // }
      },
      // 系统业务接口
      '/manage/': {
        target: 'http://10.0.32.14:7001',
        changeOrigin: true,
        secure: false
      },
      // 人员和组织接口, 针对/api/v2/user/search和/api/v2/organization/search，这2个接口没用到的可以不配
      '/api/': {
        target: 'http://upmsapi.sit.com:10020',
        // target: 'http://upmsapi.dev.com:10020',
        changeOrigin: true,
        secure: false
      },
      // 统一网关接口
      '/SolomonService/': {
        target: 'http://upmsapi.sit.com:10020',
        // target: 'http://upmsapi.dev.com:10020',
        changeOrigin: true
      }
    }
  }
}

```

