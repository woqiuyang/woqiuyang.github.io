---
title: 资金清算-商户下拉框查询
date: 2022-6-15 11:31:40
cover: 
tags:
- 日志
---
# 商户账号网页
https://fap-sit.inwesure.com/$define/liquidate_account

账户api

```
http://wesure-accounting-liquidate-server-http/liquidate/accountInfo/list
```

业务类型

```
http://wesure-accounting-engin-server-http/public/base/order/type/config/getOrderTypeCode
```

```java
       JSONArray jsonArray = new JSONArray();
        Set<String> businessTypeCodes=new HashSet<>();
        for(BaseOrderTypeConfig config:result){
            if(businessTypeCodes.add(config.getBusinessTypeCode())){
                JSONObject jsonObj = new JSONObject();
                jsonObj.put("text", config.getBusinessTypeName());
                jsonObj.put("value", config.getBusinessTypeCode());
                jsonArray.add(jsonObj);
            }
        }
```



wesure-accounting-liquidate-server-http/liquidate/public/get/account

wesure-accounting-liquidate-server-http/liquidate/public/get/biz/tag

```json
{
  "pageNum": 1,
  "pageSize": 10,
  "order": null,
  "sort": null,
  "filter": {
    "summary": {
      "value": "1"
    }
  }
}
```

清算批次

```java
        ComplexResult check = FluentValidator.checkAll()
                .on(liquidateBatch.getSummary(), new NotNullValidator("摘要"))
                .doValidate()
                .result(ResultCollectors.toComplex());
        if (!check.isSuccess()){
            return new BaseResult(BaseMessage.INVALID_PARAMETER.getCode(),
                    check.getErrors().get(0).toString(),
                    null);
        }
```



```
WofCustomAppListRequestVo<FapQueryForm> form
```

accountId 为空

```js
    // 按条件导入fap
    handleSearchFap (selection, action, cb) {
      // let url = api.interactiveFapBill
      this.$confirm('是否按搜索结果导入', '提示', {
        confirmButtonText: '确定',
        cancelButtonText: '取消',
        type: 'warning'
      }).then(() => {
        alert('1')
      })
    },
```

批量导入

https://fap-sit.inwesure.com/liquidate/fap/inter/batch/bill/interactive

```json
{
  "data": [
    "PAPAJK202206082802000005BI",
    "PAHTIC202206082802000003FU"
  ]
}
```

批量重新导入

https://fap-sit.inwesure.com/liquidate/fap/inter/batch/bill/interactive

```sql
{
  "data": [
    "PAPAJK202206082802000005BI",
    "PAHTIC202206082802000003FU"
  ],
  "reImportFlag": "Y"
}
```

