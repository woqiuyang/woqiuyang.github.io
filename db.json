{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"themes/hexo-theme-butterfly-dev/source/css/index.styl","path":"css/index.styl","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/css/var.styl","path":"css/var.styl","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/1.png","path":"img/1.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/10.png","path":"img/10.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/2.png","path":"img/2.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/3.png","path":"img/3.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/4.png","path":"img/4.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/404.jpg","path":"img/404.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/5.png","path":"img/5.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/6.png","path":"img/6.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/7.png","path":"img/7.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/8.png","path":"img/8.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/9.png","path":"img/9.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/favicon.png","path":"img/favicon.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/friend_404.gif","path":"img/friend_404.gif","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/img/logo2.png","path":"img/logo2.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/js/tw_cn.js","path":"js/tw_cn.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/js/search/algolia.js","path":"js/search/algolia.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-butterfly-dev/source/js/search/local-search.js","path":"js/search/local-search.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/categories/index.md","hash":"a40d694c97b15f3f15f56b313446c87119a0b95b","modified":1653879917170},{"_id":"source/tags/index.md","hash":"780b28b644cc58cd10409a64339c5407aa5f70ce","modified":1653879917171},{"_id":"source/_posts/mysql/01子查询的七种类型.md","hash":"f75562cad413ac6cd71c46e9ff5c697e811d12d7","modified":1653879917167},{"_id":"source/_posts/万融/1-环境搭建.md","hash":"072d96b87a53a499cfce83872e192e6b44092684","modified":1654855879727},{"_id":"source/_posts/加密/Picgo配置.md","hash":"60323dd499cb8cc9e870bc1e6b3a96c67fc406f7","modified":1653879917168},{"_id":"source/_posts/加密/开发常用网址.md","hash":"ef2efecaca8a3afe26d842e5b1b4a58f405364de","modified":1655174497701},{"_id":"source/_posts/开发规范/Java泛型.md","hash":"795e3aad2047c941e06c9e3f35f188f486891856","modified":1653879917168},{"_id":"source/_posts/工具/start.spring.io镜像.md","hash":"88bd4625b8aba03d61b50bdd5d1401fd5d46b71f","modified":1653896679692},{"_id":"source/_posts/开发规范/跨域请求.md","hash":"72c1003c6f9d2410b4e9436030fff35bf3c74f9c","modified":1653879917169},{"_id":"source/_posts/开发规范/阿里巴巴开发规范.md","hash":"9e4a2d236f44c77b9683e7a14e37dfa514d7d3bc","modified":1653879917169},{"_id":"source/_posts/组件/Apollo配置中心.md","hash":"08aaa07ada47eb52b40bb4cc0f4149ad2266c6e5","modified":1654855879727},{"_id":"source/_posts/组件/CompletableFuture.md","hash":"4e786e9f73fab4a9db3eedb70ed3c7c960a0b385","modified":1654855879728},{"_id":"source/_posts/组件/EasyExcel.md","hash":"ae4557380f3d0af2759f240bb59d34ea2b9ea1ef","modified":1654855879728},{"_id":"source/_posts/组件/FastJson.md","hash":"e8c82e98dc2bde48d72e322bef157e04a2d9d549","modified":1653879917170},{"_id":"source/_posts/组件/StringJoiner类.md","hash":"e1edf07b7684fbaf6cbdc1c7f7799a66acf226d7","modified":1654855879728},{"_id":"source/_posts/组件/多线程.md","hash":"ee1f6deab673cac1b67113d348f47a8aa0c304de","modified":1654855879729},{"_id":"source/_posts/组件/微信支付.md","hash":"831e8673d20a0b3da95574cb73713e73cade0eaf","modified":1654855879729},{"_id":"source/_posts/开发记录/maven.md","hash":"807c9d7fbd7de235860276732876747dbacd7df2","modified":1655728277275},{"_id":"source/_posts/组件/redis之list来实现限流.md","hash":"28d7fb909f60c12f03bd5dfca75f3b4e3ec63a12","modified":1653882700955},{"_id":"source/_posts/组件/foreach批量插入.md","hash":"cdaf113fe24d19da33c43d80c70e7e2ea4f7d772","modified":1653895835020},{"_id":"themes/hexo-theme-butterfly-dev/_config.yml","hash":"3f772d2af2680da3a9252021b9de20a26dd63f8e","modified":1655695299667},{"_id":"themes/hexo-theme-butterfly-dev/package.json","hash":"ff4e6e90badea36f89e79a3c7a25e67dcdf36e32","modified":1653879917209},{"_id":"themes/hexo-theme-butterfly-dev/.github/stale.yml","hash":"7a131b8aa4936fbcedea3517299e1cdc1bcbcaab","modified":1653879917173},{"_id":"themes/hexo-theme-butterfly-dev/README.md","hash":"2555c3e418157a0fda35d3deaf029f12e5a12f12","modified":1653879917174},{"_id":"themes/hexo-theme-butterfly-dev/LICENSE","hash":"c8bc7df08db9dd3b39c2c2259a163a36cf2f6808","modified":1653879917174},{"_id":"themes/hexo-theme-butterfly-dev/README_CN.md","hash":"84fa5880f5358abe919eb295aad3cfd17b69b631","modified":1653879917174},{"_id":"themes/hexo-theme-butterfly-dev/languages/en.yml","hash":"69ed4d7aa63a26afd539321784d27494fbebffe8","modified":1653879917176},{"_id":"themes/hexo-theme-butterfly-dev/languages/default.yml","hash":"54a412ace93549f02f8e44fcf3e1cacb161a64db","modified":1653879917175},{"_id":"themes/hexo-theme-butterfly-dev/languages/zh-TW.yml","hash":"c9675ad7721dd20c9f7731438181a891b43553e6","modified":1653879917176},{"_id":"themes/hexo-theme-butterfly-dev/languages/zh-CN.yml","hash":"813eb75fbf274b26e2a0c0c75f359f810ad5eeff","modified":1653879917176},{"_id":"themes/hexo-theme-butterfly-dev/layout/archive.pug","hash":"2d5bf4b1755f89898c579c18d601be83d2bc8ebd","modified":1653879917177},{"_id":"themes/hexo-theme-butterfly-dev/layout/index.pug","hash":"648dcbdb3d145a710de81c909e000e8664d2ac9c","modified":1653879917208},{"_id":"themes/hexo-theme-butterfly-dev/layout/category.pug","hash":"bf979aec88d78b644fc5d31518f8679ad7625792","modified":1653879917177},{"_id":"themes/hexo-theme-butterfly-dev/layout/page.pug","hash":"bf2d6c6d2d156777b55292e51be02b0b3acf0af8","modified":1653879917208},{"_id":"themes/hexo-theme-butterfly-dev/layout/post.pug","hash":"fdbb508b5e6dec30fb8753c5a7fdd494410c4fc0","modified":1653879917208},{"_id":"themes/hexo-theme-butterfly-dev/layout/tag.pug","hash":"4bb5efc6dabdf1626685bf6771aaa1467155ae86","modified":1653879917209},{"_id":"themes/hexo-theme-butterfly-dev/.github/workflows/publish.yml","hash":"e320b40c051bae1549156cd5ea4a51383cf78598","modified":1653879917173},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/404.pug","hash":"aace9ddff469de4226e47a52ede1c81e66d66d5c","modified":1653879917177},{"_id":"themes/hexo-theme-butterfly-dev/.github/ISSUE_TEMPLATE/custom.md","hash":"b41123ce5f0ccfa9e06a68b9f3cb59ba040a049a","modified":1653879917172},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/additional-js.pug","hash":"8459729db2978bebd7f3668f6dc00a5bb100e633","modified":1653879917178},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/head.pug","hash":"687461a9422d1eb4d4b5a619854c79e5acc30fd7","modified":1653879917178},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/footer.pug","hash":"8715948b93e7508b84d913be1969b28c6b067b9b","modified":1653879917178},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/layout.pug","hash":"f2e1d8a05d2e409c4804f67a98f5f59f527d6627","modified":1653879917183},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/pagination.pug","hash":"bb1847f45e713cc88b1c0a97035ec01f0209c995","modified":1653879917186},{"_id":"themes/hexo-theme-butterfly-dev/.github/ISSUE_TEMPLATE/bug_report.md","hash":"0b7979a908ebe8c350d73b6731f0be3e29d401c2","modified":1653879917172},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/rightside.pug","hash":"205562ec188bfba5686c51af77486550d0927df5","modified":1653879917187},{"_id":"themes/hexo-theme-butterfly-dev/scripts/events/404.js","hash":"f1d1c378356b776e9b2a8411e6dca88dc8c3245c","modified":1653879917210},{"_id":"themes/hexo-theme-butterfly-dev/scripts/events/config.js","hash":"e959cd313fc20c62fe23f0a7cba3d350d6131d66","modified":1653879917210},{"_id":"themes/hexo-theme-butterfly-dev/scripts/events/init.js","hash":"b321a97420082101a4d41e6e571db1a166475e06","modified":1653879917210},{"_id":"themes/hexo-theme-butterfly-dev/.github/ISSUE_TEMPLATE/feature_request.md","hash":"205a69ba038cf76affcdc1f39d88a8cb8079fc12","modified":1653879917173},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/sidebar.pug","hash":"2cf68619af17ece9acea71aa2cb06737097890a5","modified":1653879917187},{"_id":"themes/hexo-theme-butterfly-dev/scripts/events/stylus.js","hash":"218add7e9b39b6fb6e69921abb9e44891a6cc3ce","modified":1653879917210},{"_id":"themes/hexo-theme-butterfly-dev/scripts/helpers/aside_archives.js","hash":"4f712b4ea383b59a3122683db1d54c04a79ccc5d","modified":1653879917212},{"_id":"themes/hexo-theme-butterfly-dev/scripts/events/welcome.js","hash":"b92cc4648cfe5fb28c58943727823d1178b73a4a","modified":1653879917211},{"_id":"themes/hexo-theme-butterfly-dev/scripts/filters/post_lazyload.js","hash":"5fd6c9659262dc8f61d87866d0417fd534292c88","modified":1653879917211},{"_id":"themes/hexo-theme-butterfly-dev/scripts/filters/random_cover.js","hash":"6c3b7d0874fa499800a4fd49894c481b05ec750c","modified":1653879917211},{"_id":"themes/hexo-theme-butterfly-dev/scripts/helpers/aside_categories.js","hash":"376e1884ea764404c38b1e73b16de0358ece519e","modified":1653879917212},{"_id":"themes/hexo-theme-butterfly-dev/scripts/helpers/inject_head_js.js","hash":"22a2c69b3e68b0e3f80decfd4a2b9c9cc213ff5c","modified":1653879917212},{"_id":"themes/hexo-theme-butterfly-dev/scripts/helpers/page.js","hash":"384de3c04809ec5fa996e8aa0628f770cd4bff3e","modified":1653879917213},{"_id":"themes/hexo-theme-butterfly-dev/scripts/helpers/related_post.js","hash":"26dd1900e68a3e10a5cf3f3484a93139a0f1340e","modified":1653879917213},{"_id":"themes/hexo-theme-butterfly-dev/scripts/tag/button.js","hash":"44cca49ddc76921bb455465ef912cab46c993cef","modified":1653879917214},{"_id":"themes/hexo-theme-butterfly-dev/scripts/tag/flink.js","hash":"3ba7677969ff01fab06fc6713455ddc6861f0024","modified":1653879917214},{"_id":"themes/hexo-theme-butterfly-dev/scripts/tag/hide.js","hash":"e01a3967e5884881bab858b11635457df412de80","modified":1653879917215},{"_id":"themes/hexo-theme-butterfly-dev/scripts/tag/gallery.js","hash":"6d4cd2393945a9316339351cab588265f5c18d73","modified":1653879917214},{"_id":"themes/hexo-theme-butterfly-dev/scripts/tag/inlineImg.js","hash":"7641adb0d520c5ff29dd36fc1fb8617c52ecc9fb","modified":1653879917215},{"_id":"themes/hexo-theme-butterfly-dev/scripts/tag/label.js","hash":"551f1b8edc973bd8afc5cce2eae546f002fa84c3","modified":1653879917216},{"_id":"themes/hexo-theme-butterfly-dev/scripts/tag/mermaid.js","hash":"fd683ccc090db3122d77c7ee73e8d35dc8735ee3","modified":1653879917216},{"_id":"themes/hexo-theme-butterfly-dev/scripts/tag/tabs.js","hash":"08ea00791bd4738952234cb5d8360e119df6f875","modified":1653879917217},{"_id":"themes/hexo-theme-butterfly-dev/scripts/tag/note.js","hash":"420ba8b11e7316b4c09eb301d39814bc9bae9f90","modified":1653879917216},{"_id":"themes/hexo-theme-butterfly-dev/scripts/tag/timeline.js","hash":"4c7056d3cd56f10bd209d2ba4d3cc2027aad1440","modified":1653879917217},{"_id":"themes/hexo-theme-butterfly-dev/source/css/index.styl","hash":"c7924868adcb046b46498626a9223c7a7b3f2e30","modified":1653879917233},{"_id":"themes/hexo-theme-butterfly-dev/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1653879917237},{"_id":"themes/hexo-theme-butterfly-dev/source/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1653879917242},{"_id":"themes/hexo-theme-butterfly-dev/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1653879917242},{"_id":"themes/hexo-theme-butterfly-dev/source/css/var.styl","hash":"584ef7b18d5e677eb2e62f9b139097d3b714a993","modified":1653879917233},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/head/Open_Graph.pug","hash":"07380718ed3af19a7e64b30e8c13726fe5983947","modified":1653879917179},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/head/analytics.pug","hash":"c1e45d4d0bd905ddcd2282de4fe89be92e67847d","modified":1653879917179},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/head/config.pug","hash":"b8e3e07b0e8f3cf25af9550c6361725a05045b92","modified":1653879917179},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/head/config_site.pug","hash":"bd5dd5452e28a4fe94c3241a758ec6f4fdb7a149","modified":1653879917180},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/head/google_adsense.pug","hash":"f29123e603cbbcc6ce277d4e8f600ba67498077c","modified":1653879917180},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/head/noscript.pug","hash":"72efaa09ff60843567458bd54152e06f0cb2757e","modified":1653879917180},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/head/preconnect.pug","hash":"fc3e67e5ae4774d9e89964ba96beed28f34ee8f0","modified":1653879917180},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/head/pwa.pug","hash":"6dc2c9b85df9ab4f5b554305339fd80a90a6cf43","modified":1653879917181},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/head/site_verification.pug","hash":"5168caadc4cf541f5d6676a9c5e8ae47a948f9ad","modified":1653879917181},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/header/index.pug","hash":"3a2797d2744607ba6cdb5a02853851957c0f7e29","modified":1653879917182},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/header/nav.pug","hash":"a9e56b1c41bf327859b0a7bcb8e72b458bd851b2","modified":1653879917182},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/header/menu_item.pug","hash":"ca8bcd90ad9467819330bfe7c02b76322754bccf","modified":1653879917182},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/header/post-info.pug","hash":"3b0b2053fe9f08cbc21b3baa53163adc2f76c19a","modified":1653879917182},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/header/social.pug","hash":"631ec7000fd4d6cfa2de118ee02ad8a42ffb34f5","modified":1653879917183},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/loading/loading-js.pug","hash":"2e1ab0c2ca59a1ff5a5ba9b6ef60f3e34af5430c","modified":1653879917183},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/loading/loading.pug","hash":"dd8e6813976be64e80eba6562b54e74527ab306d","modified":1653879917184},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/mixins/article-sort.pug","hash":"971038debf539333b1687b4a1d87cf4fc965a846","modified":1653879917184},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/mixins/post-ui.pug","hash":"9c8e65939d048a579ea08d063c0f98550376f536","modified":1653879917184},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/page/categories.pug","hash":"5276a8d2835e05bd535fedc9f593a0ce8c3e8437","modified":1653879917185},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/page/flink.pug","hash":"e2eba0fcb8332cb333b2aff9c76664e40e2e1974","modified":1653879917185},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/page/default-page.pug","hash":"e9459f122af7b733398578f9f0f8ab3c5e12a217","modified":1653879917185},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/page/tags.pug","hash":"8f43fdeaf8cff4a35bab74b48c963786ca015620","modified":1653879917185},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/post/post-copyright.pug","hash":"6ec54b77e3a90e148e66e317e5bb6c89624fddca","modified":1653879917186},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/post/reward.pug","hash":"594626a18b7efbf771232855dfbce143fb244bc6","modified":1653879917186},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/aplayer.pug","hash":"bee06b3f01fa1f0d8fa08c154234b452da425101","modified":1653879917187},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/effect.pug","hash":"4c3da5a89b4e6fd3ab527f5c6d27790359d57f71","modified":1653879917196},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/pangu.pug","hash":"d06dafe7faf3a2e328ef62f26166a51ffe7a5579","modified":1653879917200},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/pjax.pug","hash":"61a220bf134201bdf49430b578305191421c547c","modified":1653879917200},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/prismjs.pug","hash":"2448b243ded58aa1d5fc22fd115e6d06b636f9fd","modified":1653879917200},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/subtitle.pug","hash":"311d883dede2a6838bf24ba9e4b3f69e62d5b3f1","modified":1653879917203},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_ad.pug","hash":"a8312b527493dabbadbb1280760168d3bc909a3b","modified":1653879917203},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_archives.pug","hash":"73d33b6930e7944187a4b3403daf25d27077a2dd","modified":1653879917204},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_announcement.pug","hash":"21e019bdc3b1e796bb00976bb29af2d51f873624","modified":1653879917203},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_author.pug","hash":"935dde9cf4c1fef0214dbb9935ecb71805735be0","modified":1653879917205},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_bottom_self.pug","hash":"1dba77d250eeebfb6e293d504352c7e9ea31980b","modified":1653879917205},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_categories.pug","hash":"66e383b4ef374951eb87dd1bf4cdb7a667193fb5","modified":1653879917205},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_newest_comment.pug","hash":"c02b1779bd0ebca6749f195be096b6ca574bfa29","modified":1653879917205},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_post_toc.pug","hash":"59d979702fa21d960443824198614d63aaf69662","modified":1653879917206},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_recent_post.pug","hash":"471b20e71a19db1f5115727082e5188200c49383","modified":1653879917206},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_tags.pug","hash":"9755cac8424dc578e9ec07dbcaa429fddbedd392","modified":1653879917206},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_top_self.pug","hash":"7b5ae404a1205546b7de4be42291315cf918f2b3","modified":1653879917207},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/card_webinfo.pug","hash":"62adef7998fb9bebc5891a49472cfea944a1bf7a","modified":1653879917207},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/widget/index.pug","hash":"5e0e9e9b2cd3c256d52423e2278e790aa387a53a","modified":1653879917207},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_global/function.styl","hash":"d35d156b06f4da25a048872f1cfc35ad49092515","modified":1653879917218},{"_id":"themes/hexo-theme-butterfly-dev/source/js/utils.js","hash":"fdb9e5b38f076953a2431b8f682388b030694b55","modified":1653879917245},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_global/index.styl","hash":"b9d7d23dc8810542b8c8ffcbfbd3694318debcc6","modified":1653879917218},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_highlight/highlight.styl","hash":"a2aa5caf338ff5323b6ff0601ebcc09e710d8398","modified":1653879917218},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/aside.styl","hash":"b62d41e079e45146f0019694156049c5f1be040a","modified":1653879917220},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/chat.styl","hash":"f27ad7b5d781c98bcac5c12c2d70b69b830e0374","modified":1653879917220},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/comments.styl","hash":"0abe05309a186682772a94e5e759b63f8028e61a","modified":1653879917221},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/footer.styl","hash":"e931ef81754a7b9d999fa23d134c620e68e75491","modified":1653879917221},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_highlight/theme.styl","hash":"3c178608406c31d768af355ef1d7326da37cc75f","modified":1653879917220},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/head.styl","hash":"f3aac52defb3497079a313e8c63ac2f7ee24dfbe","modified":1653879917221},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/loading.styl","hash":"844858ae87c7278996ce484c6b456db354c48764","modified":1653879917222},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/pagination.styl","hash":"bd099f7d3adef4b7edd24c0a25a07415b156e587","modified":1653879917223},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/post.styl","hash":"35c7fa4e18cefe01b62e0caedccbdc0c26b3546c","modified":1653879917223},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/relatedposts.styl","hash":"6dcf19c0933c8828a439f801b0f4b256447dec07","modified":1653879917223},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/reward.styl","hash":"b5ba2c3339ad406ce611d12d3f8cc84f864fbc03","modified":1653879917223},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/rightside.styl","hash":"1c1c585ba99cb4004956b5e98fc044260b456f99","modified":1653879917224},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/sidebar.styl","hash":"4258fa2e590aeea704660008aed7f0362fac72d4","modified":1653879917224},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_layout/third-party.styl","hash":"988a947f80c218d8c2279c9975f46d0c2a3d0b6e","modified":1653879917224},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_mode/darkmode.styl","hash":"0bcd07ffbd2a86a1b24eaefabd7e278034b14ee2","modified":1653879917225},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_mode/readmode.styl","hash":"1fed25162d7204480e9bcf476b3246e1717107ca","modified":1653879917225},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_page/404.styl","hash":"a7223a8fcc4fa7b81e552c9a2554be7df9de312e","modified":1653879917226},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_page/categories.styl","hash":"68bc8cbea25dbb3cdc170f09f9b43ce130547717","modified":1653879917226},{"_id":"themes/hexo-theme-butterfly-dev/source/js/tw_cn.js","hash":"4db1170be7a9360e2c5399d281b979da730df2a3","modified":1653879917245},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_page/common.styl","hash":"a714776e3d585369f2285b6bb4e1564539c58d8b","modified":1653879917227},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_page/archives.styl","hash":"d72218cb5a6bfe048ae1c92009bd815a08a53d3a","modified":1653879917226},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_page/tags.styl","hash":"9e35f91847773b915c74a78b8aa66c7bdb950ad0","modified":1653879917228},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_page/flink.styl","hash":"ecc2b2e28c179eb9406fc2c6f00e141078249cdd","modified":1653879917227},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_page/homepage.styl","hash":"c42b872df237726483d93d6124b8751d4f64cf86","modified":1653879917227},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_search/algolia.styl","hash":"f84268708a9ea3c417426bf194bdfea9f7374628","modified":1653879917228},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_search/index.styl","hash":"f9bee6cac49de1171076560acf6a6eec96647c56","modified":1653879917228},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_search/local-search.styl","hash":"107b9e586b12d1fe7bb5b6e53fcc8e31516ab3ba","modified":1653879917228},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_tags/button.styl","hash":"62da1de0d5b8453fcecbfacddb16985265638ba5","modified":1653879917229},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_tags/hexo.styl","hash":"985b183db7b7bfd8f9bdb60494549fb7f850348b","modified":1653879917230},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_tags/gallery.styl","hash":"84c42716e833d2d1dd47195ea996803ffa0e58ec","modified":1653879917230},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_tags/inlineImg.styl","hash":"5a873d01fabebcf7ddf7a6b1c2e2e5e2714097f4","modified":1653879917231},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_tags/label.styl","hash":"2f83bd145b870d80d4b18b0ac603235229a5694e","modified":1653879917231},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_tags/hide.styl","hash":"b7cf7753479fcf2fe07287ffdb0e568adbba4c18","modified":1653879917231},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_tags/note.styl","hash":"076cd87805207c9b5612ec9771f6994287f4c169","modified":1653879917231},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_tags/tabs.styl","hash":"ec81ea316c82b83d6aee31e52f248d329559d5d3","modified":1653879917232},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_tags/timeline.styl","hash":"07ea7134db7a66c87658116f089fb1a2a6906563","modified":1653879917232},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_third-party/normalize.min.css","hash":"8549829fb7d3c21cd9e119884962e8c463a4a267","modified":1653879917232},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/card-post-count/disqus.pug","hash":"f4d21dcbc3b00eed9b1f604e132c4c6811a0a059","modified":1653879917188},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/card-post-count/fb.pug","hash":"4eebb2d94ca75809ef0cf32d70f13e9bf1e87091","modified":1653879917188},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/card-post-count/index.pug","hash":"a18415004d03c0a1783eccac522fbcb6ce0ea1f1","modified":1653879917188},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/card-post-count/twikoo.pug","hash":"eb2d840fa42de3ec7a7fda0eaa30246d52f543e2","modified":1653879917189},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/card-post-count/valine.pug","hash":"896dc0b7480151562c5717771e3000c5a7fc1b16","modified":1653879917189},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/card-post-count/waline.pug","hash":"f3db5c5e738e097a191dc0de59c61d3e1444f7c3","modified":1653879917189},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/chat/chatra.pug","hash":"f3f6eaecbcf9352342e259f4a5a3ad7160f31fc9","modified":1653879917190},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/chat/daovoice.pug","hash":"e5af55cdb87d1ffd3d8702bc77097159acf95b54","modified":1653879917190},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/chat/crisp.pug","hash":"b741b5e942481d779a8a1fe94c45154a62a6b748","modified":1653879917190},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/chat/gitter.pug","hash":"794ce3911f17d354b7196deb8c36d191afac63fb","modified":1653879917190},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/chat/index.pug","hash":"bb467bb22f3d0775b33f9eacbfc086ecb7831e78","modified":1653879917191},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/chat/tidio.pug","hash":"cd7ab4a776be93eea96a6f6fd0a547977fbe1ea3","modified":1653879917192},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/disqusjs.pug","hash":"9ddfac9ae7071ecd982ca3808dcfd4d2d6098f33","modified":1653879917192},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/disqus.pug","hash":"d5f81fd5443a1b09efb165b5f4447a35949d14ad","modified":1653879917192},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/facebook_comments.pug","hash":"e6d48579029c253b85f2abbba5997d6baf9a10ae","modified":1653879917193},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/giscus.pug","hash":"a780962b3a04cac4b296ce809ee7101e42cf3a37","modified":1653879917193},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/gitalk.pug","hash":"b22ed23c78fb372cbdc4cfd3f733beb2ebea5d74","modified":1653879917193},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/index.pug","hash":"414f876d28f8497d6d551363a89c5c69bf1533eb","modified":1653879917194},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/js.pug","hash":"810e8ca2669433f649329859922aabbb30d76178","modified":1653879917194},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/livere.pug","hash":"589f8503f264d4fda971c8daf2028f45c4f2867b","modified":1653879917194},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/twikoo.pug","hash":"8cd118d933cb8a9f9158523eaf71c14e9895cff9","modified":1653879917195},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/utterances.pug","hash":"21098eba47237ec003228e7fa70a5fbb14d6c804","modified":1653879917195},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/valine.pug","hash":"d1ac48307e4999be08c63c673e98fe3fcee5bfce","modified":1653879917195},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/comments/waline.pug","hash":"0f287b10408b4455d946a69677549fcfd302e8c0","modified":1653879917196},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/math/index.pug","hash":"2afa4c21dd19890f47fb568cfb0d90efb676a253","modified":1653879917197},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/math/katex.pug","hash":"266caf985dc0703ff81b871b8f8d206f57db6e79","modified":1653879917197},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/math/mathjax.pug","hash":"87e40f0c315407ab88571a2b3450d640f15c96bc","modified":1653879917197},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/math/mermaid.pug","hash":"6dd420ea858f3237d8a7353e8541df665dd6fdf1","modified":1653879917198},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"cd1ce86441dc508e4c3dbf8b829046455ba8a6b4","modified":1653879917198},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/newest-comments/index.pug","hash":"16cf05cf9649322da57e9b8d316573bb65f8d8d8","modified":1653879917199},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/newest-comments/github-issues.pug","hash":"b2ede1f6b41026ebd233ac076a405889a6eec76b","modified":1653879917199},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"444820bc7e4a9a033062bcd8cd71b10b49d1968a","modified":1653879917199},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/newest-comments/valine.pug","hash":"3b42d3b8468431655112705bff7530ce647f8c05","modified":1653879917199},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/newest-comments/waline.pug","hash":"c9e6e14770317a3516e2e2f320654cd52b1bd73a","modified":1653879917200},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/search/algolia.pug","hash":"a5aa867697578660fe78a0d9b0f245d09b571110","modified":1653879917201},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/search/index.pug","hash":"ff3727c3ec698ec61a28c55cbc8c8508f0efb0a0","modified":1653879917201},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/search/local-search.pug","hash":"7ce18e4b22c41dcfd84835e89b47030fc5f4a394","modified":1653879917201},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/share/add-this.pug","hash":"8b4034e53ca5bf85097f681a6e76a53ce685c205","modified":1653879917202},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/share/index.pug","hash":"4898a09d8e67fb358ffd74b3a1f0014f555dd856","modified":1653879917202},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/share/addtoany.pug","hash":"fbac21a6c5924fb2f8d1190fd634105fdbc603d4","modified":1653879917202},{"_id":"themes/hexo-theme-butterfly-dev/layout/includes/third-party/share/share-js.pug","hash":"7e9a7347dd8ca4c33c564fb62512743b6012bb2d","modified":1653879917202},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_highlight/highlight/diff.styl","hash":"6e77f1ca0cfb0db6b028f5c0238780e66d344f3d","modified":1653879917219},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_highlight/highlight/index.styl","hash":"fc702a4614d0562a381907b083f71ba63d301d86","modified":1653879917219},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_highlight/prismjs/diff.styl","hash":"1309292f1c8c53d96cd7333507b106bcc24ca8fc","modified":1653879917220},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_highlight/prismjs/index.styl","hash":"01ff9e77eb1bd454bec65a6ff5972c8e219bc708","modified":1653879917220},{"_id":"themes/hexo-theme-butterfly-dev/source/css/_highlight/prismjs/line-number.styl","hash":"0b8aea62d1550113e1fcc237fae1b03743190208","modified":1653879917220},{"_id":"themes/hexo-theme-butterfly-dev/source/img/6.png","hash":"bd0d41c8694f1e3ec307fceb902f8e747b266e3a","modified":1653879917239},{"_id":"themes/hexo-theme-butterfly-dev/source/js/main.js","hash":"a2c1c55b5b8ec9a83cf6242ebc9ea9be95e1f0c1","modified":1653879917244},{"_id":"themes/hexo-theme-butterfly-dev/source/js/search/algolia.js","hash":"d684f2a60fe821d61761a01cf36fd2fb57c31c9c","modified":1653879917244},{"_id":"themes/hexo-theme-butterfly-dev/source/img/10.png","hash":"5c62a96328d4e275bb6ceb07a2c7c32d67ca8527","modified":1653879917235},{"_id":"themes/hexo-theme-butterfly-dev/source/img/1.png","hash":"65142ce9ed015f50b730b50f1ba4790266369e82","modified":1653879917234},{"_id":"themes/hexo-theme-butterfly-dev/source/img/2.png","hash":"93d8dc40cf2c4134be30e87c8dc67343723f694e","modified":1653879917235},{"_id":"themes/hexo-theme-butterfly-dev/source/img/3.png","hash":"b83f92b53f6d7ee3d55b7a48f6e643b60a2d48cf","modified":1653879917236},{"_id":"themes/hexo-theme-butterfly-dev/source/img/4.png","hash":"7221511b18692fbc2d919bc04c6a2d37e0636328","modified":1653879917237},{"_id":"themes/hexo-theme-butterfly-dev/source/img/5.png","hash":"239cd0a713f025ddbeb1b95e5b2c8f99b5de7db1","modified":1653879917238},{"_id":"themes/hexo-theme-butterfly-dev/source/img/7.png","hash":"eccc99bde3f55581fd576a70263a6de7ffc5d080","modified":1653879917240},{"_id":"themes/hexo-theme-butterfly-dev/source/img/8.png","hash":"bb78ed32ec38850880ffa20e4d0af492fc1bf5cb","modified":1653879917240},{"_id":"themes/hexo-theme-butterfly-dev/source/img/9.png","hash":"3a4aa98ab8a86363ca72a9741729b6bb933dd93d","modified":1653879917241},{"_id":"themes/hexo-theme-butterfly-dev/source/js/search/local-search.js","hash":"2086c6ad3c48ded263a36b230485ed0c15293f8e","modified":1653879917245},{"_id":"themes/hexo-theme-butterfly-dev/source/img/logo2.png","hash":"1baf7822069002df9a58d3ec666e1883cc45e5e6","modified":1653879917243},{"_id":"public/atom.xml","hash":"7488f35b41fac3c95b3f068165354042977ee158","modified":1654855942115},{"_id":"public/content.json","hash":"7e88101d3879132721b716ca103b839df1115f0b","modified":1654855942115},{"_id":"public/search.xml","hash":"4674062987b804bdba1d191fd069659611722816","modified":1654855942115},{"_id":"public/404.html","hash":"b96f6a235c6400c265c37516780b35ef30aba62b","modified":1654855942115},{"_id":"public/categories/index.html","hash":"99f7ede9a825da2469dd99c92f8ba20bcb0fc2b0","modified":1654855942115},{"_id":"public/tags/index.html","hash":"3c97dfb8f33a9eb8c16add0207652b1b8600c6e4","modified":1654855942115},{"_id":"public/2022/06/10/开发记录/maven/index.html","hash":"9de28f1b6cd99658f1e40b31aa4204840ebb64bb","modified":1654855942115},{"_id":"public/2022/05/30/工具/start.spring.io镜像/index.html","hash":"3d7a34b98654b9314bb3c7c6afadfa7c968d91b4","modified":1654855942115},{"_id":"public/2022/05/23/加密/Picgo配置/index.html","hash":"e0f5c27380efcb69a71fa13c50c40a434788e770","modified":1654855942115},{"_id":"public/2020/05/24/万融/1-环境搭建/index.html","hash":"9fbcf37e4023934508b4d8b5d298f4c9cce027e2","modified":1654855942115},{"_id":"public/archives/2019/index.html","hash":"b5706fb9e15bc8d5a8421aeb660a12c9c0b13ec9","modified":1654855942115},{"_id":"public/archives/2019/05/index.html","hash":"82aedea169ee63099006a93c0941d577b35e8f7f","modified":1654855942115},{"_id":"public/archives/2020/page/2/index.html","hash":"f7568c644a4e6fcd94251411f0d6575bc7f90df2","modified":1654855942115},{"_id":"public/archives/2020/05/page/2/index.html","hash":"3f3fb6255fd5ff58cc7db2450ea4401edbb31926","modified":1654855942115},{"_id":"public/archives/2022/index.html","hash":"697d34382d482089db8a6ac502e0a0b93a43f898","modified":1654855942115},{"_id":"public/archives/2022/05/index.html","hash":"a027ef1f134921b5d50c1ac38795d6cf49fa041c","modified":1654855942115},{"_id":"public/archives/2022/06/index.html","hash":"7ed79549dc5e3da9738bda50a6bb4c19d29f56f4","modified":1654855942115},{"_id":"public/tags/mysql/index.html","hash":"10127d302168a99b0e5f48257e4cfadcebaa8cd9","modified":1654855942115},{"_id":"public/tags/万融/index.html","hash":"1e2f164e4bf89aa7881b9f86b1fb2498a02f875b","modified":1654855942115},{"_id":"public/tags/嘿嘿/index.html","hash":"c19198ff9d132ce61fd88c9718658fed02a4a846","modified":1654855942115},{"_id":"public/tags/工具/index.html","hash":"e2ee97363ba5af4f7ad404f65ad4d5c1ed4537d4","modified":1654855942115},{"_id":"public/tags/开发记录/index.html","hash":"f8e52c8228dc1e5c580f158edfba506fd42971bb","modified":1654855942115},{"_id":"public/2022/06/10/加密/开发常用网址/index.html","hash":"305d85a25a2545ae65f5c97bc080c00a66ea58b5","modified":1654855942115},{"_id":"public/2022/05/30/组件/foreach批量插入/index.html","hash":"4e3b4b4904653df2ef4d9a93fb6133c410423c0f","modified":1654855942115},{"_id":"public/2022/05/30/组件/redis之list来实现限流/index.html","hash":"0306efce045617e4279397a63c9677fba94939b8","modified":1654855942115},{"_id":"public/2020/05/27/组件/StringJoiner类/index.html","hash":"9083ceb157be754fd960c55feb6d37f3c1768357","modified":1654855942115},{"_id":"public/2020/05/27/组件/CompletableFuture/index.html","hash":"9c5ee8f2c6497d267e5f043a8a6981499dda7f11","modified":1654855942115},{"_id":"public/2020/05/26/组件/多线程/index.html","hash":"8206bd3261a85eabdb3b97ddd269782cd27c01d4","modified":1654855942115},{"_id":"public/2020/05/25/组件/EasyExcel/index.html","hash":"1e5fc075e781ed9e85a89ce76a8aaeadc39c9599","modified":1654855942115},{"_id":"public/2020/05/24/组件/Apollo配置中心/index.html","hash":"3c3ad12f0370db0eca0035143de3ba340f885037","modified":1654855942115},{"_id":"public/2020/05/22/组件/微信支付/index.html","hash":"d4254b747b93260c55d0c04543edc04ef0fe0bb8","modified":1654855942115},{"_id":"public/2020/05/20/组件/FastJson/index.html","hash":"2e5b638f23427f7400bba8f4fcbf02a43aa629f7","modified":1654855942115},{"_id":"public/2020/05/18/开发规范/跨域请求/index.html","hash":"8f80b7ba0986153a5fe5a059f2676c2588cb2081","modified":1654855942115},{"_id":"public/2020/05/17/开发规范/Java泛型/index.html","hash":"d77e40fa7f8fc9a9acb21066d59d04088107dcd5","modified":1654855942115},{"_id":"public/2020/05/13/开发规范/阿里巴巴开发规范/index.html","hash":"96233fb2ab83fa45e34d7d3ca836f6e8d278e890","modified":1654855942115},{"_id":"public/2019/05/10/mysql/01子查询的七种类型/index.html","hash":"4d9fa09354ed533bdddaf06c756c1668fff42019","modified":1654855942115},{"_id":"public/archives/index.html","hash":"1368cd4f4e88f53d2c0c7d0bdfe1478bf388216e","modified":1654855942115},{"_id":"public/archives/page/2/index.html","hash":"7f3b469bc47ce2a59a9426dc76b48ae952357766","modified":1654855942115},{"_id":"public/archives/2020/index.html","hash":"940ad031d1ac14f1b83234f66861e9af4048beff","modified":1654855942115},{"_id":"public/archives/2020/05/index.html","hash":"d91708d8dc6643f060871c54171c7f1b073cc426","modified":1654855942115},{"_id":"public/index.html","hash":"1b9c736d53843a0bad151cc342c7274b7e814dba","modified":1654855942115},{"_id":"public/page/2/index.html","hash":"adc3f2a7189f67117735c62f508ef69111819eed","modified":1654855942115},{"_id":"public/page/3/index.html","hash":"903521eb92db6152b352a8c7cc4a8a52e54c3402","modified":1654855942115},{"_id":"public/tags/组件/index.html","hash":"a3b35b075679bd1b5ebb74610a96681081c6a010","modified":1654855942115},{"_id":"public/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1654855942115},{"_id":"public/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1654855942115},{"_id":"public/img/6.png","hash":"bd0d41c8694f1e3ec307fceb902f8e747b266e3a","modified":1654855942115},{"_id":"public/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1654855942115},{"_id":"public/css/hbe.style.css","hash":"f80457bac5f4bc67ae41733ee1ffb65d7b6ba1e8","modified":1654855942115},{"_id":"public/lib/hbe.js","hash":"2a6e18b7c37578f582a0acdc1ebc54d1e846b1a7","modified":1654855942115},{"_id":"public/img/1.png","hash":"65142ce9ed015f50b730b50f1ba4790266369e82","modified":1654855942115},{"_id":"public/img/2.png","hash":"93d8dc40cf2c4134be30e87c8dc67343723f694e","modified":1654855942115},{"_id":"public/img/4.png","hash":"7221511b18692fbc2d919bc04c6a2d37e0636328","modified":1654855942115},{"_id":"public/img/8.png","hash":"bb78ed32ec38850880ffa20e4d0af492fc1bf5cb","modified":1654855942115},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1654855942115},{"_id":"public/js/search/algolia.js","hash":"aaa5e44125dcf321866bc2355a73773b11db8c9c","modified":1654855942115},{"_id":"public/js/search/local-search.js","hash":"ec62117f38e095425f295b1170c222c7a1399425","modified":1654855942115},{"_id":"public/js/utils.js","hash":"0b95daada72abb5d64a1e3236049a60120e47cca","modified":1654855942115},{"_id":"public/css/index.css","hash":"1fb17bb2c188746b021f609b957761be828f2da4","modified":1654855942115},{"_id":"public/img/10.png","hash":"5c62a96328d4e275bb6ceb07a2c7c32d67ca8527","modified":1654855942115},{"_id":"public/img/3.png","hash":"b83f92b53f6d7ee3d55b7a48f6e643b60a2d48cf","modified":1654855942115},{"_id":"public/img/7.png","hash":"eccc99bde3f55581fd576a70263a6de7ffc5d080","modified":1654855942115},{"_id":"public/img/9.png","hash":"3a4aa98ab8a86363ca72a9741729b6bb933dd93d","modified":1654855942115},{"_id":"public/img/logo2.png","hash":"1baf7822069002df9a58d3ec666e1883cc45e5e6","modified":1654855942115},{"_id":"public/js/main.js","hash":"04efcbd28b37875cfec88eb87cab7256a9ebb327","modified":1654855942115},{"_id":"public/js/tw_cn.js","hash":"00053ce73210274b3679f42607edef1206eebc68","modified":1654855942115},{"_id":"public/img/5.png","hash":"239cd0a713f025ddbeb1b95e5b2c8f99b5de7db1","modified":1654855942115},{"_id":"source/_posts/插件/MyBatisCodeHelper-Pro.md","hash":"f5e6e3ebb888f9aff44a3027f658185adf417ff3","modified":1655178928117},{"_id":"source/_posts/插件/好看的图标.md","hash":"9c4b6f937d120aae59a934141a7d26657d7b135f","modified":1655176720827},{"_id":"source/_posts/插件/阿里云智能编码插件.md","hash":"1569b9310ac90f7f47c5db35c8e26504ab3b6001","modified":1655175434074},{"_id":"source/_posts/日志/2022-6-15.md","hash":"de147c303b37dadc7395e18c113ed6ef814749ba","modified":1655263955133},{"_id":"source/_posts/插件/vo对象转换插件.md","hash":"c8ef655ad787b092ae13e1d220b821a943da1079","modified":1655176552198},{"_id":"source/_posts/日志/资金清算-商户下拉框查询.md","hash":"c21119e0f48c3acc29e61e8dc3b157ea353882c5","modified":1655447497851},{"_id":"source/_posts/开发记录/跨域请求.md","hash":"72c1003c6f9d2410b4e9436030fff35bf3c74f9c","modified":1653879917169},{"_id":"source/_posts/开发记录/阿里巴巴开发规范.md","hash":"9e4a2d236f44c77b9683e7a14e37dfa514d7d3bc","modified":1653879917169},{"_id":"source/_posts/日志/代码片段.md","hash":"80050e93539564263390f72a385839470de69924","modified":1656331738628},{"_id":"source/_posts/开发记录/Idea忽略配置文件.md","hash":"e567e3eb8432d98fb5d1ad627850e40020c080a0","modified":1656323700998},{"_id":"source/_posts/开发记录/待学清单.md","hash":"955b3fdd1a6fce023d0110582e1b58c579832fe7","modified":1655730485766},{"_id":"source/_posts/日志/22.6.24.md","hash":"bb48058f6e1d6019a5fa8331ad6f9d1bc9aefefb","modified":1656382101281},{"_id":"source/_posts/日志/22.6.23.md","hash":"379825a23a9f4e841ecb0cc05b410c3b06261276","modified":1655986627131},{"_id":"source/_posts/开发记录/开发规范.md","hash":"9e4a2d236f44c77b9683e7a14e37dfa514d7d3bc","modified":1653879917169},{"_id":"source/_posts/组件/redis封装.md","hash":"2d27418f2d9a0019b43a271019c6d3b4efe34963","modified":1655708766588},{"_id":"source/_posts/组件/MySql数据库单表查询.md","hash":"8edc4668f4b12c72bb1304986e9841ac6b3c8b63","modified":1655725203926},{"_id":"source/_posts/插件/GenerateAllSetter Postfix Completion.md","hash":"b2cec3b858715f2347ccba889f0c1075c470b25b","modified":1655727334295},{"_id":"source/_posts/日志/添加多选框.md","hash":"2a78a0b0c017056f99c9b8a588b91215994d57b3","modified":1655889649822},{"_id":"source/_posts/日志/绩效考核系统.md","hash":"7e0af86619dd6ff80f034fea12998223d6cef593","modified":1655889555473},{"_id":"source/_posts/插件/IDEA暂存文件.md","hash":"b37a0d0088eda00752cba6ffaf99f76391c5310c","modified":1656401028129},{"_id":"source/_posts/日志/22.6.28.md","hash":"e3f18667b73a090e7194b3413cd44d90fadd2ce2","modified":1656387319462},{"_id":"source/_posts/日志/22.6.29.md","hash":"d506c8661077f96a7924cf9a1022d58d44901941","modified":1656555036026}],"Category":[],"Data":[],"Page":[{"title":"分類","date":"2018-01-04T16:00:00.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: 分類\ndate: 2018-01-05 00:00:00\ntype: \"categories\"\n---","updated":"2022-05-30T03:05:17.170Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cl48ai1k70000ys2makrgfdm7","content":"","site":{"data":{}},"cover":"/img/3.png","excerpt":"","more":""},{"title":"標籤","date":"2018-01-04T16:00:00.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 標籤\ndate: 2018-01-05 00:00:00\ntype: \"tags\"\n---","updated":"2022-05-30T03:05:17.171Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cl48ai1kc0002ys2m1qnb46ez","content":"","site":{"data":{}},"cover":"/img/2.png","excerpt":"","more":""}],"Post":[{"title":"子查询的七种类型","date":"2019-05-10T14:55:13.000Z","cover":"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220510225713.png","_content":"# where 子查询\n`查询单值`\n查出每个栏目最新的商品(以good_id为最大为最新商品)：\n```sql\nselect cat_id,good_id,good_name \nfrom goods \nwhere good_id \nin\n(selct max(good_id) \n    from goods group by cat_id\n);\n```\n# form 型子查询\n`多行多列的结果集`\n查出每个栏目最新的商品 (以 good_id 为最大为最新商品)\n```sql\nselect * \nfrom (select cat_id,good_id,good_name \n      from goods order by cat_id asc, good_id desc)\n      as tep group by cat_id;\n```\n\n# from\n查出挂科 2 门及以上同学的平均分\n```sql\n# 1.先求出挂科两门以上及两门的同学\nselect name,count(*) as gk \nfrom stu where score<60 \ngroup by name having gk>=2;\n# 2.去除多余的一行\nselect name \nfrom (select name,count(*) as gk from stu \nwhere score<60 group by name having gk>=2)as tmp;\n# 3.最终结果\nselect name ,avg(score) as '平均分' \nfrom stu where name in(select name from (select name,count(*) as gk \nfrom stu where score<60 group by name having gk>=2)as tmp)\ngroup by name;\n```\n# in\n查询年龄为 20 岁的员工部门\n```sql\nselect * \nfrom department \nwhere did in(SELECT did from employee where age=20);\n```\n\n# exists\n查询是否存在年龄大于 21 岁的员工\n```sql\nselect * from department where EXISTS (SELECT did from employee where age>21);\n```\n\n# any \n查询满足条件的部门\n```sql\nselect * from department where did> any (SELECT did from employee );\n```\n\n# all\n查询满足条件的部门\n```sql\nselect * from department where did> all(SELECT did from employee );\n```\n\n\n# 比较运算符子查询\n查询赵四是哪个部门的\n```sql\nselect * from department where did= all(SELECT did from employee where name='赵四'); \n```\n# 总结：\n**where 型子查询：指把内部查询的结果作为外层查询的比较条件。\nfrom 型子查询：把内层的查询结果当成临时表，供外层 sql 再次查询。\nin 子查询：内层查询语句仅返回一个数据列，这个数据列的值将供外层查询语句进行比较。\nexists 子查询：把外层的查询结果，拿到内层，看内层是否成立，简单来说后面的返回 true, 外层（也就是前面的语句）才会执行，否则不执行。\nany 子查询：只要满足内层子查询中的任意一个比较条件，就返回一个结果作为外层查询条件。\nall 子查询：内层子查询返回的结果需同时满足所有内层查询条件。\n比较运算符子查询：子查询中可以使用的比较运算符如 “>” “<” “= ” “!=”**\n\n","source":"_posts/mysql/01子查询的七种类型.md","raw":"---\ntitle: 子查询的七种类型\ndate: 2019-5-10 22:55:13\ncover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220510225713.png \ntags:\n- mysql\n---\n# where 子查询\n`查询单值`\n查出每个栏目最新的商品(以good_id为最大为最新商品)：\n```sql\nselect cat_id,good_id,good_name \nfrom goods \nwhere good_id \nin\n(selct max(good_id) \n    from goods group by cat_id\n);\n```\n# form 型子查询\n`多行多列的结果集`\n查出每个栏目最新的商品 (以 good_id 为最大为最新商品)\n```sql\nselect * \nfrom (select cat_id,good_id,good_name \n      from goods order by cat_id asc, good_id desc)\n      as tep group by cat_id;\n```\n\n# from\n查出挂科 2 门及以上同学的平均分\n```sql\n# 1.先求出挂科两门以上及两门的同学\nselect name,count(*) as gk \nfrom stu where score<60 \ngroup by name having gk>=2;\n# 2.去除多余的一行\nselect name \nfrom (select name,count(*) as gk from stu \nwhere score<60 group by name having gk>=2)as tmp;\n# 3.最终结果\nselect name ,avg(score) as '平均分' \nfrom stu where name in(select name from (select name,count(*) as gk \nfrom stu where score<60 group by name having gk>=2)as tmp)\ngroup by name;\n```\n# in\n查询年龄为 20 岁的员工部门\n```sql\nselect * \nfrom department \nwhere did in(SELECT did from employee where age=20);\n```\n\n# exists\n查询是否存在年龄大于 21 岁的员工\n```sql\nselect * from department where EXISTS (SELECT did from employee where age>21);\n```\n\n# any \n查询满足条件的部门\n```sql\nselect * from department where did> any (SELECT did from employee );\n```\n\n# all\n查询满足条件的部门\n```sql\nselect * from department where did> all(SELECT did from employee );\n```\n\n\n# 比较运算符子查询\n查询赵四是哪个部门的\n```sql\nselect * from department where did= all(SELECT did from employee where name='赵四'); \n```\n# 总结：\n**where 型子查询：指把内部查询的结果作为外层查询的比较条件。\nfrom 型子查询：把内层的查询结果当成临时表，供外层 sql 再次查询。\nin 子查询：内层查询语句仅返回一个数据列，这个数据列的值将供外层查询语句进行比较。\nexists 子查询：把外层的查询结果，拿到内层，看内层是否成立，简单来说后面的返回 true, 外层（也就是前面的语句）才会执行，否则不执行。\nany 子查询：只要满足内层子查询中的任意一个比较条件，就返回一个结果作为外层查询条件。\nall 子查询：内层子查询返回的结果需同时满足所有内层查询条件。\n比较运算符子查询：子查询中可以使用的比较运算符如 “>” “<” “= ” “!=”**\n\n","slug":"mysql/01子查询的七种类型","published":1,"updated":"2022-05-30T03:05:17.167Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1k90001ys2mfq0scsnc","content":"<h1 id=\"where-子查询\"><a href=\"#where-子查询\" class=\"headerlink\" title=\"where 子查询\"></a>where 子查询</h1><p><code>查询单值</code><br>查出每个栏目最新的商品(以good_id为最大为最新商品)：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> cat_id,good_id,good_name </span><br><span class=\"line\"><span class=\"keyword\">from</span> goods </span><br><span class=\"line\"><span class=\"keyword\">where</span> good_id </span><br><span class=\"line\"><span class=\"keyword\">in</span></span><br><span class=\"line\">(selct <span class=\"built_in\">max</span>(good_id) </span><br><span class=\"line\">    <span class=\"keyword\">from</span> goods <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> cat_id</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<h1 id=\"form-型子查询\"><a href=\"#form-型子查询\" class=\"headerlink\" title=\"form 型子查询\"></a>form 型子查询</h1><p><code>多行多列的结果集</code><br>查出每个栏目最新的商品 (以 good_id 为最大为最新商品)</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> </span><br><span class=\"line\"><span class=\"keyword\">from</span> (<span class=\"keyword\">select</span> cat_id,good_id,good_name </span><br><span class=\"line\">      <span class=\"keyword\">from</span> goods <span class=\"keyword\">order</span> <span class=\"keyword\">by</span> cat_id <span class=\"keyword\">asc</span>, good_id <span class=\"keyword\">desc</span>)</span><br><span class=\"line\">      <span class=\"keyword\">as</span> tep <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> cat_id;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"from\"><a href=\"#from\" class=\"headerlink\" title=\"from\"></a>from</h1><p>查出挂科 2 门及以上同学的平均分</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># <span class=\"number\">1.</span>先求出挂科两门以上及两门的同学</span><br><span class=\"line\"><span class=\"keyword\">select</span> name,<span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">as</span> gk </span><br><span class=\"line\"><span class=\"keyword\">from</span> stu <span class=\"keyword\">where</span> score<span class=\"operator\">&lt;</span><span class=\"number\">60</span> </span><br><span class=\"line\"><span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name <span class=\"keyword\">having</span> gk<span class=\"operator\">&gt;=</span><span class=\"number\">2</span>;</span><br><span class=\"line\"># <span class=\"number\">2.</span>去除多余的一行</span><br><span class=\"line\"><span class=\"keyword\">select</span> name </span><br><span class=\"line\"><span class=\"keyword\">from</span> (<span class=\"keyword\">select</span> name,<span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">as</span> gk <span class=\"keyword\">from</span> stu </span><br><span class=\"line\"><span class=\"keyword\">where</span> score<span class=\"operator\">&lt;</span><span class=\"number\">60</span> <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name <span class=\"keyword\">having</span> gk<span class=\"operator\">&gt;=</span><span class=\"number\">2</span>)<span class=\"keyword\">as</span> tmp;</span><br><span class=\"line\"># <span class=\"number\">3.</span>最终结果</span><br><span class=\"line\"><span class=\"keyword\">select</span> name ,<span class=\"built_in\">avg</span>(score) <span class=\"keyword\">as</span> <span class=\"string\">&#x27;平均分&#x27;</span> </span><br><span class=\"line\"><span class=\"keyword\">from</span> stu <span class=\"keyword\">where</span> name <span class=\"keyword\">in</span>(<span class=\"keyword\">select</span> name <span class=\"keyword\">from</span> (<span class=\"keyword\">select</span> name,<span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">as</span> gk </span><br><span class=\"line\"><span class=\"keyword\">from</span> stu <span class=\"keyword\">where</span> score<span class=\"operator\">&lt;</span><span class=\"number\">60</span> <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name <span class=\"keyword\">having</span> gk<span class=\"operator\">&gt;=</span><span class=\"number\">2</span>)<span class=\"keyword\">as</span> tmp)</span><br><span class=\"line\"><span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name;</span><br></pre></td></tr></table></figure>\n<h1 id=\"in\"><a href=\"#in\" class=\"headerlink\" title=\"in\"></a>in</h1><p>查询年龄为 20 岁的员工部门</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> </span><br><span class=\"line\"><span class=\"keyword\">from</span> department </span><br><span class=\"line\"><span class=\"keyword\">where</span> did <span class=\"keyword\">in</span>(<span class=\"keyword\">SELECT</span> did <span class=\"keyword\">from</span> employee <span class=\"keyword\">where</span> age<span class=\"operator\">=</span><span class=\"number\">20</span>);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"exists\"><a href=\"#exists\" class=\"headerlink\" title=\"exists\"></a>exists</h1><p>查询是否存在年龄大于 21 岁的员工</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> department <span class=\"keyword\">where</span> <span class=\"keyword\">EXISTS</span> (<span class=\"keyword\">SELECT</span> did <span class=\"keyword\">from</span> employee <span class=\"keyword\">where</span> age<span class=\"operator\">&gt;</span><span class=\"number\">21</span>);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"any\"><a href=\"#any\" class=\"headerlink\" title=\"any\"></a>any</h1><p>查询满足条件的部门</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> department <span class=\"keyword\">where</span> did<span class=\"operator\">&gt;</span> <span class=\"keyword\">any</span> (<span class=\"keyword\">SELECT</span> did <span class=\"keyword\">from</span> employee );</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"all\"><a href=\"#all\" class=\"headerlink\" title=\"all\"></a>all</h1><p>查询满足条件的部门</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> department <span class=\"keyword\">where</span> did<span class=\"operator\">&gt;</span> <span class=\"keyword\">all</span>(<span class=\"keyword\">SELECT</span> did <span class=\"keyword\">from</span> employee );</span><br></pre></td></tr></table></figure>\n\n\n<h1 id=\"比较运算符子查询\"><a href=\"#比较运算符子查询\" class=\"headerlink\" title=\"比较运算符子查询\"></a>比较运算符子查询</h1><p>查询赵四是哪个部门的</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> department <span class=\"keyword\">where</span> did<span class=\"operator\">=</span> <span class=\"keyword\">all</span>(<span class=\"keyword\">SELECT</span> did <span class=\"keyword\">from</span> employee <span class=\"keyword\">where</span> name<span class=\"operator\">=</span><span class=\"string\">&#x27;赵四&#x27;</span>); </span><br></pre></td></tr></table></figure>\n<h1 id=\"总结：\"><a href=\"#总结：\" class=\"headerlink\" title=\"总结：\"></a>总结：</h1><p><strong>where 型子查询：指把内部查询的结果作为外层查询的比较条件。<br>from 型子查询：把内层的查询结果当成临时表，供外层 sql 再次查询。<br>in 子查询：内层查询语句仅返回一个数据列，这个数据列的值将供外层查询语句进行比较。<br>exists 子查询：把外层的查询结果，拿到内层，看内层是否成立，简单来说后面的返回 true, 外层（也就是前面的语句）才会执行，否则不执行。<br>any 子查询：只要满足内层子查询中的任意一个比较条件，就返回一个结果作为外层查询条件。<br>all 子查询：内层子查询返回的结果需同时满足所有内层查询条件。<br>比较运算符子查询：子查询中可以使用的比较运算符如 “&gt;” “&lt;” “= ” “!=”</strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"where-子查询\"><a href=\"#where-子查询\" class=\"headerlink\" title=\"where 子查询\"></a>where 子查询</h1><p><code>查询单值</code><br>查出每个栏目最新的商品(以good_id为最大为最新商品)：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> cat_id,good_id,good_name </span><br><span class=\"line\"><span class=\"keyword\">from</span> goods </span><br><span class=\"line\"><span class=\"keyword\">where</span> good_id </span><br><span class=\"line\"><span class=\"keyword\">in</span></span><br><span class=\"line\">(selct <span class=\"built_in\">max</span>(good_id) </span><br><span class=\"line\">    <span class=\"keyword\">from</span> goods <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> cat_id</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<h1 id=\"form-型子查询\"><a href=\"#form-型子查询\" class=\"headerlink\" title=\"form 型子查询\"></a>form 型子查询</h1><p><code>多行多列的结果集</code><br>查出每个栏目最新的商品 (以 good_id 为最大为最新商品)</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> </span><br><span class=\"line\"><span class=\"keyword\">from</span> (<span class=\"keyword\">select</span> cat_id,good_id,good_name </span><br><span class=\"line\">      <span class=\"keyword\">from</span> goods <span class=\"keyword\">order</span> <span class=\"keyword\">by</span> cat_id <span class=\"keyword\">asc</span>, good_id <span class=\"keyword\">desc</span>)</span><br><span class=\"line\">      <span class=\"keyword\">as</span> tep <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> cat_id;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"from\"><a href=\"#from\" class=\"headerlink\" title=\"from\"></a>from</h1><p>查出挂科 2 门及以上同学的平均分</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># <span class=\"number\">1.</span>先求出挂科两门以上及两门的同学</span><br><span class=\"line\"><span class=\"keyword\">select</span> name,<span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">as</span> gk </span><br><span class=\"line\"><span class=\"keyword\">from</span> stu <span class=\"keyword\">where</span> score<span class=\"operator\">&lt;</span><span class=\"number\">60</span> </span><br><span class=\"line\"><span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name <span class=\"keyword\">having</span> gk<span class=\"operator\">&gt;=</span><span class=\"number\">2</span>;</span><br><span class=\"line\"># <span class=\"number\">2.</span>去除多余的一行</span><br><span class=\"line\"><span class=\"keyword\">select</span> name </span><br><span class=\"line\"><span class=\"keyword\">from</span> (<span class=\"keyword\">select</span> name,<span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">as</span> gk <span class=\"keyword\">from</span> stu </span><br><span class=\"line\"><span class=\"keyword\">where</span> score<span class=\"operator\">&lt;</span><span class=\"number\">60</span> <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name <span class=\"keyword\">having</span> gk<span class=\"operator\">&gt;=</span><span class=\"number\">2</span>)<span class=\"keyword\">as</span> tmp;</span><br><span class=\"line\"># <span class=\"number\">3.</span>最终结果</span><br><span class=\"line\"><span class=\"keyword\">select</span> name ,<span class=\"built_in\">avg</span>(score) <span class=\"keyword\">as</span> <span class=\"string\">&#x27;平均分&#x27;</span> </span><br><span class=\"line\"><span class=\"keyword\">from</span> stu <span class=\"keyword\">where</span> name <span class=\"keyword\">in</span>(<span class=\"keyword\">select</span> name <span class=\"keyword\">from</span> (<span class=\"keyword\">select</span> name,<span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">as</span> gk </span><br><span class=\"line\"><span class=\"keyword\">from</span> stu <span class=\"keyword\">where</span> score<span class=\"operator\">&lt;</span><span class=\"number\">60</span> <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name <span class=\"keyword\">having</span> gk<span class=\"operator\">&gt;=</span><span class=\"number\">2</span>)<span class=\"keyword\">as</span> tmp)</span><br><span class=\"line\"><span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name;</span><br></pre></td></tr></table></figure>\n<h1 id=\"in\"><a href=\"#in\" class=\"headerlink\" title=\"in\"></a>in</h1><p>查询年龄为 20 岁的员工部门</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> </span><br><span class=\"line\"><span class=\"keyword\">from</span> department </span><br><span class=\"line\"><span class=\"keyword\">where</span> did <span class=\"keyword\">in</span>(<span class=\"keyword\">SELECT</span> did <span class=\"keyword\">from</span> employee <span class=\"keyword\">where</span> age<span class=\"operator\">=</span><span class=\"number\">20</span>);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"exists\"><a href=\"#exists\" class=\"headerlink\" title=\"exists\"></a>exists</h1><p>查询是否存在年龄大于 21 岁的员工</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> department <span class=\"keyword\">where</span> <span class=\"keyword\">EXISTS</span> (<span class=\"keyword\">SELECT</span> did <span class=\"keyword\">from</span> employee <span class=\"keyword\">where</span> age<span class=\"operator\">&gt;</span><span class=\"number\">21</span>);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"any\"><a href=\"#any\" class=\"headerlink\" title=\"any\"></a>any</h1><p>查询满足条件的部门</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> department <span class=\"keyword\">where</span> did<span class=\"operator\">&gt;</span> <span class=\"keyword\">any</span> (<span class=\"keyword\">SELECT</span> did <span class=\"keyword\">from</span> employee );</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"all\"><a href=\"#all\" class=\"headerlink\" title=\"all\"></a>all</h1><p>查询满足条件的部门</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> department <span class=\"keyword\">where</span> did<span class=\"operator\">&gt;</span> <span class=\"keyword\">all</span>(<span class=\"keyword\">SELECT</span> did <span class=\"keyword\">from</span> employee );</span><br></pre></td></tr></table></figure>\n\n\n<h1 id=\"比较运算符子查询\"><a href=\"#比较运算符子查询\" class=\"headerlink\" title=\"比较运算符子查询\"></a>比较运算符子查询</h1><p>查询赵四是哪个部门的</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> department <span class=\"keyword\">where</span> did<span class=\"operator\">=</span> <span class=\"keyword\">all</span>(<span class=\"keyword\">SELECT</span> did <span class=\"keyword\">from</span> employee <span class=\"keyword\">where</span> name<span class=\"operator\">=</span><span class=\"string\">&#x27;赵四&#x27;</span>); </span><br></pre></td></tr></table></figure>\n<h1 id=\"总结：\"><a href=\"#总结：\" class=\"headerlink\" title=\"总结：\"></a>总结：</h1><p><strong>where 型子查询：指把内部查询的结果作为外层查询的比较条件。<br>from 型子查询：把内层的查询结果当成临时表，供外层 sql 再次查询。<br>in 子查询：内层查询语句仅返回一个数据列，这个数据列的值将供外层查询语句进行比较。<br>exists 子查询：把外层的查询结果，拿到内层，看内层是否成立，简单来说后面的返回 true, 外层（也就是前面的语句）才会执行，否则不执行。<br>any 子查询：只要满足内层子查询中的任意一个比较条件，就返回一个结果作为外层查询条件。<br>all 子查询：内层子查询返回的结果需同时满足所有内层查询条件。<br>比较运算符子查询：子查询中可以使用的比较运算符如 “&gt;” “&lt;” “= ” “!=”</strong></p>\n"},{"title":"PicGo配置","date":"2022-05-23T15:31:51.000Z","password":"qiuyang","cover":"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220523233510.png","_content":"\nSecretId\n`AKIDsXv2sRkmX1EApDKBl4A0Zrsc5KI0RaS3`\n\nSecretKey\n`LPChvsYw4vVoqb5HCqCH5duud4E7j48u`\n\nAPPID\n`1258707945`\n\n存储空间\n`blog-1258707945`\n\n存储区域\n`ap-guangzhou`\n\n存储路径\n`/blog/`","source":"_posts/加密/Picgo配置.md","raw":"---\ntitle: PicGo配置\ndate: 2022-5-23 23:31:51\npassword: qiuyang\ncover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220523233510.png\ntags:\n- 嘿嘿\n---\n\nSecretId\n`AKIDsXv2sRkmX1EApDKBl4A0Zrsc5KI0RaS3`\n\nSecretKey\n`LPChvsYw4vVoqb5HCqCH5duud4E7j48u`\n\nAPPID\n`1258707945`\n\n存储空间\n`blog-1258707945`\n\n存储区域\n`ap-guangzhou`\n\n存储路径\n`/blog/`","slug":"加密/Picgo配置","published":1,"updated":"2022-05-30T03:05:17.168Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1kf0005ys2m3ycw7wpf","content":"<div class=\"hbe hbe-container\" id=\"hexo-blog-encrypt\" data-wpm=\"Oh, this is an invalid password. Check and try again, please.\" data-whm=\"OOPS, these decrypted content may changed, but you can still have a look.\">\r\n  <script id=\"hbeData\" type=\"hbeData\" data-hmacdigest=\"4d9187a0ef26065aecbeb1ed153df80fd505c9fe6fd01b07b0385f301829cffb\">4a76fe182f6b350bda831c22429c2862534a92ee928ad097bc54c478c2ee5fc1a3ba0b92286cb2d5b5cee5bd0f425240e2b8b64dc122003615bfafe72e668e256ce90659384d4b30b02ffdc217e1d2056f7f1094a25bd5765afc6598682ca186c38a826899cdb89097d58935f09debae3490c3746a05280869479992a9b7bc4e46033a34e6ce47930394e93356eed5b33317ac1bba3128743a0859af74d64b2332ed25040ecf02b9d0b43de7572196c8c7ba7d17201cd1723f2b25a4db13b43cac9a0085d7be4cc383b64ca5bdb5d9b1fe8a5587dea4d4a427c4f1b16740d6272ab15e8a9ceb81b689fc4584db30653e1f5a0fed2e726797e48f6d2a7143c1fb1204de54b6e02e9c74b3252282187f63aff42a90f49d6ea7d6be963d39998ff2e70c0295354b48d7501d53b3c6ca2032dafb3973b66fe7d251c5e809b9e825e5dff707e91afbeb967a2b0c03dfb75179815ef332b5a7ef6579358652678d996a</script>\r\n  <div class=\"hbe hbe-content\">\r\n    <div class=\"hbe hbe-input hbe-input-default\">\r\n      <input class=\"hbe hbe-input-field hbe-input-field-default\" type=\"password\" id=\"hbePass\">\r\n      <label class=\"hbe hbe-input-label hbe-input-label-default\" for=\"hbePass\">\r\n        <span class=\"hbe hbe-input-label-content hbe-input-label-content-default\">Hey, password is required here.</span>\r\n      </label>\r\n    </div>\r\n  </div>\r\n</div>\r\n<script data-pjax src=\"/lib/hbe.js\"></script><link href=\"/css/hbe.style.css\" rel=\"stylesheet\" type=\"text/css\">","site":{"data":{}},"excerpt":"Here's something encrypted, password is required to continue reading.","more":"Here's something encrypted, password is required to continue reading.","origin":"<p>SecretId<br><code>AKIDsXv2sRkmX1EApDKBl4A0Zrsc5KI0RaS3</code></p>\n<p>SecretKey<br><code>LPChvsYw4vVoqb5HCqCH5duud4E7j48u</code></p>\n<p>APPID<br><code>1258707945</code></p>\n<p>存储空间<br><code>blog-1258707945</code></p>\n<p>存储区域<br><code>ap-guangzhou</code></p>\n<p>存储路径<br><code>/blog/</code></p>\n","encrypt":true},{"title":"start.spring.io 镜像","date":"2022-05-30T07:44:12.000Z","cover":"/img/7.png","_content":"使用阿里云https://start.aliyun.com","source":"_posts/工具/start.spring.io镜像.md","raw":"---\ntitle: start.spring.io 镜像\ndate: 2022-5-30 15:44:12\ncover: \ntags:\n- 工具\n---\n使用阿里云https://start.aliyun.com","slug":"工具/start.spring.io镜像","published":1,"updated":"2022-05-30T07:44:39.692Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1kf0006ys2m451q7mm3","content":"<p>使用阿里云<a href=\"https://start.aliyun.com/\">https://start.aliyun.com</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>使用阿里云<a href=\"https://start.aliyun.com/\">https://start.aliyun.com</a></p>\n"},{"title":"开发常用网站","password":"qiuyang","date":"2022-06-14T02:41:30.000Z","cover":"/img/7.png","_content":"# 对账\n功能预览\nhttps://fss-sit.inwesure.com/$define/check_reconciliation_template\n拖拽前端\nhttps://wof-sit.inwesure.com/app/45?permissionId=17986\n持续集成\nhttps://wesure.coding.inwesure.com/p/g010/application/#/list/12096?tab=ciConstruct\n服务发现地址\nhttps://blc.inwesure.com/$define/etcdmanager\n线上日志\nhttps://blc.inwesure.com/app/view/12096\n数据库变更\nhttps://blc.oa.com/mysqlChange\n对账任务参考网页\nhttps://fss-sit.inwesure.com/deduct\n前端文档\nhttps://docs.inwesure.com/gitlab/1303944608295768065/up-ui-components/index\n代码仓库\nhttps://wesure.coding.inwesure.com/p/g010/repos\n\n# fap财务核算 (finance accounting platform)\n后端\nhttps://wesure.coding.inwesure.com/p/g010/d/fap/git\n前端\nhttps://wesure.coding.inwesure.com/p/g010/d/fap-web/git\n\n# 采购和财务系统(开发供应商)\n前端\nhttps://wesure.coding.inwesure.com/p/g010/d/cost-web/git\n后端\nhttps://wesure.coding.inwesure.com/p/g010/d/wfp/git\n容器配置\nhttps://blc.inwesure.com/app/view/10836\n网页\nhttps://cost-sit.inwesure.com/cost/$define/cost_pay_list?id=8523&orderNo=GP20220610000005\n\n","source":"_posts/加密/开发常用网址.md","raw":"---\ntitle: 开发常用网站\npassword: qiuyang\ndate: 2022-6-14 10:41:30\ncover: \ntags:\n- 嘿嘿\n---\n# 对账\n功能预览\nhttps://fss-sit.inwesure.com/$define/check_reconciliation_template\n拖拽前端\nhttps://wof-sit.inwesure.com/app/45?permissionId=17986\n持续集成\nhttps://wesure.coding.inwesure.com/p/g010/application/#/list/12096?tab=ciConstruct\n服务发现地址\nhttps://blc.inwesure.com/$define/etcdmanager\n线上日志\nhttps://blc.inwesure.com/app/view/12096\n数据库变更\nhttps://blc.oa.com/mysqlChange\n对账任务参考网页\nhttps://fss-sit.inwesure.com/deduct\n前端文档\nhttps://docs.inwesure.com/gitlab/1303944608295768065/up-ui-components/index\n代码仓库\nhttps://wesure.coding.inwesure.com/p/g010/repos\n\n# fap财务核算 (finance accounting platform)\n后端\nhttps://wesure.coding.inwesure.com/p/g010/d/fap/git\n前端\nhttps://wesure.coding.inwesure.com/p/g010/d/fap-web/git\n\n# 采购和财务系统(开发供应商)\n前端\nhttps://wesure.coding.inwesure.com/p/g010/d/cost-web/git\n后端\nhttps://wesure.coding.inwesure.com/p/g010/d/wfp/git\n容器配置\nhttps://blc.inwesure.com/app/view/10836\n网页\nhttps://cost-sit.inwesure.com/cost/$define/cost_pay_list?id=8523&orderNo=GP20220610000005\n\n","slug":"加密/开发常用网址","published":1,"updated":"2022-06-14T02:41:37.701Z","_id":"cl48ai1kg0007ys2mf1qc12ww","comments":1,"layout":"post","photos":[],"link":"","content":"<div class=\"hbe hbe-container\" id=\"hexo-blog-encrypt\" data-wpm=\"Oh, this is an invalid password. Check and try again, please.\" data-whm=\"OOPS, these decrypted content may changed, but you can still have a look.\">\n  <script id=\"hbeData\" type=\"hbeData\" data-hmacdigest=\"6b7019e80db13dd6d679deba7d82f8902ccaaaa1ce9fe767dcd86cec276f811d\">4a76fe182f6b350bda831c22429c28628839164ab4d60bac4d2722759e3d085099997ac5d22a768ee614a48bba07fce3ef37c36cac2a9e6be03f73a4b9c2233de74624530c27d1c7377a26219bdd728bf29754731db35a812b43a319a7f7e608633899398526fbcaa367f1d90dc79e9ff0dfc76f2b6eb73a236105024e4d7ca03cce2aec6fa0346dff6c7838086f6c9a7cf8b7919083da6426c3fb8f73a276e055fb9c825d6e190d348bda21648e3c2d1d5ee27c6a1da3039c99191bd0c7c900680f80d7256c412dc79b52f5e08c9eb55654315d76e9ba25c7e01f4e70dd677afbe8b4ee0dd2a72b022514c869452da13ebaea9d3c3523fd4fac3c57f739180c79aca13a108caeb832f528b779913870211043fc1d1c0e32fd01a2f744c306b6dc353149e486bef539c453e7a11e422a3385f5689a61d26403e68245acc32f302af749d05635664d5513d37747cea42e7599ca82c2622133910949cac57046b567a278da0bd3679cf227f1261813d6872366b00a490a9837aef49d04b5b0cb8d5ca3da6dd09ba661238f3703b0f6bded74ca2d10c46e0a2a36c4d40b7cc80a1153be18813fbda13b6f480719eed625538ec2a8e962ce3d1757af3d70f5a7c7512762b5694f056e0b6a9ad0ab8f0fd5ad14831f1007f19f6ce4a260ee17cc41dc7f0d7c94e2159a5b149757974e4b796a667b4d125e5b38c1d94b8b42979d05a01a1a16fe9a60f487fc2b9d2c36726399fdcc6b25238c58a91f1d1139d9385cb96bba3862b04d4d4fe586aa29ef73c124f322352d45b970881f212a80689a54e3ebaa0a0c45cb7859596936520213ae3931165ee49cce4602843fa7469a68121cd85b40847b873adbc0b2811fd2dbe8cb9ede7f610ccb000842a36a400ae1efa9b5771fe7b81a59127a4afd2d1ceff9c402b68b25f6e42796cd43d916658a6de5ba9b27748f9eeff6a78146a6de9005629fe6a6d3084e07c39b977de658a88368b151f88edbeac642e101fc3acfb82f4f3fcb823cb003ca36249da1669f6c0dbe193a603883ede075cbfd0dd9e715cff739e70e2d8ba521ec633192bd1cb935fcfb7b297aef0cd47eedaeec9440d2c8d1c70a4b13438b5c92fa1a13922a6cfe05b540998330277958632718ee6d4a85205da6795e1643238b16367514d6f7c223dbc82be545661eb4dc9455568407a3c6c7e9caecd2756dc034087ac48c3d90afab650c8e4004fae0483f1f2f78fc1eb3ab44547348ea63f164d651ffdff7e52f682bbef35084b2b4f2be3cc8b9c85263cfa9b549d14768cfcd6cb535b6a78bb5ea65365ab0b0686ca03568444ee6131177b9f164fc3ae3e173c98537c81d4f26b96d8d5cf3ad5efce651d31ffcf23d620e6f49eb05c373a066fc87dc49f7bbc5c71642aebfba59a8bbb7534d332f2c87b07309a14a0bc2051553cfd029e347758c833f12f94ddbfdf87cd614cf8e6b25ec1f864a77ea031e13a1bb1633259751e4aa0d361042dfa3d2e597c52882e35e88d388105bb3b2e064165c09e38c86c9e21af962fb788e1850e0776fca8f8525ec5a2c887a439d0995f432ac442c90f921465d212c72424fcf99685f23c47df32883cf19c2c082d68e33b7dd65da85031df183bf6901c10cb17d3c49508600f3f87537215333572e48d42ce758a45d516d135af40bea55a99722af1de381aea07cd488c4ec4260e0d1181efe782fe15e6455047978f193c60fc0337ac6e40240c509520bda41950163a7bfe5808e5bbebe253953a4be2ea4fbfa9d198793691ab5684533b17fd5db1c8c587d9e597658fd5472692f6d9ddc375827b34c67be1f5d39cc7951610d5a0883fe55f36de61ed9bad08bd7e4a577a71f40e9a38c3a8fffd93cc44ab2e0f1a31f681f89a601441c20cd160dc2305c79ced47c558a1fe013ce491a5bdedcd0babbb7a616e5127ad146cb59047db87d1eb45e5279d341d2d59dd0e922a2763aae3dbc9d2973c6454ab060cb662fc808828ec24c1e1a4c55c90635cbad7f62aac092c8a022ed4f4f98325484f280dd607772e373951356e92fdc9c934744c6a71c89c298245f045b2f384e2e203e275476840e2f6688d63c4340e0e972854d3735db1615569accc597c759a8c21c3a9e111197d78b2f243320839b424725fe36dda9b1c13a1049e2a24298c0748cf574c5acaf428a1db4c3391b31caba352de5e67cbf79c2f525f997112054670b6c5a5d576dbcbf706a026168f0a8983dfa76e0c8d8a6a4fcb4042092a65ae62cd738762d48e5b3e4e305c2b88a5a8c60ac3baa36aa59af4596b740ade6e4a15640061c3e319c2705fcf8ce33b2a487693af4585b7298d8c41547bac90cf0c8817b4f5206254d053fdf7de49cd89f909862d9682566e040d2cb482c4730688df7a4884d44f051e67bb488fd9dfa7b7be54f06aad3de6cbd4ff10332b30685fda3e8b38c8a2b2ba44f2ede4f80fbd38bcfd49cc29eb381b1b325e1dca0882d60c8e0852a992999454a600c43879462109de7e52e38cca53e1a73a8ac82d51f06fc29af5e14ab824087edca2de9c07d49cc6f70ae74612d57b3519f630a76f1f97454f5333a0fb56176d7ccdcf3193b3584718304abfa2aee384b8f5696a226acfa5a98f44c5c39fa2818eb95105714c0ed1ca6e4b8e73a28b5535f323541dc2891a12919b263f194834f0c4b7ceec6c26a53358d612be269529647e4a98d69617b782f9581aa819201282257752c31aa0bef6dfee7adb8ab9a6020d9b9e3fe7c009f0ecb3ebc6800ed8e4ee6716d359a166da6521f64ef9db4c7680749a07b19b9b49e1e1931e7286fde627ee2a1a60c354daabce12dfc8f7c66780b70f0829577caf007151f28812c94eb0179a21536862b0084a694e1bd4a2235cbcc9c16e48744e3580109507273aef9fd67515b3f2b6d9cd0596b8a3d10a7728d018a7af6866aa1a422045ae17d8a6bc8777e43fb04d185ecc40cb474ceb5702e05e926aa371a27be7a543af3ee058c02d55bc58db959dc4d7242622ad656fa3e49bac24f9dd6cdb8dc1beed8a4f71f9ed05288b3e965f6954b3e02893dd2f82f1735fa27dbaa6bb64149c28f29576f14379f3b43ed0a7759094d995b91bf41b57dd97e20273f3afd926b3972e5420afb36bb114eaa87810807e1f17ecb3e37fe0807aa2518adb28349dfb2bbf1c3a43a58bdbbfb3e475fa50ed14dc08bf384963d2f2bd26a70c65440125821c043854e96ae5f1e1c2292084010bacb34df16bd2124e09d6589f1d5e53e8fc6e39d452e41fd3581cb8b1cd3b8bfa266461abda3846658e47b3e4236c21ece430794ef3a55ac16e8f4c6eeb0f164674d0bfec561ed038dc1009df73ebce527860a956dccb447e363dde479dd99d4e105e0b997844bd1803df91add821fc36c63ede74be229660bf5f86c1b31ba470d46631cda1c2e04bcefa54e3a1d32a691535f4cf3a4412fb605e48677342f89bbf39eb0caffe3ab536af1c5c14ed3e55b6a7a0cb8228e1d3789813b0bf66d88826939ec3808073a8760ecb774e36ab301afa53245a7f5ab3d2719b53893fcb75584810c8ba3c104af19dba4f316b338dfd5cfc81feede715cc2d76a638970d453c98d089d3d769e3c877729b0e68cd696a968a1b28146e35c299ef43b25216cb0217e2b7a341c54ec583307b35245f1599ff049564b855f2fe75e975074fa5ccf0b60ad2042f0b64d52438b85c9886532c74f98eab4a4b2bcc4105ddb8aa92d4b4bd838bc9946e6cba641fa2156b3cf66ef2c280da5d1ff049511f33da9dbf68553f2de4c910ad11b58d2ec7c67ff167033c4cfa9322a63e1e568c2b917df0bb92525dba3</script>\n  <div class=\"hbe hbe-content\">\n    <div class=\"hbe hbe-input hbe-input-default\">\n      <input class=\"hbe hbe-input-field hbe-input-field-default\" type=\"password\" id=\"hbePass\">\n      <label class=\"hbe hbe-input-label hbe-input-label-default\" for=\"hbePass\">\n        <span class=\"hbe hbe-input-label-content hbe-input-label-content-default\">Hey, password is required here.</span>\n      </label>\n    </div>\n  </div>\n</div>\n<script data-pjax src=\"/lib/hbe.js\"></script><link href=\"/css/hbe.style.css\" rel=\"stylesheet\" type=\"text/css\">","site":{"data":{}},"excerpt":"Here's something encrypted, password is required to continue reading.","more":"Here's something encrypted, password is required to continue reading.","origin":"<h1 id=\"对账\"><a href=\"#对账\" class=\"headerlink\" title=\"对账\"></a>对账</h1><p>功能预览<br><a href=\"https://fss-sit.inwesure.com/$define/check_reconciliation_template\">https://fss-sit.inwesure.com/$define/check_reconciliation_template</a><br>拖拽前端<br><a href=\"https://wof-sit.inwesure.com/app/45?permissionId=17986\">https://wof-sit.inwesure.com/app/45?permissionId=17986</a><br>持续集成<br><a href=\"https://wesure.coding.inwesure.com/p/g010/application/#/list/12096?tab=ciConstruct\">https://wesure.coding.inwesure.com/p/g010/application/#/list/12096?tab=ciConstruct</a><br>服务发现地址<br><a href=\"https://blc.inwesure.com/$define/etcdmanager\">https://blc.inwesure.com/$define/etcdmanager</a><br>线上日志<br><a href=\"https://blc.inwesure.com/app/view/12096\">https://blc.inwesure.com/app/view/12096</a><br>数据库变更<br><a href=\"https://blc.oa.com/mysqlChange\">https://blc.oa.com/mysqlChange</a><br>对账任务参考网页<br><a href=\"https://fss-sit.inwesure.com/deduct\">https://fss-sit.inwesure.com/deduct</a><br>前端文档<br><a href=\"https://docs.inwesure.com/gitlab/1303944608295768065/up-ui-components/index\">https://docs.inwesure.com/gitlab/1303944608295768065/up-ui-components/index</a><br>代码仓库<br><a href=\"https://wesure.coding.inwesure.com/p/g010/repos\">https://wesure.coding.inwesure.com/p/g010/repos</a></p>\n<h1 id=\"fap财务核算-finance-accounting-platform\"><a href=\"#fap财务核算-finance-accounting-platform\" class=\"headerlink\" title=\"fap财务核算 (finance accounting platform)\"></a>fap财务核算 (finance accounting platform)</h1><p>后端<br><a href=\"https://wesure.coding.inwesure.com/p/g010/d/fap/git\">https://wesure.coding.inwesure.com/p/g010/d/fap/git</a><br>前端<br><a href=\"https://wesure.coding.inwesure.com/p/g010/d/fap-web/git\">https://wesure.coding.inwesure.com/p/g010/d/fap-web/git</a></p>\n<h1 id=\"采购和财务系统-开发供应商\"><a href=\"#采购和财务系统-开发供应商\" class=\"headerlink\" title=\"采购和财务系统(开发供应商)\"></a>采购和财务系统(开发供应商)</h1><p>前端<br><a href=\"https://wesure.coding.inwesure.com/p/g010/d/cost-web/git\">https://wesure.coding.inwesure.com/p/g010/d/cost-web/git</a><br>后端<br><a href=\"https://wesure.coding.inwesure.com/p/g010/d/wfp/git\">https://wesure.coding.inwesure.com/p/g010/d/wfp/git</a><br>容器配置<br><a href=\"https://blc.inwesure.com/app/view/10836\">https://blc.inwesure.com/app/view/10836</a><br>网页<br><a href=\"https://cost-sit.inwesure.com/cost/$define/cost_pay_list?id=8523&amp;orderNo=GP20220610000005\">https://cost-sit.inwesure.com/cost/$define/cost_pay_list?id=8523&amp;orderNo=GP20220610000005</a></p>\n","encrypt":true},{"title":"Apollo配置中心","date":"2020-05-24T15:35:54.000Z","cover":"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220524233622.png","_content":"# 主流配置中心产品\n1. Disconf\n   2014年7月百度开源的配置管理中心，专注于各种「分布式系统配置管理」的「通用组件」和「通\n   用平台」, 提供统一的「配置管理服务」。目前已经不再维护更新。\n   https://github.com/knightliao/disconf\n2. Spring Cloud Config\n   2014年9月开源，Spring Cloud 生态组件，可以和Spring Cloud体系无缝整合。\n   https://github.com/spring-cloud/spring-cloud-config\n3. Apollo\n   2016年5月，携程开源的配置管理中心，能够集中化管理应用不同环境、不同集群的配置，配置修\n   改后能够实时推送到应用端，并且具备规范的权限、流程治理等特性，适用于微服务配置管理场\n   景。\n   https://github.com/ctripcorp/apollo\n4. Nacos\n   2018年6月，阿里开源的配置中心，也可以做DNS和RPC的服务发现。\n   https://github.com/alibaba/nacos\n# 产品对比\nApollo集成了数据库+Eureka+版本控制+权限管理+Http Long Polling ... ...\n\n总的来说，Apollo和Nacos相对于Spring Cloud Config的生态支持更广，在配置管理流程上做的更好，\n其成熟度和企业级特性要强于Spring Cloud Config。Apollo相对于Nacos在配置管理做的更加全面，\nNacos则使用起来相对比较简洁，在对性能要求比较高的大规模场景更适合。但对于一个开源项目的选\n型，项目上的人力投入（迭代进度、文档的完整性）、社区的活跃度（issue的数量和解决速度、\nContributor数量、社群的交流频次等），这些因素也比较关键。Apollo目前在国内开发者社区比较\n热，在Github上有超过1w5颗星，在国内众多互联网公司有落地案例，可以说Apollo是目前配置中心产\n品领域Number1的产品，所以从目前来看Apollo是最合适的配置中心选型。\n\n\n\n","source":"_posts/组件/Apollo配置中心.md","raw":"---\ntitle: Apollo配置中心\ndate: 2020-5-24 23:35:54\ncover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220524233622.png\ntags:\n- 组件\n---\n# 主流配置中心产品\n1. Disconf\n   2014年7月百度开源的配置管理中心，专注于各种「分布式系统配置管理」的「通用组件」和「通\n   用平台」, 提供统一的「配置管理服务」。目前已经不再维护更新。\n   https://github.com/knightliao/disconf\n2. Spring Cloud Config\n   2014年9月开源，Spring Cloud 生态组件，可以和Spring Cloud体系无缝整合。\n   https://github.com/spring-cloud/spring-cloud-config\n3. Apollo\n   2016年5月，携程开源的配置管理中心，能够集中化管理应用不同环境、不同集群的配置，配置修\n   改后能够实时推送到应用端，并且具备规范的权限、流程治理等特性，适用于微服务配置管理场\n   景。\n   https://github.com/ctripcorp/apollo\n4. Nacos\n   2018年6月，阿里开源的配置中心，也可以做DNS和RPC的服务发现。\n   https://github.com/alibaba/nacos\n# 产品对比\nApollo集成了数据库+Eureka+版本控制+权限管理+Http Long Polling ... ...\n\n总的来说，Apollo和Nacos相对于Spring Cloud Config的生态支持更广，在配置管理流程上做的更好，\n其成熟度和企业级特性要强于Spring Cloud Config。Apollo相对于Nacos在配置管理做的更加全面，\nNacos则使用起来相对比较简洁，在对性能要求比较高的大规模场景更适合。但对于一个开源项目的选\n型，项目上的人力投入（迭代进度、文档的完整性）、社区的活跃度（issue的数量和解决速度、\nContributor数量、社群的交流频次等），这些因素也比较关键。Apollo目前在国内开发者社区比较\n热，在Github上有超过1w5颗星，在国内众多互联网公司有落地案例，可以说Apollo是目前配置中心产\n品领域Number1的产品，所以从目前来看Apollo是最合适的配置中心选型。\n\n\n\n","slug":"组件/Apollo配置中心","published":1,"updated":"2022-06-10T10:11:19.727Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1kj000fys2m7rli0uim","content":"<h1 id=\"主流配置中心产品\"><a href=\"#主流配置中心产品\" class=\"headerlink\" title=\"主流配置中心产品\"></a>主流配置中心产品</h1><ol>\n<li>Disconf<br>2014年7月百度开源的配置管理中心，专注于各种「分布式系统配置管理」的「通用组件」和「通<br>用平台」, 提供统一的「配置管理服务」。目前已经不再维护更新。<br><a href=\"https://github.com/knightliao/disconf\">https://github.com/knightliao/disconf</a></li>\n<li>Spring Cloud Config<br>2014年9月开源，Spring Cloud 生态组件，可以和Spring Cloud体系无缝整合。<br><a href=\"https://github.com/spring-cloud/spring-cloud-config\">https://github.com/spring-cloud/spring-cloud-config</a></li>\n<li>Apollo<br>2016年5月，携程开源的配置管理中心，能够集中化管理应用不同环境、不同集群的配置，配置修<br>改后能够实时推送到应用端，并且具备规范的权限、流程治理等特性，适用于微服务配置管理场<br>景。<br><a href=\"https://github.com/ctripcorp/apollo\">https://github.com/ctripcorp/apollo</a></li>\n<li>Nacos<br>2018年6月，阿里开源的配置中心，也可以做DNS和RPC的服务发现。<br><a href=\"https://github.com/alibaba/nacos\">https://github.com/alibaba/nacos</a><h1 id=\"产品对比\"><a href=\"#产品对比\" class=\"headerlink\" title=\"产品对比\"></a>产品对比</h1>Apollo集成了数据库+Eureka+版本控制+权限管理+Http Long Polling … …</li>\n</ol>\n<p>总的来说，Apollo和Nacos相对于Spring Cloud Config的生态支持更广，在配置管理流程上做的更好，<br>其成熟度和企业级特性要强于Spring Cloud Config。Apollo相对于Nacos在配置管理做的更加全面，<br>Nacos则使用起来相对比较简洁，在对性能要求比较高的大规模场景更适合。但对于一个开源项目的选<br>型，项目上的人力投入（迭代进度、文档的完整性）、社区的活跃度（issue的数量和解决速度、<br>Contributor数量、社群的交流频次等），这些因素也比较关键。Apollo目前在国内开发者社区比较<br>热，在Github上有超过1w5颗星，在国内众多互联网公司有落地案例，可以说Apollo是目前配置中心产<br>品领域Number1的产品，所以从目前来看Apollo是最合适的配置中心选型。</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"主流配置中心产品\"><a href=\"#主流配置中心产品\" class=\"headerlink\" title=\"主流配置中心产品\"></a>主流配置中心产品</h1><ol>\n<li>Disconf<br>2014年7月百度开源的配置管理中心，专注于各种「分布式系统配置管理」的「通用组件」和「通<br>用平台」, 提供统一的「配置管理服务」。目前已经不再维护更新。<br><a href=\"https://github.com/knightliao/disconf\">https://github.com/knightliao/disconf</a></li>\n<li>Spring Cloud Config<br>2014年9月开源，Spring Cloud 生态组件，可以和Spring Cloud体系无缝整合。<br><a href=\"https://github.com/spring-cloud/spring-cloud-config\">https://github.com/spring-cloud/spring-cloud-config</a></li>\n<li>Apollo<br>2016年5月，携程开源的配置管理中心，能够集中化管理应用不同环境、不同集群的配置，配置修<br>改后能够实时推送到应用端，并且具备规范的权限、流程治理等特性，适用于微服务配置管理场<br>景。<br><a href=\"https://github.com/ctripcorp/apollo\">https://github.com/ctripcorp/apollo</a></li>\n<li>Nacos<br>2018年6月，阿里开源的配置中心，也可以做DNS和RPC的服务发现。<br><a href=\"https://github.com/alibaba/nacos\">https://github.com/alibaba/nacos</a><h1 id=\"产品对比\"><a href=\"#产品对比\" class=\"headerlink\" title=\"产品对比\"></a>产品对比</h1>Apollo集成了数据库+Eureka+版本控制+权限管理+Http Long Polling … …</li>\n</ol>\n<p>总的来说，Apollo和Nacos相对于Spring Cloud Config的生态支持更广，在配置管理流程上做的更好，<br>其成熟度和企业级特性要强于Spring Cloud Config。Apollo相对于Nacos在配置管理做的更加全面，<br>Nacos则使用起来相对比较简洁，在对性能要求比较高的大规模场景更适合。但对于一个开源项目的选<br>型，项目上的人力投入（迭代进度、文档的完整性）、社区的活跃度（issue的数量和解决速度、<br>Contributor数量、社群的交流频次等），这些因素也比较关键。Apollo目前在国内开发者社区比较<br>热，在Github上有超过1w5颗星，在国内众多互联网公司有落地案例，可以说Apollo是目前配置中心产<br>品领域Number1的产品，所以从目前来看Apollo是最合适的配置中心选型。</p>\n"},{"title":"CompletableFuture常用记录","date":"2020-05-26T16:52:44.000Z","cover":"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527005307.png","_content":"\n# 工具类\n```java\npublic class SmallTool {\n\n    public static void  sleepMillis(Integer millis){\n        try {\n            Thread.sleep(millis);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void printTimeAndThread(String  tag){\n        String result = new StringJoiner(\"\\t|\\t\")\n                .add(String.valueOf(System.currentTimeMillis()))\n                .add(String.valueOf(Thread.currentThread().getId()))\n                .add(Thread.currentThread().getName())\n                .add(tag)\n                .toString();\n        System.out.println(result);\n    }\n}\n\n```\n# 例子一\n```java\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"我进了饭堂\");\n        SmallTool.printTimeAndThread(\"我点了滑鸡饭\");\n        // supplyAsync是java的函数式编程接口，叫提供者者，\n        // 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"厨师炒菜\");\n            SmallTool.sleepMillis(200);\n            SmallTool.printTimeAndThread(\"厨师打饭\");\n            SmallTool.sleepMillis(100);\n            return \"滑鸡 + 饭 好了\";\n        });\n        SmallTool.printTimeAndThread(\"我在打王者\");\n        // join等待任务执行结束，返回任务结果\n        SmallTool.printTimeAndThread(String.format(\"%s,小白开吃\",stringCompletableFuture.join()));\n    }\n\n```\n输出结果\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527011927.png)\n# 例子二\n一般来说，打饭这件事情是服务员干的\n```java\n\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"我进了饭堂\");\n        SmallTool.printTimeAndThread(\"我点了滑鸡饭\");\n        // supplyAsync是java的函数式编程接口，叫提供者者，\n        // 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"厨师炒菜\");\n            SmallTool.sleepMillis(200);\n            return \"滑鸡\";\n            // thenCompose要求我们传入一个Function接口，传入参数T，经过转换后返回R\n            // 将前面任务的结果返回给下一个任务\n        }).thenCompose(s -> CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"服务员打饭\");\n            SmallTool.sleepMillis(100);\n            return s+\"米饭\";\n        }));\n        SmallTool.printTimeAndThread(\"我在打王者\");\n        // join等待任务执行结束，返回任务结果\n        SmallTool.printTimeAndThread(String.format(\"%s,小白开吃\",stringCompletableFuture.join()));\n    }\n```\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527012705.png)\n# 例子三\n服务员还没做饭，要求厨师炒菜的时候，服务员同时蒸饭,要求炒菜和蒸饭同时返回，才能执行炒菜\n```java\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"我进了饭堂\");\n        SmallTool.printTimeAndThread(\"我点了滑鸡饭\");\n        // supplyAsync是java的函数式编程接口，叫提供者者，\n        // 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"厨师炒菜\");\n            SmallTool.sleepMillis(200);\n            return \"滑鸡\";\n        }).thenCombine(CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"服务员蒸饭\");\n            SmallTool.sleepMillis(300);\n            return \"米饭\";\n        }),(s, s2) -> {\n            SmallTool.printTimeAndThread(\"服务员打饭\");\n            SmallTool.sleepMillis(100);\n            return String.format(\"%s+%s 好了\",s,s2);\n        });\n        SmallTool.printTimeAndThread(\"我在打王者\");\n        // join等待任务执行结束，返回任务结果\n        SmallTool.printTimeAndThread(String.format(\"%s,小白开吃\",stringCompletableFuture.join()));\n    }\n}\n```\n# 三个例子的基本模型\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527013220.png)\n\n# 例子四\n**我吃完了，准备结账，要求开发票，服务员收款后，要求另一个人开发票，开发票的同时，接到电话，拿到发票，回家养猪**\n使用thenCompose也能执行\n```java\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"我吃完了\");\n        SmallTool.printTimeAndThread(\"结账，并且要求开发票\");\n\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"服务员收款 500元\");\n            SmallTool.sleepMillis(100);\n            return \"500\";\n        }).thenApplyAsync(s -> {\n            SmallTool.printTimeAndThread(String.format(\"服务员开发票中 面额 %s元\", s));\n            SmallTool.sleepMillis(200);\n            return String.format(\"%s元发票\", s);\n        });\n        SmallTool.printTimeAndThread(\"我接到电话\");\n        SmallTool.printTimeAndThread(String.format(\"我拿到%s,准备回家\",stringCompletableFuture.join()));\n    }\n\n```\n# 例子五\n我等车，等100路或200路公交都能到家，谁先来上谁\n```java\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"来到公交站\");\n        SmallTool.printTimeAndThread(\"等待100或200路公交\");\n\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"等待100路公交车\");\n            SmallTool.sleepMillis(100);\n            return \"100路来了\";\n        }).applyToEither(CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"等待200路公交\");\n            SmallTool.sleepMillis(200);\n            return \"200路来了\";\n        }),s -> s);\n        SmallTool.printTimeAndThread(String.format(\"%s,我上车了\",stringCompletableFuture.join()));\n    }\n```\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527015316.png)\n# 例子六\n**我坐在车上,司机撞树上了，只能打车回家了**\n```java\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"来到公交站\");\n        SmallTool.printTimeAndThread(\"等待100或200路公交\");\n\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"等待100路公交车\");\n            SmallTool.sleepMillis(100);\n            return \"100路来了\";\n        }).applyToEither(CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"等待200路公交\");\n            SmallTool.sleepMillis(200);\n            return \"200路来了\";\n        }),s -> {\n            SmallTool.printTimeAndThread(s);\n            if (s.startsWith(\"100\")){\n                throw new RuntimeException(\"撞树上了\");\n            }\n            return s;\n        }).exceptionally(throwable -> {\n            SmallTool.printTimeAndThread(throwable.getMessage());\n            SmallTool.printTimeAndThread(\"打出租车回家\");\n            return \"出租车到了\";\n        });\n        SmallTool.printTimeAndThread(String.format(\"%s,我上车了\",stringCompletableFuture.join()));\n    }\n\n```\n# 例子七\n**如果100路没来之前，就撞树上了，那么应该坐上200路公交**","source":"_posts/组件/CompletableFuture.md","raw":"---\ntitle: CompletableFuture常用记录\ndate: 2020-5-27 00:52:44\ncover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527005307.png\ntags:\n- 组件\n---\n\n# 工具类\n```java\npublic class SmallTool {\n\n    public static void  sleepMillis(Integer millis){\n        try {\n            Thread.sleep(millis);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void printTimeAndThread(String  tag){\n        String result = new StringJoiner(\"\\t|\\t\")\n                .add(String.valueOf(System.currentTimeMillis()))\n                .add(String.valueOf(Thread.currentThread().getId()))\n                .add(Thread.currentThread().getName())\n                .add(tag)\n                .toString();\n        System.out.println(result);\n    }\n}\n\n```\n# 例子一\n```java\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"我进了饭堂\");\n        SmallTool.printTimeAndThread(\"我点了滑鸡饭\");\n        // supplyAsync是java的函数式编程接口，叫提供者者，\n        // 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"厨师炒菜\");\n            SmallTool.sleepMillis(200);\n            SmallTool.printTimeAndThread(\"厨师打饭\");\n            SmallTool.sleepMillis(100);\n            return \"滑鸡 + 饭 好了\";\n        });\n        SmallTool.printTimeAndThread(\"我在打王者\");\n        // join等待任务执行结束，返回任务结果\n        SmallTool.printTimeAndThread(String.format(\"%s,小白开吃\",stringCompletableFuture.join()));\n    }\n\n```\n输出结果\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527011927.png)\n# 例子二\n一般来说，打饭这件事情是服务员干的\n```java\n\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"我进了饭堂\");\n        SmallTool.printTimeAndThread(\"我点了滑鸡饭\");\n        // supplyAsync是java的函数式编程接口，叫提供者者，\n        // 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"厨师炒菜\");\n            SmallTool.sleepMillis(200);\n            return \"滑鸡\";\n            // thenCompose要求我们传入一个Function接口，传入参数T，经过转换后返回R\n            // 将前面任务的结果返回给下一个任务\n        }).thenCompose(s -> CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"服务员打饭\");\n            SmallTool.sleepMillis(100);\n            return s+\"米饭\";\n        }));\n        SmallTool.printTimeAndThread(\"我在打王者\");\n        // join等待任务执行结束，返回任务结果\n        SmallTool.printTimeAndThread(String.format(\"%s,小白开吃\",stringCompletableFuture.join()));\n    }\n```\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527012705.png)\n# 例子三\n服务员还没做饭，要求厨师炒菜的时候，服务员同时蒸饭,要求炒菜和蒸饭同时返回，才能执行炒菜\n```java\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"我进了饭堂\");\n        SmallTool.printTimeAndThread(\"我点了滑鸡饭\");\n        // supplyAsync是java的函数式编程接口，叫提供者者，\n        // 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"厨师炒菜\");\n            SmallTool.sleepMillis(200);\n            return \"滑鸡\";\n        }).thenCombine(CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"服务员蒸饭\");\n            SmallTool.sleepMillis(300);\n            return \"米饭\";\n        }),(s, s2) -> {\n            SmallTool.printTimeAndThread(\"服务员打饭\");\n            SmallTool.sleepMillis(100);\n            return String.format(\"%s+%s 好了\",s,s2);\n        });\n        SmallTool.printTimeAndThread(\"我在打王者\");\n        // join等待任务执行结束，返回任务结果\n        SmallTool.printTimeAndThread(String.format(\"%s,小白开吃\",stringCompletableFuture.join()));\n    }\n}\n```\n# 三个例子的基本模型\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527013220.png)\n\n# 例子四\n**我吃完了，准备结账，要求开发票，服务员收款后，要求另一个人开发票，开发票的同时，接到电话，拿到发票，回家养猪**\n使用thenCompose也能执行\n```java\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"我吃完了\");\n        SmallTool.printTimeAndThread(\"结账，并且要求开发票\");\n\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"服务员收款 500元\");\n            SmallTool.sleepMillis(100);\n            return \"500\";\n        }).thenApplyAsync(s -> {\n            SmallTool.printTimeAndThread(String.format(\"服务员开发票中 面额 %s元\", s));\n            SmallTool.sleepMillis(200);\n            return String.format(\"%s元发票\", s);\n        });\n        SmallTool.printTimeAndThread(\"我接到电话\");\n        SmallTool.printTimeAndThread(String.format(\"我拿到%s,准备回家\",stringCompletableFuture.join()));\n    }\n\n```\n# 例子五\n我等车，等100路或200路公交都能到家，谁先来上谁\n```java\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"来到公交站\");\n        SmallTool.printTimeAndThread(\"等待100或200路公交\");\n\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"等待100路公交车\");\n            SmallTool.sleepMillis(100);\n            return \"100路来了\";\n        }).applyToEither(CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"等待200路公交\");\n            SmallTool.sleepMillis(200);\n            return \"200路来了\";\n        }),s -> s);\n        SmallTool.printTimeAndThread(String.format(\"%s,我上车了\",stringCompletableFuture.join()));\n    }\n```\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527015316.png)\n# 例子六\n**我坐在车上,司机撞树上了，只能打车回家了**\n```java\n    public static void main(String[] args) {\n        SmallTool.printTimeAndThread(\"来到公交站\");\n        SmallTool.printTimeAndThread(\"等待100或200路公交\");\n\n        CompletableFuture<String> stringCompletableFuture = CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"等待100路公交车\");\n            SmallTool.sleepMillis(100);\n            return \"100路来了\";\n        }).applyToEither(CompletableFuture.supplyAsync(() -> {\n            SmallTool.printTimeAndThread(\"等待200路公交\");\n            SmallTool.sleepMillis(200);\n            return \"200路来了\";\n        }),s -> {\n            SmallTool.printTimeAndThread(s);\n            if (s.startsWith(\"100\")){\n                throw new RuntimeException(\"撞树上了\");\n            }\n            return s;\n        }).exceptionally(throwable -> {\n            SmallTool.printTimeAndThread(throwable.getMessage());\n            SmallTool.printTimeAndThread(\"打出租车回家\");\n            return \"出租车到了\";\n        });\n        SmallTool.printTimeAndThread(String.format(\"%s,我上车了\",stringCompletableFuture.join()));\n    }\n\n```\n# 例子七\n**如果100路没来之前，就撞树上了，那么应该坐上200路公交**","slug":"组件/CompletableFuture","published":1,"updated":"2022-06-10T10:11:19.728Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1kk000hys2mf3w7h1ul","content":"<h1 id=\"工具类\"><a href=\"#工具类\" class=\"headerlink\" title=\"工具类\"></a>工具类</h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SmallTool</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span>  <span class=\"title\">sleepMillis</span><span class=\"params\">(Integer millis)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            Thread.sleep(millis);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">printTimeAndThread</span><span class=\"params\">(String  tag)</span></span>&#123;</span><br><span class=\"line\">        String result = <span class=\"keyword\">new</span> StringJoiner(<span class=\"string\">&quot;\\t|\\t&quot;</span>)</span><br><span class=\"line\">                .add(String.valueOf(System.currentTimeMillis()))</span><br><span class=\"line\">                .add(String.valueOf(Thread.currentThread().getId()))</span><br><span class=\"line\">                .add(Thread.currentThread().getName())</span><br><span class=\"line\">                .add(tag)</span><br><span class=\"line\">                .toString();</span><br><span class=\"line\">        System.out.println(result);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"例子一\"><a href=\"#例子一\" class=\"headerlink\" title=\"例子一\"></a>例子一</h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我进了饭堂&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我点了滑鸡饭&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// supplyAsync是java的函数式编程接口，叫提供者者，</span></span><br><span class=\"line\">    <span class=\"comment\">// 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String</span></span><br><span class=\"line\">    CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;厨师炒菜&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;厨师打饭&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;滑鸡 + 饭 好了&quot;</span>;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我在打王者&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// join等待任务执行结束，返回任务结果</span></span><br><span class=\"line\">    SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;%s,小白开吃&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>输出结果<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527011927.png\"></p>\n<h1 id=\"例子二\"><a href=\"#例子二\" class=\"headerlink\" title=\"例子二\"></a>例子二</h1><p>一般来说，打饭这件事情是服务员干的</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我进了饭堂&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我点了滑鸡饭&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// supplyAsync是java的函数式编程接口，叫提供者者，</span></span><br><span class=\"line\">    <span class=\"comment\">// 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String</span></span><br><span class=\"line\">    CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;厨师炒菜&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;滑鸡&quot;</span>;</span><br><span class=\"line\">        <span class=\"comment\">// thenCompose要求我们传入一个Function接口，传入参数T，经过转换后返回R</span></span><br><span class=\"line\">        <span class=\"comment\">// 将前面任务的结果返回给下一个任务</span></span><br><span class=\"line\">    &#125;).thenCompose(s -&gt; CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;服务员打饭&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s+<span class=\"string\">&quot;米饭&quot;</span>;</span><br><span class=\"line\">    &#125;));</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我在打王者&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// join等待任务执行结束，返回任务结果</span></span><br><span class=\"line\">    SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;%s,小白开吃&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527012705.png\"></p>\n<h1 id=\"例子三\"><a href=\"#例子三\" class=\"headerlink\" title=\"例子三\"></a>例子三</h1><p>服务员还没做饭，要求厨师炒菜的时候，服务员同时蒸饭,要求炒菜和蒸饭同时返回，才能执行炒菜</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;我进了饭堂&quot;</span>);</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;我点了滑鸡饭&quot;</span>);</span><br><span class=\"line\">        <span class=\"comment\">// supplyAsync是java的函数式编程接口，叫提供者者，</span></span><br><span class=\"line\">        <span class=\"comment\">// 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String</span></span><br><span class=\"line\">        CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">            SmallTool.printTimeAndThread(<span class=\"string\">&quot;厨师炒菜&quot;</span>);</span><br><span class=\"line\">            SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">&quot;滑鸡&quot;</span>;</span><br><span class=\"line\">        &#125;).thenCombine(CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">            SmallTool.printTimeAndThread(<span class=\"string\">&quot;服务员蒸饭&quot;</span>);</span><br><span class=\"line\">            SmallTool.sleepMillis(<span class=\"number\">300</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">&quot;米饭&quot;</span>;</span><br><span class=\"line\">        &#125;),(s, s2) -&gt; &#123;</span><br><span class=\"line\">            SmallTool.printTimeAndThread(<span class=\"string\">&quot;服务员打饭&quot;</span>);</span><br><span class=\"line\">            SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> String.format(<span class=\"string\">&quot;%s+%s 好了&quot;</span>,s,s2);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;我在打王者&quot;</span>);</span><br><span class=\"line\">        <span class=\"comment\">// join等待任务执行结束，返回任务结果</span></span><br><span class=\"line\">        SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;%s,小白开吃&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"三个例子的基本模型\"><a href=\"#三个例子的基本模型\" class=\"headerlink\" title=\"三个例子的基本模型\"></a>三个例子的基本模型</h1><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527013220.png\"></p>\n<h1 id=\"例子四\"><a href=\"#例子四\" class=\"headerlink\" title=\"例子四\"></a>例子四</h1><p><strong>我吃完了，准备结账，要求开发票，服务员收款后，要求另一个人开发票，开发票的同时，接到电话，拿到发票，回家养猪</strong><br>使用thenCompose也能执行</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我吃完了&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;结账，并且要求开发票&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;服务员收款 500元&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;500&quot;</span>;</span><br><span class=\"line\">    &#125;).thenApplyAsync(s -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;服务员开发票中 面额 %s元&quot;</span>, s));</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> String.format(<span class=\"string\">&quot;%s元发票&quot;</span>, s);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我接到电话&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;我拿到%s,准备回家&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"例子五\"><a href=\"#例子五\" class=\"headerlink\" title=\"例子五\"></a>例子五</h1><p>我等车，等100路或200路公交都能到家，谁先来上谁</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;来到公交站&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待100或200路公交&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待100路公交车&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;100路来了&quot;</span>;</span><br><span class=\"line\">    &#125;).applyToEither(CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待200路公交&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;200路来了&quot;</span>;</span><br><span class=\"line\">    &#125;),s -&gt; s);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;%s,我上车了&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527015316.png\"></p>\n<h1 id=\"例子六\"><a href=\"#例子六\" class=\"headerlink\" title=\"例子六\"></a>例子六</h1><p><strong>我坐在车上,司机撞树上了，只能打车回家了</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;来到公交站&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待100或200路公交&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待100路公交车&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;100路来了&quot;</span>;</span><br><span class=\"line\">    &#125;).applyToEither(CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待200路公交&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;200路来了&quot;</span>;</span><br><span class=\"line\">    &#125;),s -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(s);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s.startsWith(<span class=\"string\">&quot;100&quot;</span>))&#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(<span class=\"string\">&quot;撞树上了&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">    &#125;).exceptionally(throwable -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(throwable.getMessage());</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;打出租车回家&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;出租车到了&quot;</span>;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;%s,我上车了&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"例子七\"><a href=\"#例子七\" class=\"headerlink\" title=\"例子七\"></a>例子七</h1><p><strong>如果100路没来之前，就撞树上了，那么应该坐上200路公交</strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"工具类\"><a href=\"#工具类\" class=\"headerlink\" title=\"工具类\"></a>工具类</h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SmallTool</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span>  <span class=\"title\">sleepMillis</span><span class=\"params\">(Integer millis)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            Thread.sleep(millis);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">printTimeAndThread</span><span class=\"params\">(String  tag)</span></span>&#123;</span><br><span class=\"line\">        String result = <span class=\"keyword\">new</span> StringJoiner(<span class=\"string\">&quot;\\t|\\t&quot;</span>)</span><br><span class=\"line\">                .add(String.valueOf(System.currentTimeMillis()))</span><br><span class=\"line\">                .add(String.valueOf(Thread.currentThread().getId()))</span><br><span class=\"line\">                .add(Thread.currentThread().getName())</span><br><span class=\"line\">                .add(tag)</span><br><span class=\"line\">                .toString();</span><br><span class=\"line\">        System.out.println(result);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"例子一\"><a href=\"#例子一\" class=\"headerlink\" title=\"例子一\"></a>例子一</h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我进了饭堂&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我点了滑鸡饭&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// supplyAsync是java的函数式编程接口，叫提供者者，</span></span><br><span class=\"line\">    <span class=\"comment\">// 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String</span></span><br><span class=\"line\">    CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;厨师炒菜&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;厨师打饭&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;滑鸡 + 饭 好了&quot;</span>;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我在打王者&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// join等待任务执行结束，返回任务结果</span></span><br><span class=\"line\">    SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;%s,小白开吃&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>输出结果<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527011927.png\"></p>\n<h1 id=\"例子二\"><a href=\"#例子二\" class=\"headerlink\" title=\"例子二\"></a>例子二</h1><p>一般来说，打饭这件事情是服务员干的</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我进了饭堂&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我点了滑鸡饭&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// supplyAsync是java的函数式编程接口，叫提供者者，</span></span><br><span class=\"line\">    <span class=\"comment\">// 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String</span></span><br><span class=\"line\">    CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;厨师炒菜&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;滑鸡&quot;</span>;</span><br><span class=\"line\">        <span class=\"comment\">// thenCompose要求我们传入一个Function接口，传入参数T，经过转换后返回R</span></span><br><span class=\"line\">        <span class=\"comment\">// 将前面任务的结果返回给下一个任务</span></span><br><span class=\"line\">    &#125;).thenCompose(s -&gt; CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;服务员打饭&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s+<span class=\"string\">&quot;米饭&quot;</span>;</span><br><span class=\"line\">    &#125;));</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我在打王者&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// join等待任务执行结束，返回任务结果</span></span><br><span class=\"line\">    SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;%s,小白开吃&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527012705.png\"></p>\n<h1 id=\"例子三\"><a href=\"#例子三\" class=\"headerlink\" title=\"例子三\"></a>例子三</h1><p>服务员还没做饭，要求厨师炒菜的时候，服务员同时蒸饭,要求炒菜和蒸饭同时返回，才能执行炒菜</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;我进了饭堂&quot;</span>);</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;我点了滑鸡饭&quot;</span>);</span><br><span class=\"line\">        <span class=\"comment\">// supplyAsync是java的函数式编程接口，叫提供者者，</span></span><br><span class=\"line\">        <span class=\"comment\">// 没有入参，只有一个返回值,因为我们返回了字符串，所以CompletableFuture的泛型是String</span></span><br><span class=\"line\">        CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">            SmallTool.printTimeAndThread(<span class=\"string\">&quot;厨师炒菜&quot;</span>);</span><br><span class=\"line\">            SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">&quot;滑鸡&quot;</span>;</span><br><span class=\"line\">        &#125;).thenCombine(CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">            SmallTool.printTimeAndThread(<span class=\"string\">&quot;服务员蒸饭&quot;</span>);</span><br><span class=\"line\">            SmallTool.sleepMillis(<span class=\"number\">300</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">&quot;米饭&quot;</span>;</span><br><span class=\"line\">        &#125;),(s, s2) -&gt; &#123;</span><br><span class=\"line\">            SmallTool.printTimeAndThread(<span class=\"string\">&quot;服务员打饭&quot;</span>);</span><br><span class=\"line\">            SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> String.format(<span class=\"string\">&quot;%s+%s 好了&quot;</span>,s,s2);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;我在打王者&quot;</span>);</span><br><span class=\"line\">        <span class=\"comment\">// join等待任务执行结束，返回任务结果</span></span><br><span class=\"line\">        SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;%s,小白开吃&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"三个例子的基本模型\"><a href=\"#三个例子的基本模型\" class=\"headerlink\" title=\"三个例子的基本模型\"></a>三个例子的基本模型</h1><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527013220.png\"></p>\n<h1 id=\"例子四\"><a href=\"#例子四\" class=\"headerlink\" title=\"例子四\"></a>例子四</h1><p><strong>我吃完了，准备结账，要求开发票，服务员收款后，要求另一个人开发票，开发票的同时，接到电话，拿到发票，回家养猪</strong><br>使用thenCompose也能执行</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我吃完了&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;结账，并且要求开发票&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;服务员收款 500元&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;500&quot;</span>;</span><br><span class=\"line\">    &#125;).thenApplyAsync(s -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;服务员开发票中 面额 %s元&quot;</span>, s));</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> String.format(<span class=\"string\">&quot;%s元发票&quot;</span>, s);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;我接到电话&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;我拿到%s,准备回家&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"例子五\"><a href=\"#例子五\" class=\"headerlink\" title=\"例子五\"></a>例子五</h1><p>我等车，等100路或200路公交都能到家，谁先来上谁</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;来到公交站&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待100或200路公交&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待100路公交车&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;100路来了&quot;</span>;</span><br><span class=\"line\">    &#125;).applyToEither(CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待200路公交&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;200路来了&quot;</span>;</span><br><span class=\"line\">    &#125;),s -&gt; s);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;%s,我上车了&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527015316.png\"></p>\n<h1 id=\"例子六\"><a href=\"#例子六\" class=\"headerlink\" title=\"例子六\"></a>例子六</h1><p><strong>我坐在车上,司机撞树上了，只能打车回家了</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;来到公交站&quot;</span>);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待100或200路公交&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    CompletableFuture&lt;String&gt; stringCompletableFuture = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待100路公交车&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">100</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;100路来了&quot;</span>;</span><br><span class=\"line\">    &#125;).applyToEither(CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;等待200路公交&quot;</span>);</span><br><span class=\"line\">        SmallTool.sleepMillis(<span class=\"number\">200</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;200路来了&quot;</span>;</span><br><span class=\"line\">    &#125;),s -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(s);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s.startsWith(<span class=\"string\">&quot;100&quot;</span>))&#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(<span class=\"string\">&quot;撞树上了&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">    &#125;).exceptionally(throwable -&gt; &#123;</span><br><span class=\"line\">        SmallTool.printTimeAndThread(throwable.getMessage());</span><br><span class=\"line\">        SmallTool.printTimeAndThread(<span class=\"string\">&quot;打出租车回家&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;出租车到了&quot;</span>;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    SmallTool.printTimeAndThread(String.format(<span class=\"string\">&quot;%s,我上车了&quot;</span>,stringCompletableFuture.join()));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"例子七\"><a href=\"#例子七\" class=\"headerlink\" title=\"例子七\"></a>例子七</h1><p><strong>如果100路没来之前，就撞树上了，那么应该坐上200路公交</strong></p>\n"},{"title":"EasyExcel","date":"2020-05-24T16:50:54.000Z","cover":"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220525005115.png","_content":"\n# Apache POI\n> 有SAX模式和Dom模式解析，\nDom是一次性读取，容易造成内存溢出\nSAX模式相对比较复杂，在Excel03和07版本，数据存储的方式截然不同，sax解析方式也不同\n> 一个3M的Excel依然需要100M的内存\n\n## userModel模式\n> 大部分使用POI都是使用userModel模式，随便拷贝个代码就能用，但是转换要几百行代码，\n而且十分消耗内存，在并发情况下，会造成OOM和频繁的full gc\n\n# EasyExcel的改进\n## 重写了POI对07版本的Excel解析\n> 把内存消耗从100m降到了10m左右，并且再大的Excel也不会出现内存溢出，但是03版依然依赖于SAX模式","source":"_posts/组件/EasyExcel.md","raw":"---\ntitle: EasyExcel\ndate: 2020-5-25 00:50:54\ncover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220525005115.png\ntags:\n- 组件\n---\n\n# Apache POI\n> 有SAX模式和Dom模式解析，\nDom是一次性读取，容易造成内存溢出\nSAX模式相对比较复杂，在Excel03和07版本，数据存储的方式截然不同，sax解析方式也不同\n> 一个3M的Excel依然需要100M的内存\n\n## userModel模式\n> 大部分使用POI都是使用userModel模式，随便拷贝个代码就能用，但是转换要几百行代码，\n而且十分消耗内存，在并发情况下，会造成OOM和频繁的full gc\n\n# EasyExcel的改进\n## 重写了POI对07版本的Excel解析\n> 把内存消耗从100m降到了10m左右，并且再大的Excel也不会出现内存溢出，但是03版依然依赖于SAX模式","slug":"组件/EasyExcel","published":1,"updated":"2022-06-10T10:11:19.728Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1kl000jys2mf8ch0git","content":"<h1 id=\"Apache-POI\"><a href=\"#Apache-POI\" class=\"headerlink\" title=\"Apache POI\"></a>Apache POI</h1><blockquote>\n<p>有SAX模式和Dom模式解析，<br>Dom是一次性读取，容易造成内存溢出<br>SAX模式相对比较复杂，在Excel03和07版本，数据存储的方式截然不同，sax解析方式也不同<br>一个3M的Excel依然需要100M的内存</p>\n</blockquote>\n<h2 id=\"userModel模式\"><a href=\"#userModel模式\" class=\"headerlink\" title=\"userModel模式\"></a>userModel模式</h2><blockquote>\n<p>大部分使用POI都是使用userModel模式，随便拷贝个代码就能用，但是转换要几百行代码，<br>而且十分消耗内存，在并发情况下，会造成OOM和频繁的full gc</p>\n</blockquote>\n<h1 id=\"EasyExcel的改进\"><a href=\"#EasyExcel的改进\" class=\"headerlink\" title=\"EasyExcel的改进\"></a>EasyExcel的改进</h1><h2 id=\"重写了POI对07版本的Excel解析\"><a href=\"#重写了POI对07版本的Excel解析\" class=\"headerlink\" title=\"重写了POI对07版本的Excel解析\"></a>重写了POI对07版本的Excel解析</h2><blockquote>\n<p>把内存消耗从100m降到了10m左右，并且再大的Excel也不会出现内存溢出，但是03版依然依赖于SAX模式</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"Apache-POI\"><a href=\"#Apache-POI\" class=\"headerlink\" title=\"Apache POI\"></a>Apache POI</h1><blockquote>\n<p>有SAX模式和Dom模式解析，<br>Dom是一次性读取，容易造成内存溢出<br>SAX模式相对比较复杂，在Excel03和07版本，数据存储的方式截然不同，sax解析方式也不同<br>一个3M的Excel依然需要100M的内存</p>\n</blockquote>\n<h2 id=\"userModel模式\"><a href=\"#userModel模式\" class=\"headerlink\" title=\"userModel模式\"></a>userModel模式</h2><blockquote>\n<p>大部分使用POI都是使用userModel模式，随便拷贝个代码就能用，但是转换要几百行代码，<br>而且十分消耗内存，在并发情况下，会造成OOM和频繁的full gc</p>\n</blockquote>\n<h1 id=\"EasyExcel的改进\"><a href=\"#EasyExcel的改进\" class=\"headerlink\" title=\"EasyExcel的改进\"></a>EasyExcel的改进</h1><h2 id=\"重写了POI对07版本的Excel解析\"><a href=\"#重写了POI对07版本的Excel解析\" class=\"headerlink\" title=\"重写了POI对07版本的Excel解析\"></a>重写了POI对07版本的Excel解析</h2><blockquote>\n<p>把内存消耗从100m降到了10m左右，并且再大的Excel也不会出现内存溢出，但是03版依然依赖于SAX模式</p>\n</blockquote>\n"},{"title":"FastJson","date":"2020-05-20T15:28:06.000Z","cover":"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220523232857.png","_content":"# 什么是json\n**json是数据交换语言**\n# Json数据格式\n两种数据格式，对象与数组(List集合和Map集合不同)\n# TypeReference\n转换Map的过程中，不能设置泛型，没有泛型是不安全的，使用TypeReference，传入转后的Map集合\n结尾加上{},传入空的匿名内部类，因为TypeReference是protected修饰的构造方法，匿名内部类就是子类的内部对象\n```java\nMap<String,Student> map = JSON.parseObject(jsonString,new TypeReference<Map<String,Student>>(){});\n```\n# SerializerFeature \n进行序列化时，定制自己的需求的枚举\n\n## 设置空值为null\nfastJson序列化的时候，空值是不会序列化的\n```java\n Student student = new Student();\n        student.setId(\"1\");\n        student.setName(\"张三\");\n        student.setAge(null);\n        // 将student对象转换成Json字符串\n        String s = JSON.toJSONString(student, SerializerFeature.WriteMapNullValue);\n        System.out.println(s);\n```\n输出\n```json\n{\"age\":null,\"id\":\"1\",\"name\":\"张三\"}\n```\n## 设置空字段为双引\n```java\n        String s = JSON.toJSONString(student, SerializerFeature.WriteNullStringAsEmpty);\n```\n```json\n{\"age\":\"\",\"id\":\"1\",\"name\":\"张三\"}\n```\n## 设置空布尔为false\n```java\n        student.setIsStudent(null);\n        String s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse);\n\n```\n```json\n{\"age\":null,\"id\":\"1\",\"isStudent\":false,\"name\":\"张三\"}\n```\n\n## 格式化日期\n```java\nstudent.setBirthday(new Date());\nString s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse);\n```\n```json\n{\"age\":null,\"birthday\":1653325416158,\"id\":\"1\",\"isStudent\":false,\"name\":\"张三\"}\n```\n添加格式化\n```java\n        String s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse,SerializerFeature.WriteDateUseDateFormat);\n        System.out.println(s);\n```\n\n```json\n{\"age\":null,\"birthday\":\"2022-05-24 01:06:39\",\"id\":\"1\",\"isStudent\":false,\"name\":\"张三\"}\n```\n\n## 格式化输出\n```java\nString s = JSON.toJSONString(student, SerializerFeature.PrettyFormat,SerializerFeature.WriteDateUseDateFormat);\n        System.out.println(s);\n```\n```json\n{\n\t\"birthday\":\"2022-05-24 01:13:18\",\n\t\"id\":\"1\",\n\t\"name\":\"张三\"\n}\n```\n\n# JSONField\n## name\n```java\n    // name 指定序列化后的名字，\n@JSONField(name = \"studentName\")\nprivate String name;\n```\n```json\n{\n\t\"birthday\":\"2022-05-24 01:16:59\",\n\t\"id\":\"1\",\n\t\"studentName\":\"张三\"\n}\n```\n## ordinal\n```java\n    // 指定序列化后的顺序，值越小，越靠前\n    @JSONField(ordinal = 2)\n    private String age;\n```\n## format\n```java\n    @JSONField(format = \"YYYY-MM-dd\")\n    private Date birthday;\n```\n```json\n{\n\t\"birthday\":\"2022-22-24\",\n\t\"id\":\"1\",\n\t\"name\":\"张三\"\n}\n```\n## serialize\n该字段是否被序列化，默认true\n```java\n    @JSONField(serialize = false)\n    private String name;\n```\n```json\n{\n\t\"birthday\":\"2022-05-24\",\n\t\"id\":\"1\"\n}\n```\n## deserialize\n**在参与反序列化的过程中，这个字段不参与成为对象的一部分**\n```java\n    @JSONField(deserialize = false)\n    private String age;\n```\n\n\n\n\n\n\n","source":"_posts/组件/FastJson.md","raw":"---\ntitle: FastJson\ndate: 2020-5-20 23:28:06\ncover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220523232857.png\ntags:\n- 组件\n---\n# 什么是json\n**json是数据交换语言**\n# Json数据格式\n两种数据格式，对象与数组(List集合和Map集合不同)\n# TypeReference\n转换Map的过程中，不能设置泛型，没有泛型是不安全的，使用TypeReference，传入转后的Map集合\n结尾加上{},传入空的匿名内部类，因为TypeReference是protected修饰的构造方法，匿名内部类就是子类的内部对象\n```java\nMap<String,Student> map = JSON.parseObject(jsonString,new TypeReference<Map<String,Student>>(){});\n```\n# SerializerFeature \n进行序列化时，定制自己的需求的枚举\n\n## 设置空值为null\nfastJson序列化的时候，空值是不会序列化的\n```java\n Student student = new Student();\n        student.setId(\"1\");\n        student.setName(\"张三\");\n        student.setAge(null);\n        // 将student对象转换成Json字符串\n        String s = JSON.toJSONString(student, SerializerFeature.WriteMapNullValue);\n        System.out.println(s);\n```\n输出\n```json\n{\"age\":null,\"id\":\"1\",\"name\":\"张三\"}\n```\n## 设置空字段为双引\n```java\n        String s = JSON.toJSONString(student, SerializerFeature.WriteNullStringAsEmpty);\n```\n```json\n{\"age\":\"\",\"id\":\"1\",\"name\":\"张三\"}\n```\n## 设置空布尔为false\n```java\n        student.setIsStudent(null);\n        String s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse);\n\n```\n```json\n{\"age\":null,\"id\":\"1\",\"isStudent\":false,\"name\":\"张三\"}\n```\n\n## 格式化日期\n```java\nstudent.setBirthday(new Date());\nString s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse);\n```\n```json\n{\"age\":null,\"birthday\":1653325416158,\"id\":\"1\",\"isStudent\":false,\"name\":\"张三\"}\n```\n添加格式化\n```java\n        String s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse,SerializerFeature.WriteDateUseDateFormat);\n        System.out.println(s);\n```\n\n```json\n{\"age\":null,\"birthday\":\"2022-05-24 01:06:39\",\"id\":\"1\",\"isStudent\":false,\"name\":\"张三\"}\n```\n\n## 格式化输出\n```java\nString s = JSON.toJSONString(student, SerializerFeature.PrettyFormat,SerializerFeature.WriteDateUseDateFormat);\n        System.out.println(s);\n```\n```json\n{\n\t\"birthday\":\"2022-05-24 01:13:18\",\n\t\"id\":\"1\",\n\t\"name\":\"张三\"\n}\n```\n\n# JSONField\n## name\n```java\n    // name 指定序列化后的名字，\n@JSONField(name = \"studentName\")\nprivate String name;\n```\n```json\n{\n\t\"birthday\":\"2022-05-24 01:16:59\",\n\t\"id\":\"1\",\n\t\"studentName\":\"张三\"\n}\n```\n## ordinal\n```java\n    // 指定序列化后的顺序，值越小，越靠前\n    @JSONField(ordinal = 2)\n    private String age;\n```\n## format\n```java\n    @JSONField(format = \"YYYY-MM-dd\")\n    private Date birthday;\n```\n```json\n{\n\t\"birthday\":\"2022-22-24\",\n\t\"id\":\"1\",\n\t\"name\":\"张三\"\n}\n```\n## serialize\n该字段是否被序列化，默认true\n```java\n    @JSONField(serialize = false)\n    private String name;\n```\n```json\n{\n\t\"birthday\":\"2022-05-24\",\n\t\"id\":\"1\"\n}\n```\n## deserialize\n**在参与反序列化的过程中，这个字段不参与成为对象的一部分**\n```java\n    @JSONField(deserialize = false)\n    private String age;\n```\n\n\n\n\n\n\n","slug":"组件/FastJson","published":1,"updated":"2022-05-30T03:05:17.170Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1kl000lys2m6c54ghww","content":"<h1 id=\"什么是json\"><a href=\"#什么是json\" class=\"headerlink\" title=\"什么是json\"></a>什么是json</h1><p><strong>json是数据交换语言</strong></p>\n<h1 id=\"Json数据格式\"><a href=\"#Json数据格式\" class=\"headerlink\" title=\"Json数据格式\"></a>Json数据格式</h1><p>两种数据格式，对象与数组(List集合和Map集合不同)</p>\n<h1 id=\"TypeReference\"><a href=\"#TypeReference\" class=\"headerlink\" title=\"TypeReference\"></a>TypeReference</h1><p>转换Map的过程中，不能设置泛型，没有泛型是不安全的，使用TypeReference，传入转后的Map集合<br>结尾加上{},传入空的匿名内部类，因为TypeReference是protected修饰的构造方法，匿名内部类就是子类的内部对象</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Map&lt;String,Student&gt; map = JSON.parseObject(jsonString,<span class=\"keyword\">new</span> TypeReference&lt;Map&lt;String,Student&gt;&gt;()&#123;&#125;);</span><br></pre></td></tr></table></figure>\n<h1 id=\"SerializerFeature\"><a href=\"#SerializerFeature\" class=\"headerlink\" title=\"SerializerFeature\"></a>SerializerFeature</h1><p>进行序列化时，定制自己的需求的枚举</p>\n<h2 id=\"设置空值为null\"><a href=\"#设置空值为null\" class=\"headerlink\" title=\"设置空值为null\"></a>设置空值为null</h2><p>fastJson序列化的时候，空值是不会序列化的</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Student student = <span class=\"keyword\">new</span> Student();</span><br><span class=\"line\">       student.setId(<span class=\"string\">&quot;1&quot;</span>);</span><br><span class=\"line\">       student.setName(<span class=\"string\">&quot;张三&quot;</span>);</span><br><span class=\"line\">       student.setAge(<span class=\"keyword\">null</span>);</span><br><span class=\"line\">       <span class=\"comment\">// 将student对象转换成Json字符串</span></span><br><span class=\"line\">       String s = JSON.toJSONString(student, SerializerFeature.WriteMapNullValue);</span><br><span class=\"line\">       System.out.println(s);</span><br></pre></td></tr></table></figure>\n<p>输出</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">&quot;age&quot;</span>:<span class=\"literal\">null</span>,<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span>&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"设置空字段为双引\"><a href=\"#设置空字段为双引\" class=\"headerlink\" title=\"设置空字段为双引\"></a>设置空字段为双引</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String s = JSON.toJSONString(student, SerializerFeature.WriteNullStringAsEmpty);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">&quot;age&quot;</span>:<span class=\"string\">&quot;&quot;</span>,<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span>&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"设置空布尔为false\"><a href=\"#设置空布尔为false\" class=\"headerlink\" title=\"设置空布尔为false\"></a>设置空布尔为false</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">student.setIsStudent(<span class=\"keyword\">null</span>);</span><br><span class=\"line\">String s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">&quot;age&quot;</span>:<span class=\"literal\">null</span>,<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,<span class=\"attr\">&quot;isStudent&quot;</span>:<span class=\"literal\">false</span>,<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span>&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"格式化日期\"><a href=\"#格式化日期\" class=\"headerlink\" title=\"格式化日期\"></a>格式化日期</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">student.setBirthday(<span class=\"keyword\">new</span> Date());</span><br><span class=\"line\">String s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">&quot;age&quot;</span>:<span class=\"literal\">null</span>,<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"number\">1653325416158</span>,<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,<span class=\"attr\">&quot;isStudent&quot;</span>:<span class=\"literal\">false</span>,<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span>&#125;</span><br></pre></td></tr></table></figure>\n<p>添加格式化</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse,SerializerFeature.WriteDateUseDateFormat);</span><br><span class=\"line\">System.out.println(s);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">&quot;age&quot;</span>:<span class=\"literal\">null</span>,<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"string\">&quot;2022-05-24 01:06:39&quot;</span>,<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,<span class=\"attr\">&quot;isStudent&quot;</span>:<span class=\"literal\">false</span>,<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span>&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"格式化输出\"><a href=\"#格式化输出\" class=\"headerlink\" title=\"格式化输出\"></a>格式化输出</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String s = JSON.toJSONString(student, SerializerFeature.PrettyFormat,SerializerFeature.WriteDateUseDateFormat);</span><br><span class=\"line\">        System.out.println(s);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"string\">&quot;2022-05-24 01:13:18&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"JSONField\"><a href=\"#JSONField\" class=\"headerlink\" title=\"JSONField\"></a>JSONField</h1><h2 id=\"name\"><a href=\"#name\" class=\"headerlink\" title=\"name\"></a>name</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">// name 指定序列化后的名字，</span></span><br><span class=\"line\"><span class=\"meta\">@JSONField(name = &quot;studentName&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String name;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"string\">&quot;2022-05-24 01:16:59&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;studentName&quot;</span>:<span class=\"string\">&quot;张三&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"ordinal\"><a href=\"#ordinal\" class=\"headerlink\" title=\"ordinal\"></a>ordinal</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 指定序列化后的顺序，值越小，越靠前</span></span><br><span class=\"line\"><span class=\"meta\">@JSONField(ordinal = 2)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String age;</span><br></pre></td></tr></table></figure>\n<h2 id=\"format\"><a href=\"#format\" class=\"headerlink\" title=\"format\"></a>format</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@JSONField(format = &quot;YYYY-MM-dd&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> Date birthday;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"string\">&quot;2022-22-24&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"serialize\"><a href=\"#serialize\" class=\"headerlink\" title=\"serialize\"></a>serialize</h2><p>该字段是否被序列化，默认true</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@JSONField(serialize = false)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String name;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"string\">&quot;2022-05-24&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"deserialize\"><a href=\"#deserialize\" class=\"headerlink\" title=\"deserialize\"></a>deserialize</h2><p><strong>在参与反序列化的过程中，这个字段不参与成为对象的一部分</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@JSONField(deserialize = false)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String age;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"什么是json\"><a href=\"#什么是json\" class=\"headerlink\" title=\"什么是json\"></a>什么是json</h1><p><strong>json是数据交换语言</strong></p>\n<h1 id=\"Json数据格式\"><a href=\"#Json数据格式\" class=\"headerlink\" title=\"Json数据格式\"></a>Json数据格式</h1><p>两种数据格式，对象与数组(List集合和Map集合不同)</p>\n<h1 id=\"TypeReference\"><a href=\"#TypeReference\" class=\"headerlink\" title=\"TypeReference\"></a>TypeReference</h1><p>转换Map的过程中，不能设置泛型，没有泛型是不安全的，使用TypeReference，传入转后的Map集合<br>结尾加上{},传入空的匿名内部类，因为TypeReference是protected修饰的构造方法，匿名内部类就是子类的内部对象</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Map&lt;String,Student&gt; map = JSON.parseObject(jsonString,<span class=\"keyword\">new</span> TypeReference&lt;Map&lt;String,Student&gt;&gt;()&#123;&#125;);</span><br></pre></td></tr></table></figure>\n<h1 id=\"SerializerFeature\"><a href=\"#SerializerFeature\" class=\"headerlink\" title=\"SerializerFeature\"></a>SerializerFeature</h1><p>进行序列化时，定制自己的需求的枚举</p>\n<h2 id=\"设置空值为null\"><a href=\"#设置空值为null\" class=\"headerlink\" title=\"设置空值为null\"></a>设置空值为null</h2><p>fastJson序列化的时候，空值是不会序列化的</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Student student = <span class=\"keyword\">new</span> Student();</span><br><span class=\"line\">       student.setId(<span class=\"string\">&quot;1&quot;</span>);</span><br><span class=\"line\">       student.setName(<span class=\"string\">&quot;张三&quot;</span>);</span><br><span class=\"line\">       student.setAge(<span class=\"keyword\">null</span>);</span><br><span class=\"line\">       <span class=\"comment\">// 将student对象转换成Json字符串</span></span><br><span class=\"line\">       String s = JSON.toJSONString(student, SerializerFeature.WriteMapNullValue);</span><br><span class=\"line\">       System.out.println(s);</span><br></pre></td></tr></table></figure>\n<p>输出</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">&quot;age&quot;</span>:<span class=\"literal\">null</span>,<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span>&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"设置空字段为双引\"><a href=\"#设置空字段为双引\" class=\"headerlink\" title=\"设置空字段为双引\"></a>设置空字段为双引</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String s = JSON.toJSONString(student, SerializerFeature.WriteNullStringAsEmpty);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">&quot;age&quot;</span>:<span class=\"string\">&quot;&quot;</span>,<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span>&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"设置空布尔为false\"><a href=\"#设置空布尔为false\" class=\"headerlink\" title=\"设置空布尔为false\"></a>设置空布尔为false</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">student.setIsStudent(<span class=\"keyword\">null</span>);</span><br><span class=\"line\">String s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">&quot;age&quot;</span>:<span class=\"literal\">null</span>,<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,<span class=\"attr\">&quot;isStudent&quot;</span>:<span class=\"literal\">false</span>,<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span>&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"格式化日期\"><a href=\"#格式化日期\" class=\"headerlink\" title=\"格式化日期\"></a>格式化日期</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">student.setBirthday(<span class=\"keyword\">new</span> Date());</span><br><span class=\"line\">String s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">&quot;age&quot;</span>:<span class=\"literal\">null</span>,<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"number\">1653325416158</span>,<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,<span class=\"attr\">&quot;isStudent&quot;</span>:<span class=\"literal\">false</span>,<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span>&#125;</span><br></pre></td></tr></table></figure>\n<p>添加格式化</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String s = JSON.toJSONString(student, SerializerFeature.WriteNullBooleanAsFalse,SerializerFeature.WriteDateUseDateFormat);</span><br><span class=\"line\">System.out.println(s);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">&quot;age&quot;</span>:<span class=\"literal\">null</span>,<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"string\">&quot;2022-05-24 01:06:39&quot;</span>,<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,<span class=\"attr\">&quot;isStudent&quot;</span>:<span class=\"literal\">false</span>,<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span>&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"格式化输出\"><a href=\"#格式化输出\" class=\"headerlink\" title=\"格式化输出\"></a>格式化输出</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String s = JSON.toJSONString(student, SerializerFeature.PrettyFormat,SerializerFeature.WriteDateUseDateFormat);</span><br><span class=\"line\">        System.out.println(s);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"string\">&quot;2022-05-24 01:13:18&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"JSONField\"><a href=\"#JSONField\" class=\"headerlink\" title=\"JSONField\"></a>JSONField</h1><h2 id=\"name\"><a href=\"#name\" class=\"headerlink\" title=\"name\"></a>name</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">// name 指定序列化后的名字，</span></span><br><span class=\"line\"><span class=\"meta\">@JSONField(name = &quot;studentName&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String name;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"string\">&quot;2022-05-24 01:16:59&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;studentName&quot;</span>:<span class=\"string\">&quot;张三&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"ordinal\"><a href=\"#ordinal\" class=\"headerlink\" title=\"ordinal\"></a>ordinal</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 指定序列化后的顺序，值越小，越靠前</span></span><br><span class=\"line\"><span class=\"meta\">@JSONField(ordinal = 2)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String age;</span><br></pre></td></tr></table></figure>\n<h2 id=\"format\"><a href=\"#format\" class=\"headerlink\" title=\"format\"></a>format</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@JSONField(format = &quot;YYYY-MM-dd&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> Date birthday;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"string\">&quot;2022-22-24&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;name&quot;</span>:<span class=\"string\">&quot;张三&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"serialize\"><a href=\"#serialize\" class=\"headerlink\" title=\"serialize\"></a>serialize</h2><p>该字段是否被序列化，默认true</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@JSONField(serialize = false)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String name;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">&quot;birthday&quot;</span>:<span class=\"string\">&quot;2022-05-24&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">&quot;id&quot;</span>:<span class=\"string\">&quot;1&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"deserialize\"><a href=\"#deserialize\" class=\"headerlink\" title=\"deserialize\"></a>deserialize</h2><p><strong>在参与反序列化的过程中，这个字段不参与成为对象的一部分</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@JSONField(deserialize = false)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String age;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n"},{"title":"foreach批量插入","date":"2022-05-30T07:30:29.000Z","cover":"/img/1.png","_content":"```java\n@Test\npublic void testInsertBatch() throws Exception {\n    long start = System.currentTimeMillis();\n    List<User> list = new ArrayList<>();\n    User user;\n    for (int i = 0; i < 10000; i++) {\n        user = new User();\n        user.setId(\"test\" + i);\n        user.setName(\"name\" + i);\n        user.setDelFlag(\"0\");\n        list.add(user);\n    }\n    userService.insertBatch(list);\n    long end = System.currentTimeMillis();\n    System.out.println(\"---------------\" + (start - end) + \"---------------\");\n}\n```\n```java\n<insert id=\"insertBatch\">\n    INSERT INTO t_user\n            (id, name, del_flag)\n    VALUES\n    <foreach collection =\"list\" item=\"user\" separator =\",\">\n         (#{user.id}, #{user.name}, #{user.delFlag})\n    </foreach >\n</insert>\n```","source":"_posts/组件/foreach批量插入.md","raw":"---\ntitle: foreach批量插入\ndate: 2022-5-30 15:30:29\ncover: \ntags:\n- 组件\n---\n```java\n@Test\npublic void testInsertBatch() throws Exception {\n    long start = System.currentTimeMillis();\n    List<User> list = new ArrayList<>();\n    User user;\n    for (int i = 0; i < 10000; i++) {\n        user = new User();\n        user.setId(\"test\" + i);\n        user.setName(\"name\" + i);\n        user.setDelFlag(\"0\");\n        list.add(user);\n    }\n    userService.insertBatch(list);\n    long end = System.currentTimeMillis();\n    System.out.println(\"---------------\" + (start - end) + \"---------------\");\n}\n```\n```java\n<insert id=\"insertBatch\">\n    INSERT INTO t_user\n            (id, name, del_flag)\n    VALUES\n    <foreach collection =\"list\" item=\"user\" separator =\",\">\n         (#{user.id}, #{user.name}, #{user.delFlag})\n    </foreach >\n</insert>\n```","slug":"组件/foreach批量插入","published":1,"updated":"2022-05-30T07:30:35.020Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1km000nys2me0lk0bve","content":"<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testInsertBatch</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">long</span> start = System.currentTimeMillis();</span><br><span class=\"line\">    List&lt;User&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    User user;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10000</span>; i++) &#123;</span><br><span class=\"line\">        user = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">        user.setId(<span class=\"string\">&quot;test&quot;</span> + i);</span><br><span class=\"line\">        user.setName(<span class=\"string\">&quot;name&quot;</span> + i);</span><br><span class=\"line\">        user.setDelFlag(<span class=\"string\">&quot;0&quot;</span>);</span><br><span class=\"line\">        list.add(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    userService.insertBatch(list);</span><br><span class=\"line\">    <span class=\"keyword\">long</span> end = System.currentTimeMillis();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;---------------&quot;</span> + (start - end) + <span class=\"string\">&quot;---------------&quot;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;insert id=<span class=\"string\">&quot;insertBatch&quot;</span>&gt;</span><br><span class=\"line\">    <span class=\"function\">INSERT INTO <span class=\"title\">t_user</span></span></span><br><span class=\"line\"><span class=\"function\">            <span class=\"params\">(id, name, del_flag)</span></span></span><br><span class=\"line\"><span class=\"function\">    VALUES</span></span><br><span class=\"line\"><span class=\"function\">    &lt;foreach collection </span>=<span class=\"string\">&quot;list&quot;</span> item=<span class=\"string\">&quot;user&quot;</span> separator =<span class=\"string\">&quot;,&quot;</span>&gt;</span><br><span class=\"line\">         (#&#123;user.id&#125;, #&#123;user.name&#125;, #&#123;user.delFlag&#125;)</span><br><span class=\"line\">    &lt;/foreach &gt;</span><br><span class=\"line\">&lt;/insert&gt;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testInsertBatch</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">long</span> start = System.currentTimeMillis();</span><br><span class=\"line\">    List&lt;User&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    User user;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10000</span>; i++) &#123;</span><br><span class=\"line\">        user = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">        user.setId(<span class=\"string\">&quot;test&quot;</span> + i);</span><br><span class=\"line\">        user.setName(<span class=\"string\">&quot;name&quot;</span> + i);</span><br><span class=\"line\">        user.setDelFlag(<span class=\"string\">&quot;0&quot;</span>);</span><br><span class=\"line\">        list.add(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    userService.insertBatch(list);</span><br><span class=\"line\">    <span class=\"keyword\">long</span> end = System.currentTimeMillis();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;---------------&quot;</span> + (start - end) + <span class=\"string\">&quot;---------------&quot;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;insert id=<span class=\"string\">&quot;insertBatch&quot;</span>&gt;</span><br><span class=\"line\">    <span class=\"function\">INSERT INTO <span class=\"title\">t_user</span></span></span><br><span class=\"line\"><span class=\"function\">            <span class=\"params\">(id, name, del_flag)</span></span></span><br><span class=\"line\"><span class=\"function\">    VALUES</span></span><br><span class=\"line\"><span class=\"function\">    &lt;foreach collection </span>=<span class=\"string\">&quot;list&quot;</span> item=<span class=\"string\">&quot;user&quot;</span> separator =<span class=\"string\">&quot;,&quot;</span>&gt;</span><br><span class=\"line\">         (#&#123;user.id&#125;, #&#123;user.name&#125;, #&#123;user.delFlag&#125;)</span><br><span class=\"line\">    &lt;/foreach &gt;</span><br><span class=\"line\">&lt;/insert&gt;</span><br></pre></td></tr></table></figure>"},{"title":"StringJoiner类","date":"2020-05-26T17:02:04.000Z","cover":"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527010222.png","_content":"\n引言：在阅读项目代码是，突然看到了 StringJoiner 这个类的使用，感觉很有意思，对实际开发中也有用，实际上是运用了 StringBuilder 的一个拼接字符串的封装处理。\n\n## 介绍\nStringJoiner 是 Java8 新出的一个类，用于构造由分隔符分隔的字符序列，并可选择性地从提供的前缀开始和以提供的后缀结尾。省的我们开发人员再次通过 StringBuffer 或者 StingBuilder 拼接。\n我们查看一下一下代码，试着猜一下。\n\n```java\nStringJoiner sj = new StringJoiner(\":\", \"[\", \"]\");\nsj.add(\"George\").add(\"Sally\").add(\"Fred\");\nString desiredString = sj.toString();\n```\n代码输出为[George:Sally:Fred]\n\n## 源码\n```java\npackage java.util;\n\npublic final class StringJoiner {\n    private final String prefix;//前缀\n    private final String delimiter;//间隔符\n    private final String suffix;//后缀\n    private StringBuilder value;//值\n\n    private String emptyValue;//空值\n\n    public StringJoiner(CharSequence delimiter) {\n        this(delimiter, \"\", \"\");//默认前缀和后缀为\"\",重载调用\n    }\n\n    public StringJoiner(CharSequence delimiter,\n                        CharSequence prefix,\n                        CharSequence suffix) {\n        //间隔符，前缀和后缀判断是否为null，null将抛出异常\n        Objects.requireNonNull(prefix, \"The prefix must not be null\");\n        Objects.requireNonNull(delimiter, \"The delimiter must not be null\");\n        Objects.requireNonNull(suffix, \"The suffix must not be null\"); \n        // 成员变量赋值\n        this.prefix = prefix.toString();\n        this.delimiter = delimiter.toString();\n        this.suffix = suffix.toString();\n        this.emptyValue = this.prefix + this.suffix;//空值被设置为只有前后缀\n    }\n\t//设置空值，检查是否为null\n    public StringJoiner setEmptyValue(CharSequence emptyValue) {\n        this.emptyValue = Objects.requireNonNull(emptyValue,\n            \"The empty value must not be null\").toString();\n        return this;\n    }\n\n    @Override\n    public String toString() {\n        if (value == null) {\n            return emptyValue;//没有值将返回空值或者后续设置的空值\n        } else {\n            if (suffix.equals(\"\")) {\n                return value.toString();//后缀为\"\"直接返回字符串，不用添加\n            } else {\n\t            //后缀不为\"\"，添加后缀，然后直接返回字符串，修改长度\n                int initialLength = value.length();\n                String result = value.append(suffix).toString();\n                // reset value to pre-append initialLength\n                value.setLength(initialLength);\n                return result;\n            }\n        }\n    }\n    初始化，先添加前缀，有了之后每次先添加间隔符，StringBuilder后续append字符串\n    public StringJoiner add(CharSequence newElement) {\n        prepareBuilder().append(newElement);\n        return this;\n    }\n\t//合并StringJoiner，注意后面StringJoiner 的前缀就不要了，后面的appen进来\n    public StringJoiner merge(StringJoiner other) {\n        Objects.requireNonNull(other);\n        if (other.value != null) {\n            final int length = other.value.length();\n            // lock the length so that we can seize the data to be appended\n            // before initiate copying to avoid interference, especially when\n            // merge 'this'\n            StringBuilder builder = prepareBuilder();\n            builder.append(other.value, other.prefix.length(), length);\n        }\n        return this;\n    }\n\t//初始化，先添加前缀，有了之后每次先添加间隔符\n    private StringBuilder prepareBuilder() {\n        if (value != null) {\n            value.append(delimiter);\n        } else {\n            value = new StringBuilder().append(prefix);\n        }\n        return value;\n    }\n\n    public int length() {\n        // Remember that we never actually append the suffix unless we return\n        // the full (present) value or some sub-string or length of it, so that\n        // we can add on more if we need to.\n        //不忘添加后缀的长度\n        return (value != null ? value.length() + suffix.length() :\n                emptyValue.length());\n    }\n}\n```\n","source":"_posts/组件/StringJoiner类.md","raw":"---\ntitle: StringJoiner类\ndate: 2020-5-27 01:02:04\ncover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527010222.png\ntags:\n- 组件\n---\n\n引言：在阅读项目代码是，突然看到了 StringJoiner 这个类的使用，感觉很有意思，对实际开发中也有用，实际上是运用了 StringBuilder 的一个拼接字符串的封装处理。\n\n## 介绍\nStringJoiner 是 Java8 新出的一个类，用于构造由分隔符分隔的字符序列，并可选择性地从提供的前缀开始和以提供的后缀结尾。省的我们开发人员再次通过 StringBuffer 或者 StingBuilder 拼接。\n我们查看一下一下代码，试着猜一下。\n\n```java\nStringJoiner sj = new StringJoiner(\":\", \"[\", \"]\");\nsj.add(\"George\").add(\"Sally\").add(\"Fred\");\nString desiredString = sj.toString();\n```\n代码输出为[George:Sally:Fred]\n\n## 源码\n```java\npackage java.util;\n\npublic final class StringJoiner {\n    private final String prefix;//前缀\n    private final String delimiter;//间隔符\n    private final String suffix;//后缀\n    private StringBuilder value;//值\n\n    private String emptyValue;//空值\n\n    public StringJoiner(CharSequence delimiter) {\n        this(delimiter, \"\", \"\");//默认前缀和后缀为\"\",重载调用\n    }\n\n    public StringJoiner(CharSequence delimiter,\n                        CharSequence prefix,\n                        CharSequence suffix) {\n        //间隔符，前缀和后缀判断是否为null，null将抛出异常\n        Objects.requireNonNull(prefix, \"The prefix must not be null\");\n        Objects.requireNonNull(delimiter, \"The delimiter must not be null\");\n        Objects.requireNonNull(suffix, \"The suffix must not be null\"); \n        // 成员变量赋值\n        this.prefix = prefix.toString();\n        this.delimiter = delimiter.toString();\n        this.suffix = suffix.toString();\n        this.emptyValue = this.prefix + this.suffix;//空值被设置为只有前后缀\n    }\n\t//设置空值，检查是否为null\n    public StringJoiner setEmptyValue(CharSequence emptyValue) {\n        this.emptyValue = Objects.requireNonNull(emptyValue,\n            \"The empty value must not be null\").toString();\n        return this;\n    }\n\n    @Override\n    public String toString() {\n        if (value == null) {\n            return emptyValue;//没有值将返回空值或者后续设置的空值\n        } else {\n            if (suffix.equals(\"\")) {\n                return value.toString();//后缀为\"\"直接返回字符串，不用添加\n            } else {\n\t            //后缀不为\"\"，添加后缀，然后直接返回字符串，修改长度\n                int initialLength = value.length();\n                String result = value.append(suffix).toString();\n                // reset value to pre-append initialLength\n                value.setLength(initialLength);\n                return result;\n            }\n        }\n    }\n    初始化，先添加前缀，有了之后每次先添加间隔符，StringBuilder后续append字符串\n    public StringJoiner add(CharSequence newElement) {\n        prepareBuilder().append(newElement);\n        return this;\n    }\n\t//合并StringJoiner，注意后面StringJoiner 的前缀就不要了，后面的appen进来\n    public StringJoiner merge(StringJoiner other) {\n        Objects.requireNonNull(other);\n        if (other.value != null) {\n            final int length = other.value.length();\n            // lock the length so that we can seize the data to be appended\n            // before initiate copying to avoid interference, especially when\n            // merge 'this'\n            StringBuilder builder = prepareBuilder();\n            builder.append(other.value, other.prefix.length(), length);\n        }\n        return this;\n    }\n\t//初始化，先添加前缀，有了之后每次先添加间隔符\n    private StringBuilder prepareBuilder() {\n        if (value != null) {\n            value.append(delimiter);\n        } else {\n            value = new StringBuilder().append(prefix);\n        }\n        return value;\n    }\n\n    public int length() {\n        // Remember that we never actually append the suffix unless we return\n        // the full (present) value or some sub-string or length of it, so that\n        // we can add on more if we need to.\n        //不忘添加后缀的长度\n        return (value != null ? value.length() + suffix.length() :\n                emptyValue.length());\n    }\n}\n```\n","slug":"组件/StringJoiner类","published":1,"updated":"2022-06-10T10:11:19.728Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1kn000oys2m60vvedxo","content":"<p>引言：在阅读项目代码是，突然看到了 StringJoiner 这个类的使用，感觉很有意思，对实际开发中也有用，实际上是运用了 StringBuilder 的一个拼接字符串的封装处理。</p>\n<h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2><p>StringJoiner 是 Java8 新出的一个类，用于构造由分隔符分隔的字符序列，并可选择性地从提供的前缀开始和以提供的后缀结尾。省的我们开发人员再次通过 StringBuffer 或者 StingBuilder 拼接。<br>我们查看一下一下代码，试着猜一下。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">StringJoiner sj = <span class=\"keyword\">new</span> StringJoiner(<span class=\"string\">&quot;:&quot;</span>, <span class=\"string\">&quot;[&quot;</span>, <span class=\"string\">&quot;]&quot;</span>);</span><br><span class=\"line\">sj.add(<span class=\"string\">&quot;George&quot;</span>).add(<span class=\"string\">&quot;Sally&quot;</span>).add(<span class=\"string\">&quot;Fred&quot;</span>);</span><br><span class=\"line\">String desiredString = sj.toString();</span><br></pre></td></tr></table></figure>\n<p>代码输出为[George:Sally:Fred]</p>\n<h2 id=\"源码\"><a href=\"#源码\" class=\"headerlink\" title=\"源码\"></a>源码</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> java.util;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StringJoiner</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> String prefix;<span class=\"comment\">//前缀</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> String delimiter;<span class=\"comment\">//间隔符</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> String suffix;<span class=\"comment\">//后缀</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> StringBuilder value;<span class=\"comment\">//值</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String emptyValue;<span class=\"comment\">//空值</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">StringJoiner</span><span class=\"params\">(CharSequence delimiter)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>(delimiter, <span class=\"string\">&quot;&quot;</span>, <span class=\"string\">&quot;&quot;</span>);<span class=\"comment\">//默认前缀和后缀为&quot;&quot;,重载调用</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">StringJoiner</span><span class=\"params\">(CharSequence delimiter,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                        CharSequence prefix,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                        CharSequence suffix)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//间隔符，前缀和后缀判断是否为null，null将抛出异常</span></span><br><span class=\"line\">        Objects.requireNonNull(prefix, <span class=\"string\">&quot;The prefix must not be null&quot;</span>);</span><br><span class=\"line\">        Objects.requireNonNull(delimiter, <span class=\"string\">&quot;The delimiter must not be null&quot;</span>);</span><br><span class=\"line\">        Objects.requireNonNull(suffix, <span class=\"string\">&quot;The suffix must not be null&quot;</span>); </span><br><span class=\"line\">        <span class=\"comment\">// 成员变量赋值</span></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.prefix = prefix.toString();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.delimiter = delimiter.toString();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.suffix = suffix.toString();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.emptyValue = <span class=\"keyword\">this</span>.prefix + <span class=\"keyword\">this</span>.suffix;<span class=\"comment\">//空值被设置为只有前后缀</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t<span class=\"comment\">//设置空值，检查是否为null</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> StringJoiner <span class=\"title\">setEmptyValue</span><span class=\"params\">(CharSequence emptyValue)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.emptyValue = Objects.requireNonNull(emptyValue,</span><br><span class=\"line\">            <span class=\"string\">&quot;The empty value must not be null&quot;</span>).toString();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">toString</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (value == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> emptyValue;<span class=\"comment\">//没有值将返回空值或者后续设置的空值</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (suffix.equals(<span class=\"string\">&quot;&quot;</span>)) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> value.toString();<span class=\"comment\">//后缀为&quot;&quot;直接返回字符串，不用添加</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t            <span class=\"comment\">//后缀不为&quot;&quot;，添加后缀，然后直接返回字符串，修改长度</span></span><br><span class=\"line\">                <span class=\"keyword\">int</span> initialLength = value.length();</span><br><span class=\"line\">                String result = value.append(suffix).toString();</span><br><span class=\"line\">                <span class=\"comment\">// reset value to pre-append initialLength</span></span><br><span class=\"line\">                value.setLength(initialLength);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    初始化，先添加前缀，有了之后每次先添加间隔符，StringBuilder后续append字符串</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> StringJoiner <span class=\"title\">add</span><span class=\"params\">(CharSequence newElement)</span> </span>&#123;</span><br><span class=\"line\">        prepareBuilder().append(newElement);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t<span class=\"comment\">//合并StringJoiner，注意后面StringJoiner 的前缀就不要了，后面的appen进来</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> StringJoiner <span class=\"title\">merge</span><span class=\"params\">(StringJoiner other)</span> </span>&#123;</span><br><span class=\"line\">        Objects.requireNonNull(other);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (other.value != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> length = other.value.length();</span><br><span class=\"line\">            <span class=\"comment\">// lock the length so that we can seize the data to be appended</span></span><br><span class=\"line\">            <span class=\"comment\">// before initiate copying to avoid interference, especially when</span></span><br><span class=\"line\">            <span class=\"comment\">// merge &#x27;this&#x27;</span></span><br><span class=\"line\">            StringBuilder builder = prepareBuilder();</span><br><span class=\"line\">            builder.append(other.value, other.prefix.length(), length);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t<span class=\"comment\">//初始化，先添加前缀，有了之后每次先添加间隔符</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> StringBuilder <span class=\"title\">prepareBuilder</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (value != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            value.append(delimiter);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            value = <span class=\"keyword\">new</span> StringBuilder().append(prefix);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> value;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">length</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// Remember that we never actually append the suffix unless we return</span></span><br><span class=\"line\">        <span class=\"comment\">// the full (present) value or some sub-string or length of it, so that</span></span><br><span class=\"line\">        <span class=\"comment\">// we can add on more if we need to.</span></span><br><span class=\"line\">        <span class=\"comment\">//不忘添加后缀的长度</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (value != <span class=\"keyword\">null</span> ? value.length() + suffix.length() :</span><br><span class=\"line\">                emptyValue.length());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>引言：在阅读项目代码是，突然看到了 StringJoiner 这个类的使用，感觉很有意思，对实际开发中也有用，实际上是运用了 StringBuilder 的一个拼接字符串的封装处理。</p>\n<h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2><p>StringJoiner 是 Java8 新出的一个类，用于构造由分隔符分隔的字符序列，并可选择性地从提供的前缀开始和以提供的后缀结尾。省的我们开发人员再次通过 StringBuffer 或者 StingBuilder 拼接。<br>我们查看一下一下代码，试着猜一下。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">StringJoiner sj = <span class=\"keyword\">new</span> StringJoiner(<span class=\"string\">&quot;:&quot;</span>, <span class=\"string\">&quot;[&quot;</span>, <span class=\"string\">&quot;]&quot;</span>);</span><br><span class=\"line\">sj.add(<span class=\"string\">&quot;George&quot;</span>).add(<span class=\"string\">&quot;Sally&quot;</span>).add(<span class=\"string\">&quot;Fred&quot;</span>);</span><br><span class=\"line\">String desiredString = sj.toString();</span><br></pre></td></tr></table></figure>\n<p>代码输出为[George:Sally:Fred]</p>\n<h2 id=\"源码\"><a href=\"#源码\" class=\"headerlink\" title=\"源码\"></a>源码</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> java.util;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StringJoiner</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> String prefix;<span class=\"comment\">//前缀</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> String delimiter;<span class=\"comment\">//间隔符</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> String suffix;<span class=\"comment\">//后缀</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> StringBuilder value;<span class=\"comment\">//值</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String emptyValue;<span class=\"comment\">//空值</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">StringJoiner</span><span class=\"params\">(CharSequence delimiter)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>(delimiter, <span class=\"string\">&quot;&quot;</span>, <span class=\"string\">&quot;&quot;</span>);<span class=\"comment\">//默认前缀和后缀为&quot;&quot;,重载调用</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">StringJoiner</span><span class=\"params\">(CharSequence delimiter,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                        CharSequence prefix,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                        CharSequence suffix)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//间隔符，前缀和后缀判断是否为null，null将抛出异常</span></span><br><span class=\"line\">        Objects.requireNonNull(prefix, <span class=\"string\">&quot;The prefix must not be null&quot;</span>);</span><br><span class=\"line\">        Objects.requireNonNull(delimiter, <span class=\"string\">&quot;The delimiter must not be null&quot;</span>);</span><br><span class=\"line\">        Objects.requireNonNull(suffix, <span class=\"string\">&quot;The suffix must not be null&quot;</span>); </span><br><span class=\"line\">        <span class=\"comment\">// 成员变量赋值</span></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.prefix = prefix.toString();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.delimiter = delimiter.toString();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.suffix = suffix.toString();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.emptyValue = <span class=\"keyword\">this</span>.prefix + <span class=\"keyword\">this</span>.suffix;<span class=\"comment\">//空值被设置为只有前后缀</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t<span class=\"comment\">//设置空值，检查是否为null</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> StringJoiner <span class=\"title\">setEmptyValue</span><span class=\"params\">(CharSequence emptyValue)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.emptyValue = Objects.requireNonNull(emptyValue,</span><br><span class=\"line\">            <span class=\"string\">&quot;The empty value must not be null&quot;</span>).toString();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">toString</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (value == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> emptyValue;<span class=\"comment\">//没有值将返回空值或者后续设置的空值</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (suffix.equals(<span class=\"string\">&quot;&quot;</span>)) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> value.toString();<span class=\"comment\">//后缀为&quot;&quot;直接返回字符串，不用添加</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t            <span class=\"comment\">//后缀不为&quot;&quot;，添加后缀，然后直接返回字符串，修改长度</span></span><br><span class=\"line\">                <span class=\"keyword\">int</span> initialLength = value.length();</span><br><span class=\"line\">                String result = value.append(suffix).toString();</span><br><span class=\"line\">                <span class=\"comment\">// reset value to pre-append initialLength</span></span><br><span class=\"line\">                value.setLength(initialLength);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    初始化，先添加前缀，有了之后每次先添加间隔符，StringBuilder后续append字符串</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> StringJoiner <span class=\"title\">add</span><span class=\"params\">(CharSequence newElement)</span> </span>&#123;</span><br><span class=\"line\">        prepareBuilder().append(newElement);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t<span class=\"comment\">//合并StringJoiner，注意后面StringJoiner 的前缀就不要了，后面的appen进来</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> StringJoiner <span class=\"title\">merge</span><span class=\"params\">(StringJoiner other)</span> </span>&#123;</span><br><span class=\"line\">        Objects.requireNonNull(other);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (other.value != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> length = other.value.length();</span><br><span class=\"line\">            <span class=\"comment\">// lock the length so that we can seize the data to be appended</span></span><br><span class=\"line\">            <span class=\"comment\">// before initiate copying to avoid interference, especially when</span></span><br><span class=\"line\">            <span class=\"comment\">// merge &#x27;this&#x27;</span></span><br><span class=\"line\">            StringBuilder builder = prepareBuilder();</span><br><span class=\"line\">            builder.append(other.value, other.prefix.length(), length);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t<span class=\"comment\">//初始化，先添加前缀，有了之后每次先添加间隔符</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> StringBuilder <span class=\"title\">prepareBuilder</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (value != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            value.append(delimiter);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            value = <span class=\"keyword\">new</span> StringBuilder().append(prefix);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> value;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">length</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// Remember that we never actually append the suffix unless we return</span></span><br><span class=\"line\">        <span class=\"comment\">// the full (present) value or some sub-string or length of it, so that</span></span><br><span class=\"line\">        <span class=\"comment\">// we can add on more if we need to.</span></span><br><span class=\"line\">        <span class=\"comment\">//不忘添加后缀的长度</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (value != <span class=\"keyword\">null</span> ? value.length() + suffix.length() :</span><br><span class=\"line\">                emptyValue.length());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"redis之list来实现限流","date":"2022-05-30T03:50:07.000Z","cover":"/img/9.png","_content":"```java\n\t\tString key = \"userId\" + \"接口名\" ;\n        int listLength = llen(key);\n        if (listLength < 10) {\n        lpush(key, new ());\n        } else {\n        long time = lindex(key, -1);\n        if (now() - time < 60) {\n        System.out.println(\"访问频率超过了限制，请稍后再试\");\n        } else {\n        lpush(key, now);\n        ltrim(key, 0, 9);\n        }\n        }\n\n```\n![](![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220530115137.png))","source":"_posts/组件/redis之list来实现限流.md","raw":"---\ntitle: redis之list来实现限流\ndate: 2022-5-30 11:50:07\ncover: \ntags:\n- 组件\n---\n```java\n\t\tString key = \"userId\" + \"接口名\" ;\n        int listLength = llen(key);\n        if (listLength < 10) {\n        lpush(key, new ());\n        } else {\n        long time = lindex(key, -1);\n        if (now() - time < 60) {\n        System.out.println(\"访问频率超过了限制，请稍后再试\");\n        } else {\n        lpush(key, now);\n        ltrim(key, 0, 9);\n        }\n        }\n\n```\n![](![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220530115137.png))","slug":"组件/redis之list来实现限流","published":1,"updated":"2022-05-30T03:51:40.955Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1l0000rys2m6vld8o34","content":"<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String key = <span class=\"string\">&quot;userId&quot;</span> + <span class=\"string\">&quot;接口名&quot;</span> ;</span><br><span class=\"line\">      <span class=\"keyword\">int</span> listLength = llen(key);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (listLength &lt; <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">      lpush(key, <span class=\"keyword\">new</span> ());</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">long</span> time = lindex(key, -<span class=\"number\">1</span>);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (now() - time &lt; <span class=\"number\">60</span>) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;访问频率超过了限制，请稍后再试&quot;</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      lpush(key, now);</span><br><span class=\"line\">      ltrim(key, <span class=\"number\">0</span>, <span class=\"number\">9</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><img src=\"!%5B%5D(https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220530115137.png)\"></p>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String key = <span class=\"string\">&quot;userId&quot;</span> + <span class=\"string\">&quot;接口名&quot;</span> ;</span><br><span class=\"line\">      <span class=\"keyword\">int</span> listLength = llen(key);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (listLength &lt; <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">      lpush(key, <span class=\"keyword\">new</span> ());</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">long</span> time = lindex(key, -<span class=\"number\">1</span>);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (now() - time &lt; <span class=\"number\">60</span>) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;访问频率超过了限制，请稍后再试&quot;</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      lpush(key, now);</span><br><span class=\"line\">      ltrim(key, <span class=\"number\">0</span>, <span class=\"number\">9</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><img src=\"!%5B%5D(https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220530115137.png)\"></p>\n"},{"title":"常见多线程使用记录","date":"2020-05-26T14:55:20.000Z","cover":"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526225609.png","_content":"# 起始\n一个高并发系统，最优秀的响应时间在200ms之内\n在调用两个service串行调用的情况下，响应已经到了400ms\n\n# Callable\n想要获取一个有返回值的线程，使用Callable\n\n无法通过new Thread的方式创建Callable\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231027.png)\n\n## 使用FutureTask\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231313.png)\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231609.png)\n## 使用get方式获取\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526233057.png)\n响应时间-200ms\n## 问题\ntomcat处理线程默认是200个，如果没有get到返回值，会导致阻塞\n解决方案，使用Servlet3.0异步请求\n# Servlet3.0\n异步直接返回Callable,return callable会回调\nTomcat主线程接近0ms，子线程耗时300ms\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526234543.png)\n## 原理\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526234920.png)\n## 问题\n多线程调用多个接口，造成大量的并发\n解决方案\n使用批量接口，定时任务，或者CompletableFuture\n# 定时任务加批量接口\n将请求装到队列中，每隔10ms批量调用，包装成list返回，通过分布式id，分发给对应的客户端\n## CountDownLatch\n模拟1w个并发\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527001708.png)\n\n## 定时线程池\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002334.png)\n\n## 阻塞队列\n包装请求，放入唯一id，请求内容，CompletableFuture\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002454.png)\n\n## 封装数据\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002728.png)\n## 定时任务\n 如果队列为空，直接return\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527003927.png)\n 接口的参数包装\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004024.png)\n 调用批量接口\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004254.png)\n## 测试单个调用的性能差距\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004551.png)","source":"_posts/组件/多线程.md","raw":"---\ntitle: 常见多线程使用记录\ndate: 2020-5-26 22:55:20\ncover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526225609.png\ntags:\n- 组件\n---\n# 起始\n一个高并发系统，最优秀的响应时间在200ms之内\n在调用两个service串行调用的情况下，响应已经到了400ms\n\n# Callable\n想要获取一个有返回值的线程，使用Callable\n\n无法通过new Thread的方式创建Callable\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231027.png)\n\n## 使用FutureTask\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231313.png)\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231609.png)\n## 使用get方式获取\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526233057.png)\n响应时间-200ms\n## 问题\ntomcat处理线程默认是200个，如果没有get到返回值，会导致阻塞\n解决方案，使用Servlet3.0异步请求\n# Servlet3.0\n异步直接返回Callable,return callable会回调\nTomcat主线程接近0ms，子线程耗时300ms\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526234543.png)\n## 原理\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526234920.png)\n## 问题\n多线程调用多个接口，造成大量的并发\n解决方案\n使用批量接口，定时任务，或者CompletableFuture\n# 定时任务加批量接口\n将请求装到队列中，每隔10ms批量调用，包装成list返回，通过分布式id，分发给对应的客户端\n## CountDownLatch\n模拟1w个并发\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527001708.png)\n\n## 定时线程池\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002334.png)\n\n## 阻塞队列\n包装请求，放入唯一id，请求内容，CompletableFuture\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002454.png)\n\n## 封装数据\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002728.png)\n## 定时任务\n 如果队列为空，直接return\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527003927.png)\n 接口的参数包装\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004024.png)\n 调用批量接口\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004254.png)\n## 测试单个调用的性能差距\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004551.png)","slug":"组件/多线程","published":1,"updated":"2022-06-10T10:11:19.729Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1l1000sys2m5169hzva","content":"<h1 id=\"起始\"><a href=\"#起始\" class=\"headerlink\" title=\"起始\"></a>起始</h1><p>一个高并发系统，最优秀的响应时间在200ms之内<br>在调用两个service串行调用的情况下，响应已经到了400ms</p>\n<h1 id=\"Callable\"><a href=\"#Callable\" class=\"headerlink\" title=\"Callable\"></a>Callable</h1><p>想要获取一个有返回值的线程，使用Callable</p>\n<p>无法通过new Thread的方式创建Callable<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231027.png\"></p>\n<h2 id=\"使用FutureTask\"><a href=\"#使用FutureTask\" class=\"headerlink\" title=\"使用FutureTask\"></a>使用FutureTask</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231313.png\"><br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231609.png\"></p>\n<h2 id=\"使用get方式获取\"><a href=\"#使用get方式获取\" class=\"headerlink\" title=\"使用get方式获取\"></a>使用get方式获取</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526233057.png\"><br>响应时间-200ms</p>\n<h2 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h2><p>tomcat处理线程默认是200个，如果没有get到返回值，会导致阻塞<br>解决方案，使用Servlet3.0异步请求</p>\n<h1 id=\"Servlet3-0\"><a href=\"#Servlet3-0\" class=\"headerlink\" title=\"Servlet3.0\"></a>Servlet3.0</h1><p>异步直接返回Callable,return callable会回调<br>Tomcat主线程接近0ms，子线程耗时300ms<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526234543.png\"></p>\n<h2 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526234920.png\"></p>\n<h2 id=\"问题-1\"><a href=\"#问题-1\" class=\"headerlink\" title=\"问题\"></a>问题</h2><p>多线程调用多个接口，造成大量的并发<br>解决方案<br>使用批量接口，定时任务，或者CompletableFuture</p>\n<h1 id=\"定时任务加批量接口\"><a href=\"#定时任务加批量接口\" class=\"headerlink\" title=\"定时任务加批量接口\"></a>定时任务加批量接口</h1><p>将请求装到队列中，每隔10ms批量调用，包装成list返回，通过分布式id，分发给对应的客户端</p>\n<h2 id=\"CountDownLatch\"><a href=\"#CountDownLatch\" class=\"headerlink\" title=\"CountDownLatch\"></a>CountDownLatch</h2><p>模拟1w个并发<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527001708.png\"></p>\n<h2 id=\"定时线程池\"><a href=\"#定时线程池\" class=\"headerlink\" title=\"定时线程池\"></a>定时线程池</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002334.png\"></p>\n<h2 id=\"阻塞队列\"><a href=\"#阻塞队列\" class=\"headerlink\" title=\"阻塞队列\"></a>阻塞队列</h2><p>包装请求，放入唯一id，请求内容，CompletableFuture<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002454.png\"></p>\n<h2 id=\"封装数据\"><a href=\"#封装数据\" class=\"headerlink\" title=\"封装数据\"></a>封装数据</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002728.png\"></p>\n<h2 id=\"定时任务\"><a href=\"#定时任务\" class=\"headerlink\" title=\"定时任务\"></a>定时任务</h2><p> 如果队列为空，直接return<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527003927.png\"><br> 接口的参数包装<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004024.png\"><br> 调用批量接口<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004254.png\"></p>\n<h2 id=\"测试单个调用的性能差距\"><a href=\"#测试单个调用的性能差距\" class=\"headerlink\" title=\"测试单个调用的性能差距\"></a>测试单个调用的性能差距</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004551.png\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"起始\"><a href=\"#起始\" class=\"headerlink\" title=\"起始\"></a>起始</h1><p>一个高并发系统，最优秀的响应时间在200ms之内<br>在调用两个service串行调用的情况下，响应已经到了400ms</p>\n<h1 id=\"Callable\"><a href=\"#Callable\" class=\"headerlink\" title=\"Callable\"></a>Callable</h1><p>想要获取一个有返回值的线程，使用Callable</p>\n<p>无法通过new Thread的方式创建Callable<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231027.png\"></p>\n<h2 id=\"使用FutureTask\"><a href=\"#使用FutureTask\" class=\"headerlink\" title=\"使用FutureTask\"></a>使用FutureTask</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231313.png\"><br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526231609.png\"></p>\n<h2 id=\"使用get方式获取\"><a href=\"#使用get方式获取\" class=\"headerlink\" title=\"使用get方式获取\"></a>使用get方式获取</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526233057.png\"><br>响应时间-200ms</p>\n<h2 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h2><p>tomcat处理线程默认是200个，如果没有get到返回值，会导致阻塞<br>解决方案，使用Servlet3.0异步请求</p>\n<h1 id=\"Servlet3-0\"><a href=\"#Servlet3-0\" class=\"headerlink\" title=\"Servlet3.0\"></a>Servlet3.0</h1><p>异步直接返回Callable,return callable会回调<br>Tomcat主线程接近0ms，子线程耗时300ms<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526234543.png\"></p>\n<h2 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220526234920.png\"></p>\n<h2 id=\"问题-1\"><a href=\"#问题-1\" class=\"headerlink\" title=\"问题\"></a>问题</h2><p>多线程调用多个接口，造成大量的并发<br>解决方案<br>使用批量接口，定时任务，或者CompletableFuture</p>\n<h1 id=\"定时任务加批量接口\"><a href=\"#定时任务加批量接口\" class=\"headerlink\" title=\"定时任务加批量接口\"></a>定时任务加批量接口</h1><p>将请求装到队列中，每隔10ms批量调用，包装成list返回，通过分布式id，分发给对应的客户端</p>\n<h2 id=\"CountDownLatch\"><a href=\"#CountDownLatch\" class=\"headerlink\" title=\"CountDownLatch\"></a>CountDownLatch</h2><p>模拟1w个并发<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527001708.png\"></p>\n<h2 id=\"定时线程池\"><a href=\"#定时线程池\" class=\"headerlink\" title=\"定时线程池\"></a>定时线程池</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002334.png\"></p>\n<h2 id=\"阻塞队列\"><a href=\"#阻塞队列\" class=\"headerlink\" title=\"阻塞队列\"></a>阻塞队列</h2><p>包装请求，放入唯一id，请求内容，CompletableFuture<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002454.png\"></p>\n<h2 id=\"封装数据\"><a href=\"#封装数据\" class=\"headerlink\" title=\"封装数据\"></a>封装数据</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527002728.png\"></p>\n<h2 id=\"定时任务\"><a href=\"#定时任务\" class=\"headerlink\" title=\"定时任务\"></a>定时任务</h2><p> 如果队列为空，直接return<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527003927.png\"><br> 接口的参数包装<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004024.png\"><br> 调用批量接口<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004254.png\"></p>\n<h2 id=\"测试单个调用的性能差距\"><a href=\"#测试单个调用的性能差距\" class=\"headerlink\" title=\"测试单个调用的性能差距\"></a>测试单个调用的性能差距</h2><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220527004551.png\"></p>\n"},{"title":"微信支付","date":"2020-05-22T13:51:42.000Z","cover":"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220522215253.png","_content":"\n# 调用流程\n> 1.调用url地址\n> 2.初始化HttpClient对象\n> 3.设置是否是https\n> 4.设置请求参数,一般为 Map<String, String>\n> 5.发起post请求\n> 6.获取结果 httpClient.getContent\n> 7.根据return_code返回结果\n\n# 扫码支付\n## http工具\n```java\npublic class HttpClient {\n    private String url;\n    private Map<String, String> param;\n    private int statusCode;\n    private String content;\n    private String xmlParam;\n    private boolean isHttps;\n\n    public boolean isHttps() {\n        return isHttps;\n    }\n\n    public void setHttps(boolean isHttps) {\n        this.isHttps = isHttps;\n    }\n\n    public String getXmlParam() {\n        return xmlParam;\n    }\n\n    public void setXmlParam(String xmlParam) {\n        this.xmlParam = xmlParam;\n    }\n\n    public HttpClient(String url, Map<String, String> param) {\n        this.url = url;\n        this.param = param;\n    }\n\n    public HttpClient(String url) {\n        this.url = url;\n    }\n\n    public void setParameter(Map<String, String> map) {\n        param = map;\n    }\n\n    public void addParameter(String key, String value) {\n        if (param == null)\n            param = new HashMap<String, String>();\n        param.put(key, value);\n    }\n\n    public void post() throws ClientProtocolException, IOException {\n        HttpPost http = new HttpPost(url);\n        setEntity(http);\n        execute(http);\n    }\n\n    public void put() throws ClientProtocolException, IOException {\n        HttpPut http = new HttpPut(url);\n        setEntity(http);\n        execute(http);\n    }\n\n    public void get() throws ClientProtocolException, IOException {\n        if (param != null) {\n            StringBuilder url = new StringBuilder(this.url);\n            boolean isFirst = true;\n            for (String key : param.keySet()) {\n                if (isFirst) {\n                    url.append(\"?\");\n                }else {\n                    url.append(\"&\");\n                }\n                url.append(key).append(\"=\").append(param.get(key));\n            }\n            this.url = url.toString();\n        }\n        HttpGet http = new HttpGet(url);\n        execute(http);\n    }\n\n    /**\n     * set http post,put param\n     */\n    private void setEntity(HttpEntityEnclosingRequestBase http) {\n        if (param != null) {\n            List<NameValuePair> nvps = new LinkedList<NameValuePair>();\n            for (String key : param.keySet()) {\n                nvps.add(new BasicNameValuePair(key, param.get(key))); // 参数\n            }\n            http.setEntity(new UrlEncodedFormEntity(nvps, Consts.UTF_8)); // 设置参数\n        }\n        if (xmlParam != null) {\n            http.setEntity(new StringEntity(xmlParam, Consts.UTF_8));\n        }\n    }\n\n    private void execute(HttpUriRequest http) throws ClientProtocolException,\n            IOException {\n        CloseableHttpClient httpClient = null;\n        try {\n            if (isHttps) {\n                SSLContext sslContext = new SSLContextBuilder()\n                        .loadTrustMaterial(null, new TrustStrategy() {\n                            // 信任所有\n                            @Override\n                            public boolean isTrusted(X509Certificate[] chain,\n                                                     String authType)\n                                    throws CertificateException {\n                                return true;\n                            }\n                        }).build();\n                SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(\n                        sslContext);\n                httpClient = HttpClients.custom().setSSLSocketFactory(sslsf)\n                        .build();\n            } else {\n                httpClient = HttpClients.createDefault();\n            }\n            CloseableHttpResponse response = httpClient.execute(http);\n            try {\n                if (response != null) {\n                    if (response.getStatusLine() != null) {\n                        statusCode = response.getStatusLine().getStatusCode();\n                    }\n                    HttpEntity entity = response.getEntity();\n                    // 响应内容\n                    content = EntityUtils.toString(entity, Consts.UTF_8);\n                }\n            } finally {\n                response.close();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            httpClient.close();\n        }\n    }\n\n    public int getStatusCode() {\n        return statusCode;\n    }\n\n    public String getContent() throws ParseException, IOException {\n        return content;\n    }\n}\n```\n## 生成二维码\n获取统一下单的url地址，生成二维码图片\n```java\n    @Override\n    public String getPayUrl(Map<String, String> map) {\n\n        // 统一下单接口链接\n        String url = \"https://api.mch.weixin.qq.com/pay/unifiedorder\";\n        HttpClient httpClient = new HttpClient(url);\n        httpClient.setHttps(true);\n\n        Map<String, String> param = new HashMap<>();\n        // 公众账号ID\n        param.put(\"appid\",appId);\n        // 商户号\n        param.put(\"mch_id\",partner);\n        // 随机字符串\n        param.put(\"nonce_str\", WXPayUtil.generateNonceStr());\n        // 商品描述\n        param.put(\"body\",map.get(\"body\"));\n        // 商户订单号(自己项目的订单号）\n        param.put(\"out_trade_no\",map.get(\"orderId\"));\n        // 标价金额\n        param.put(\"total_fee\",map.get(\"money\"));\n        // 终端IP\n        param.put(\"spbill_create_ip\",\"192.168.200.1\");\n        // 通知地址(异步接收微信支付结果)\n        param.put(\"notify_url\",notifyUrl);\n        // 交易类型(扫码支付）\n        param.put(\"trade_type\",\"NATIVE\");\n\n        // 附加参数，在接收的时候原样返回\n        Map<String,String> attachMap = new HashMap<>();\n        attachMap.put(\"exchange\",map.get(\"exchange\"));\n        attachMap.put(\"routingKey\",map.get(\"routingKey\"));\n        param.put(\"attach\", JSONObject.toJSONString(attachMap));\n\n        try {\n            // 将参数转换为xml格式，同时生成签名\n            String xmlParam = WXPayUtil.generateSignedXml(param, partnerkey);\n            // 设置请求参数\n            httpClient.setXmlParam(xmlParam);\n            // 发起post请求\n            httpClient.post();\n            // 获取结果\n            String content = httpClient.getContent();\n            // 解析xml格式的数据,转换成map数据\n            Map<String, String> result = WXPayUtil.xmlToMap(content);\n\n            // 返回结果\n            if (result.get(\"return_code\").equals(\"SUCCESS\") &&\n            result.get(\"result_code\").equals(\"SUCCESS\")){\n                return result.get(\"code_url\");\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n```\n\n\n","source":"_posts/组件/微信支付.md","raw":"---\ntitle: 微信支付\ndate: 2020-5-22 21:51:42\ncover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220522215253.png\ntags:\n- 组件\n---\n\n# 调用流程\n> 1.调用url地址\n> 2.初始化HttpClient对象\n> 3.设置是否是https\n> 4.设置请求参数,一般为 Map<String, String>\n> 5.发起post请求\n> 6.获取结果 httpClient.getContent\n> 7.根据return_code返回结果\n\n# 扫码支付\n## http工具\n```java\npublic class HttpClient {\n    private String url;\n    private Map<String, String> param;\n    private int statusCode;\n    private String content;\n    private String xmlParam;\n    private boolean isHttps;\n\n    public boolean isHttps() {\n        return isHttps;\n    }\n\n    public void setHttps(boolean isHttps) {\n        this.isHttps = isHttps;\n    }\n\n    public String getXmlParam() {\n        return xmlParam;\n    }\n\n    public void setXmlParam(String xmlParam) {\n        this.xmlParam = xmlParam;\n    }\n\n    public HttpClient(String url, Map<String, String> param) {\n        this.url = url;\n        this.param = param;\n    }\n\n    public HttpClient(String url) {\n        this.url = url;\n    }\n\n    public void setParameter(Map<String, String> map) {\n        param = map;\n    }\n\n    public void addParameter(String key, String value) {\n        if (param == null)\n            param = new HashMap<String, String>();\n        param.put(key, value);\n    }\n\n    public void post() throws ClientProtocolException, IOException {\n        HttpPost http = new HttpPost(url);\n        setEntity(http);\n        execute(http);\n    }\n\n    public void put() throws ClientProtocolException, IOException {\n        HttpPut http = new HttpPut(url);\n        setEntity(http);\n        execute(http);\n    }\n\n    public void get() throws ClientProtocolException, IOException {\n        if (param != null) {\n            StringBuilder url = new StringBuilder(this.url);\n            boolean isFirst = true;\n            for (String key : param.keySet()) {\n                if (isFirst) {\n                    url.append(\"?\");\n                }else {\n                    url.append(\"&\");\n                }\n                url.append(key).append(\"=\").append(param.get(key));\n            }\n            this.url = url.toString();\n        }\n        HttpGet http = new HttpGet(url);\n        execute(http);\n    }\n\n    /**\n     * set http post,put param\n     */\n    private void setEntity(HttpEntityEnclosingRequestBase http) {\n        if (param != null) {\n            List<NameValuePair> nvps = new LinkedList<NameValuePair>();\n            for (String key : param.keySet()) {\n                nvps.add(new BasicNameValuePair(key, param.get(key))); // 参数\n            }\n            http.setEntity(new UrlEncodedFormEntity(nvps, Consts.UTF_8)); // 设置参数\n        }\n        if (xmlParam != null) {\n            http.setEntity(new StringEntity(xmlParam, Consts.UTF_8));\n        }\n    }\n\n    private void execute(HttpUriRequest http) throws ClientProtocolException,\n            IOException {\n        CloseableHttpClient httpClient = null;\n        try {\n            if (isHttps) {\n                SSLContext sslContext = new SSLContextBuilder()\n                        .loadTrustMaterial(null, new TrustStrategy() {\n                            // 信任所有\n                            @Override\n                            public boolean isTrusted(X509Certificate[] chain,\n                                                     String authType)\n                                    throws CertificateException {\n                                return true;\n                            }\n                        }).build();\n                SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(\n                        sslContext);\n                httpClient = HttpClients.custom().setSSLSocketFactory(sslsf)\n                        .build();\n            } else {\n                httpClient = HttpClients.createDefault();\n            }\n            CloseableHttpResponse response = httpClient.execute(http);\n            try {\n                if (response != null) {\n                    if (response.getStatusLine() != null) {\n                        statusCode = response.getStatusLine().getStatusCode();\n                    }\n                    HttpEntity entity = response.getEntity();\n                    // 响应内容\n                    content = EntityUtils.toString(entity, Consts.UTF_8);\n                }\n            } finally {\n                response.close();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            httpClient.close();\n        }\n    }\n\n    public int getStatusCode() {\n        return statusCode;\n    }\n\n    public String getContent() throws ParseException, IOException {\n        return content;\n    }\n}\n```\n## 生成二维码\n获取统一下单的url地址，生成二维码图片\n```java\n    @Override\n    public String getPayUrl(Map<String, String> map) {\n\n        // 统一下单接口链接\n        String url = \"https://api.mch.weixin.qq.com/pay/unifiedorder\";\n        HttpClient httpClient = new HttpClient(url);\n        httpClient.setHttps(true);\n\n        Map<String, String> param = new HashMap<>();\n        // 公众账号ID\n        param.put(\"appid\",appId);\n        // 商户号\n        param.put(\"mch_id\",partner);\n        // 随机字符串\n        param.put(\"nonce_str\", WXPayUtil.generateNonceStr());\n        // 商品描述\n        param.put(\"body\",map.get(\"body\"));\n        // 商户订单号(自己项目的订单号）\n        param.put(\"out_trade_no\",map.get(\"orderId\"));\n        // 标价金额\n        param.put(\"total_fee\",map.get(\"money\"));\n        // 终端IP\n        param.put(\"spbill_create_ip\",\"192.168.200.1\");\n        // 通知地址(异步接收微信支付结果)\n        param.put(\"notify_url\",notifyUrl);\n        // 交易类型(扫码支付）\n        param.put(\"trade_type\",\"NATIVE\");\n\n        // 附加参数，在接收的时候原样返回\n        Map<String,String> attachMap = new HashMap<>();\n        attachMap.put(\"exchange\",map.get(\"exchange\"));\n        attachMap.put(\"routingKey\",map.get(\"routingKey\"));\n        param.put(\"attach\", JSONObject.toJSONString(attachMap));\n\n        try {\n            // 将参数转换为xml格式，同时生成签名\n            String xmlParam = WXPayUtil.generateSignedXml(param, partnerkey);\n            // 设置请求参数\n            httpClient.setXmlParam(xmlParam);\n            // 发起post请求\n            httpClient.post();\n            // 获取结果\n            String content = httpClient.getContent();\n            // 解析xml格式的数据,转换成map数据\n            Map<String, String> result = WXPayUtil.xmlToMap(content);\n\n            // 返回结果\n            if (result.get(\"return_code\").equals(\"SUCCESS\") &&\n            result.get(\"result_code\").equals(\"SUCCESS\")){\n                return result.get(\"code_url\");\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n```\n\n\n","slug":"组件/微信支付","published":1,"updated":"2022-06-10T10:11:19.729Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl48ai1l4000vys2m12b3avdq","content":"<h1 id=\"调用流程\"><a href=\"#调用流程\" class=\"headerlink\" title=\"调用流程\"></a>调用流程</h1><blockquote>\n<p>1.调用url地址<br>2.初始化HttpClient对象<br>3.设置是否是https<br>4.设置请求参数,一般为 Map&lt;String, String&gt;<br>5.发起post请求<br>6.获取结果 httpClient.getContent<br>7.根据return_code返回结果</p>\n</blockquote>\n<h1 id=\"扫码支付\"><a href=\"#扫码支付\" class=\"headerlink\" title=\"扫码支付\"></a>扫码支付</h1><h2 id=\"http工具\"><a href=\"#http工具\" class=\"headerlink\" title=\"http工具\"></a>http工具</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HttpClient</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String url;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Map&lt;String, String&gt; param;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> statusCode;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String content;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String xmlParam;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">boolean</span> isHttps;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isHttps</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> isHttps;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setHttps</span><span class=\"params\">(<span class=\"keyword\">boolean</span> isHttps)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.isHttps = isHttps;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getXmlParam</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> xmlParam;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setXmlParam</span><span class=\"params\">(String xmlParam)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.xmlParam = xmlParam;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HttpClient</span><span class=\"params\">(String url, Map&lt;String, String&gt; param)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.url = url;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.param = param;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HttpClient</span><span class=\"params\">(String url)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.url = url;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setParameter</span><span class=\"params\">(Map&lt;String, String&gt; map)</span> </span>&#123;</span><br><span class=\"line\">        param = map;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">addParameter</span><span class=\"params\">(String key, String value)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (param == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">            param = <span class=\"keyword\">new</span> HashMap&lt;String, String&gt;();</span><br><span class=\"line\">        param.put(key, value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">post</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> ClientProtocolException, IOException </span>&#123;</span><br><span class=\"line\">        HttpPost http = <span class=\"keyword\">new</span> HttpPost(url);</span><br><span class=\"line\">        setEntity(http);</span><br><span class=\"line\">        execute(http);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">put</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> ClientProtocolException, IOException </span>&#123;</span><br><span class=\"line\">        HttpPut http = <span class=\"keyword\">new</span> HttpPut(url);</span><br><span class=\"line\">        setEntity(http);</span><br><span class=\"line\">        execute(http);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">get</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> ClientProtocolException, IOException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (param != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            StringBuilder url = <span class=\"keyword\">new</span> StringBuilder(<span class=\"keyword\">this</span>.url);</span><br><span class=\"line\">            <span class=\"keyword\">boolean</span> isFirst = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (String key : param.keySet()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (isFirst) &#123;</span><br><span class=\"line\">                    url.append(<span class=\"string\">&quot;?&quot;</span>);</span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    url.append(<span class=\"string\">&quot;&amp;&quot;</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                url.append(key).append(<span class=\"string\">&quot;=&quot;</span>).append(param.get(key));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.url = url.toString();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        HttpGet http = <span class=\"keyword\">new</span> HttpGet(url);</span><br><span class=\"line\">        execute(http);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * set http post,put param</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">setEntity</span><span class=\"params\">(HttpEntityEnclosingRequestBase http)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (param != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            List&lt;NameValuePair&gt; nvps = <span class=\"keyword\">new</span> LinkedList&lt;NameValuePair&gt;();</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (String key : param.keySet()) &#123;</span><br><span class=\"line\">                nvps.add(<span class=\"keyword\">new</span> BasicNameValuePair(key, param.get(key))); <span class=\"comment\">// 参数</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            http.setEntity(<span class=\"keyword\">new</span> UrlEncodedFormEntity(nvps, Consts.UTF_8)); <span class=\"comment\">// 设置参数</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (xmlParam != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            http.setEntity(<span class=\"keyword\">new</span> StringEntity(xmlParam, Consts.UTF_8));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">execute</span><span class=\"params\">(HttpUriRequest http)</span> <span class=\"keyword\">throws</span> ClientProtocolException,</span></span><br><span class=\"line\"><span class=\"function\">            IOException </span>&#123;</span><br><span class=\"line\">        CloseableHttpClient httpClient = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (isHttps) &#123;</span><br><span class=\"line\">                SSLContext sslContext = <span class=\"keyword\">new</span> SSLContextBuilder()</span><br><span class=\"line\">                        .loadTrustMaterial(<span class=\"keyword\">null</span>, <span class=\"keyword\">new</span> TrustStrategy() &#123;</span><br><span class=\"line\">                            <span class=\"comment\">// 信任所有</span></span><br><span class=\"line\">                            <span class=\"meta\">@Override</span></span><br><span class=\"line\">                            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isTrusted</span><span class=\"params\">(X509Certificate[] chain,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                                                     String authType)</span></span></span><br><span class=\"line\"><span class=\"function\">                                    <span class=\"keyword\">throws</span> CertificateException </span>&#123;</span><br><span class=\"line\">                                <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125;).build();</span><br><span class=\"line\">                SSLConnectionSocketFactory sslsf = <span class=\"keyword\">new</span> SSLConnectionSocketFactory(</span><br><span class=\"line\">                        sslContext);</span><br><span class=\"line\">                httpClient = HttpClients.custom().setSSLSocketFactory(sslsf)</span><br><span class=\"line\">                        .build();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                httpClient = HttpClients.createDefault();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            CloseableHttpResponse response = httpClient.execute(http);</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (response != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (response.getStatusLine() != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                        statusCode = response.getStatusLine().getStatusCode();</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    HttpEntity entity = response.getEntity();</span><br><span class=\"line\">                    <span class=\"comment\">// 响应内容</span></span><br><span class=\"line\">                    content = EntityUtils.toString(entity, Consts.UTF_8);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">                response.close();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            httpClient.close();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getStatusCode</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> statusCode;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getContent</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> ParseException, IOException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> content;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"生成二维码\"><a href=\"#生成二维码\" class=\"headerlink\" title=\"生成二维码\"></a>生成二维码</h2><p>获取统一下单的url地址，生成二维码图片</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getPayUrl</span><span class=\"params\">(Map&lt;String, String&gt; map)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 统一下单接口链接</span></span><br><span class=\"line\">    String url = <span class=\"string\">&quot;https://api.mch.weixin.qq.com/pay/unifiedorder&quot;</span>;</span><br><span class=\"line\">    HttpClient httpClient = <span class=\"keyword\">new</span> HttpClient(url);</span><br><span class=\"line\">    httpClient.setHttps(<span class=\"keyword\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    Map&lt;String, String&gt; param = <span class=\"keyword\">new</span> HashMap&lt;&gt;();</span><br><span class=\"line\">    <span class=\"comment\">// 公众账号ID</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;appid&quot;</span>,appId);</span><br><span class=\"line\">    <span class=\"comment\">// 商户号</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;mch_id&quot;</span>,partner);</span><br><span class=\"line\">    <span class=\"comment\">// 随机字符串</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;nonce_str&quot;</span>, WXPayUtil.generateNonceStr());</span><br><span class=\"line\">    <span class=\"comment\">// 商品描述</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;body&quot;</span>,map.get(<span class=\"string\">&quot;body&quot;</span>));</span><br><span class=\"line\">    <span class=\"comment\">// 商户订单号(自己项目的订单号）</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;out_trade_no&quot;</span>,map.get(<span class=\"string\">&quot;orderId&quot;</span>));</span><br><span class=\"line\">    <span class=\"comment\">// 标价金额</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;total_fee&quot;</span>,map.get(<span class=\"string\">&quot;money&quot;</span>));</span><br><span class=\"line\">    <span class=\"comment\">// 终端IP</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;spbill_create_ip&quot;</span>,<span class=\"string\">&quot;192.168.200.1&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 通知地址(异步接收微信支付结果)</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;notify_url&quot;</span>,notifyUrl);</span><br><span class=\"line\">    <span class=\"comment\">// 交易类型(扫码支付）</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;trade_type&quot;</span>,<span class=\"string\">&quot;NATIVE&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 附加参数，在接收的时候原样返回</span></span><br><span class=\"line\">    Map&lt;String,String&gt; attachMap = <span class=\"keyword\">new</span> HashMap&lt;&gt;();</span><br><span class=\"line\">    attachMap.put(<span class=\"string\">&quot;exchange&quot;</span>,map.get(<span class=\"string\">&quot;exchange&quot;</span>));</span><br><span class=\"line\">    attachMap.put(<span class=\"string\">&quot;routingKey&quot;</span>,map.get(<span class=\"string\">&quot;routingKey&quot;</span>));</span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;attach&quot;</span>, JSONObject.toJSONString(attachMap));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 将参数转换为xml格式，同时生成签名</span></span><br><span class=\"line\">        String xmlParam = WXPayUtil.generateSignedXml(param, partnerkey);</span><br><span class=\"line\">        <span class=\"comment\">// 设置请求参数</span></span><br><span class=\"line\">        httpClient.setXmlParam(xmlParam);</span><br><span class=\"line\">        <span class=\"comment\">// 发起post请求</span></span><br><span class=\"line\">        httpClient.post();</span><br><span class=\"line\">        <span class=\"comment\">// 获取结果</span></span><br><span class=\"line\">        String content = httpClient.getContent();</span><br><span class=\"line\">        <span class=\"comment\">// 解析xml格式的数据,转换成map数据</span></span><br><span class=\"line\">        Map&lt;String, String&gt; result = WXPayUtil.xmlToMap(content);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (result.get(<span class=\"string\">&quot;return_code&quot;</span>).equals(<span class=\"string\">&quot;SUCCESS&quot;</span>) &amp;&amp;</span><br><span class=\"line\">        result.get(<span class=\"string\">&quot;result_code&quot;</span>).equals(<span class=\"string\">&quot;SUCCESS&quot;</span>))&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result.get(<span class=\"string\">&quot;code_url&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"调用流程\"><a href=\"#调用流程\" class=\"headerlink\" title=\"调用流程\"></a>调用流程</h1><blockquote>\n<p>1.调用url地址<br>2.初始化HttpClient对象<br>3.设置是否是https<br>4.设置请求参数,一般为 Map&lt;String, String&gt;<br>5.发起post请求<br>6.获取结果 httpClient.getContent<br>7.根据return_code返回结果</p>\n</blockquote>\n<h1 id=\"扫码支付\"><a href=\"#扫码支付\" class=\"headerlink\" title=\"扫码支付\"></a>扫码支付</h1><h2 id=\"http工具\"><a href=\"#http工具\" class=\"headerlink\" title=\"http工具\"></a>http工具</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HttpClient</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String url;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Map&lt;String, String&gt; param;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> statusCode;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String content;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String xmlParam;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">boolean</span> isHttps;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isHttps</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> isHttps;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setHttps</span><span class=\"params\">(<span class=\"keyword\">boolean</span> isHttps)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.isHttps = isHttps;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getXmlParam</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> xmlParam;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setXmlParam</span><span class=\"params\">(String xmlParam)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.xmlParam = xmlParam;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HttpClient</span><span class=\"params\">(String url, Map&lt;String, String&gt; param)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.url = url;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.param = param;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HttpClient</span><span class=\"params\">(String url)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.url = url;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setParameter</span><span class=\"params\">(Map&lt;String, String&gt; map)</span> </span>&#123;</span><br><span class=\"line\">        param = map;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">addParameter</span><span class=\"params\">(String key, String value)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (param == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">            param = <span class=\"keyword\">new</span> HashMap&lt;String, String&gt;();</span><br><span class=\"line\">        param.put(key, value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">post</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> ClientProtocolException, IOException </span>&#123;</span><br><span class=\"line\">        HttpPost http = <span class=\"keyword\">new</span> HttpPost(url);</span><br><span class=\"line\">        setEntity(http);</span><br><span class=\"line\">        execute(http);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">put</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> ClientProtocolException, IOException </span>&#123;</span><br><span class=\"line\">        HttpPut http = <span class=\"keyword\">new</span> HttpPut(url);</span><br><span class=\"line\">        setEntity(http);</span><br><span class=\"line\">        execute(http);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">get</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> ClientProtocolException, IOException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (param != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            StringBuilder url = <span class=\"keyword\">new</span> StringBuilder(<span class=\"keyword\">this</span>.url);</span><br><span class=\"line\">            <span class=\"keyword\">boolean</span> isFirst = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (String key : param.keySet()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (isFirst) &#123;</span><br><span class=\"line\">                    url.append(<span class=\"string\">&quot;?&quot;</span>);</span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    url.append(<span class=\"string\">&quot;&amp;&quot;</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                url.append(key).append(<span class=\"string\">&quot;=&quot;</span>).append(param.get(key));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.url = url.toString();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        HttpGet http = <span class=\"keyword\">new</span> HttpGet(url);</span><br><span class=\"line\">        execute(http);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * set http post,put param</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">setEntity</span><span class=\"params\">(HttpEntityEnclosingRequestBase http)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (param != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            List&lt;NameValuePair&gt; nvps = <span class=\"keyword\">new</span> LinkedList&lt;NameValuePair&gt;();</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (String key : param.keySet()) &#123;</span><br><span class=\"line\">                nvps.add(<span class=\"keyword\">new</span> BasicNameValuePair(key, param.get(key))); <span class=\"comment\">// 参数</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            http.setEntity(<span class=\"keyword\">new</span> UrlEncodedFormEntity(nvps, Consts.UTF_8)); <span class=\"comment\">// 设置参数</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (xmlParam != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            http.setEntity(<span class=\"keyword\">new</span> StringEntity(xmlParam, Consts.UTF_8));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">execute</span><span class=\"params\">(HttpUriRequest http)</span> <span class=\"keyword\">throws</span> ClientProtocolException,</span></span><br><span class=\"line\"><span class=\"function\">            IOException </span>&#123;</span><br><span class=\"line\">        CloseableHttpClient httpClient = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (isHttps) &#123;</span><br><span class=\"line\">                SSLContext sslContext = <span class=\"keyword\">new</span> SSLContextBuilder()</span><br><span class=\"line\">                        .loadTrustMaterial(<span class=\"keyword\">null</span>, <span class=\"keyword\">new</span> TrustStrategy() &#123;</span><br><span class=\"line\">                            <span class=\"comment\">// 信任所有</span></span><br><span class=\"line\">                            <span class=\"meta\">@Override</span></span><br><span class=\"line\">                            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isTrusted</span><span class=\"params\">(X509Certificate[] chain,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                                                     String authType)</span></span></span><br><span class=\"line\"><span class=\"function\">                                    <span class=\"keyword\">throws</span> CertificateException </span>&#123;</span><br><span class=\"line\">                                <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125;).build();</span><br><span class=\"line\">                SSLConnectionSocketFactory sslsf = <span class=\"keyword\">new</span> SSLConnectionSocketFactory(</span><br><span class=\"line\">                        sslContext);</span><br><span class=\"line\">                httpClient = HttpClients.custom().setSSLSocketFactory(sslsf)</span><br><span class=\"line\">                        .build();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                httpClient = HttpClients.createDefault();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            CloseableHttpResponse response = httpClient.execute(http);</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (response != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (response.getStatusLine() != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                        statusCode = response.getStatusLine().getStatusCode();</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    HttpEntity entity = response.getEntity();</span><br><span class=\"line\">                    <span class=\"comment\">// 响应内容</span></span><br><span class=\"line\">                    content = EntityUtils.toString(entity, Consts.UTF_8);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">                response.close();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            httpClient.close();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getStatusCode</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> statusCode;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getContent</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> ParseException, IOException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> content;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"生成二维码\"><a href=\"#生成二维码\" class=\"headerlink\" title=\"生成二维码\"></a>生成二维码</h2><p>获取统一下单的url地址，生成二维码图片</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getPayUrl</span><span class=\"params\">(Map&lt;String, String&gt; map)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 统一下单接口链接</span></span><br><span class=\"line\">    String url = <span class=\"string\">&quot;https://api.mch.weixin.qq.com/pay/unifiedorder&quot;</span>;</span><br><span class=\"line\">    HttpClient httpClient = <span class=\"keyword\">new</span> HttpClient(url);</span><br><span class=\"line\">    httpClient.setHttps(<span class=\"keyword\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    Map&lt;String, String&gt; param = <span class=\"keyword\">new</span> HashMap&lt;&gt;();</span><br><span class=\"line\">    <span class=\"comment\">// 公众账号ID</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;appid&quot;</span>,appId);</span><br><span class=\"line\">    <span class=\"comment\">// 商户号</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;mch_id&quot;</span>,partner);</span><br><span class=\"line\">    <span class=\"comment\">// 随机字符串</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;nonce_str&quot;</span>, WXPayUtil.generateNonceStr());</span><br><span class=\"line\">    <span class=\"comment\">// 商品描述</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;body&quot;</span>,map.get(<span class=\"string\">&quot;body&quot;</span>));</span><br><span class=\"line\">    <span class=\"comment\">// 商户订单号(自己项目的订单号）</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;out_trade_no&quot;</span>,map.get(<span class=\"string\">&quot;orderId&quot;</span>));</span><br><span class=\"line\">    <span class=\"comment\">// 标价金额</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;total_fee&quot;</span>,map.get(<span class=\"string\">&quot;money&quot;</span>));</span><br><span class=\"line\">    <span class=\"comment\">// 终端IP</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;spbill_create_ip&quot;</span>,<span class=\"string\">&quot;192.168.200.1&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 通知地址(异步接收微信支付结果)</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;notify_url&quot;</span>,notifyUrl);</span><br><span class=\"line\">    <span class=\"comment\">// 交易类型(扫码支付）</span></span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;trade_type&quot;</span>,<span class=\"string\">&quot;NATIVE&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 附加参数，在接收的时候原样返回</span></span><br><span class=\"line\">    Map&lt;String,String&gt; attachMap = <span class=\"keyword\">new</span> HashMap&lt;&gt;();</span><br><span class=\"line\">    attachMap.put(<span class=\"string\">&quot;exchange&quot;</span>,map.get(<span class=\"string\">&quot;exchange&quot;</span>));</span><br><span class=\"line\">    attachMap.put(<span class=\"string\">&quot;routingKey&quot;</span>,map.get(<span class=\"string\">&quot;routingKey&quot;</span>));</span><br><span class=\"line\">    param.put(<span class=\"string\">&quot;attach&quot;</span>, JSONObject.toJSONString(attachMap));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 将参数转换为xml格式，同时生成签名</span></span><br><span class=\"line\">        String xmlParam = WXPayUtil.generateSignedXml(param, partnerkey);</span><br><span class=\"line\">        <span class=\"comment\">// 设置请求参数</span></span><br><span class=\"line\">        httpClient.setXmlParam(xmlParam);</span><br><span class=\"line\">        <span class=\"comment\">// 发起post请求</span></span><br><span class=\"line\">        httpClient.post();</span><br><span class=\"line\">        <span class=\"comment\">// 获取结果</span></span><br><span class=\"line\">        String content = httpClient.getContent();</span><br><span class=\"line\">        <span class=\"comment\">// 解析xml格式的数据,转换成map数据</span></span><br><span class=\"line\">        Map&lt;String, String&gt; result = WXPayUtil.xmlToMap(content);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (result.get(<span class=\"string\">&quot;return_code&quot;</span>).equals(<span class=\"string\">&quot;SUCCESS&quot;</span>) &amp;&amp;</span><br><span class=\"line\">        result.get(<span class=\"string\">&quot;result_code&quot;</span>).equals(<span class=\"string\">&quot;SUCCESS&quot;</span>))&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result.get(<span class=\"string\">&quot;code_url&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n"},{"title":"maven","date":"2022-06-10T02:34:00.000Z","cover":"/img/5.png","_content":"# 命令行跳过测试打包\n```shell\nmvn clean install -Dmaven.test.skip=true\n```\n\n# 明明有本地文件，idea却找不到包\n在idea中使用maven时常常出现配置好pom依赖后，怎么reimport都无法下载jar包。\n解决方法：在Maven窗口中打开mvn命令，输入更新不完整依赖命令：\n```shell\nmvn -U idea:idea\n```\n运行，就可以下载没有的jar包。\n\n# maven红色波浪线\n通过上面的命令jar包已经导入了成功也不能消除（reimport也不行，不过可以正常使用），可以先将带红色波浪线的依赖剪切掉，reimport一下，再将依赖粘贴回去，完美解决。\n\n\n# maven查找网站\nhttps://mvn.coderead.cn/\n","source":"_posts/开发记录/maven.md","raw":"---\ntitle: maven\ndate: 2022-6-10 10:34:00\ncover: \ntags:\n- 开发记录\n---\n# 命令行跳过测试打包\n```shell\nmvn clean install -Dmaven.test.skip=true\n```\n\n# 明明有本地文件，idea却找不到包\n在idea中使用maven时常常出现配置好pom依赖后，怎么reimport都无法下载jar包。\n解决方法：在Maven窗口中打开mvn命令，输入更新不完整依赖命令：\n```shell\nmvn -U idea:idea\n```\n运行，就可以下载没有的jar包。\n\n# maven红色波浪线\n通过上面的命令jar包已经导入了成功也不能消除（reimport也不行，不过可以正常使用），可以先将带红色波浪线的依赖剪切掉，reimport一下，再将依赖粘贴回去，完美解决。\n\n\n# maven查找网站\nhttps://mvn.coderead.cn/\n","slug":"开发记录/maven","published":1,"updated":"2022-06-20T12:31:17.275Z","_id":"cl48ai1l5000wys2mhw539sbo","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"命令行跳过测试打包\"><a href=\"#命令行跳过测试打包\" class=\"headerlink\" title=\"命令行跳过测试打包\"></a>命令行跳过测试打包</h1><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn clean install -Dmaven.test.skip=true</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"明明有本地文件，idea却找不到包\"><a href=\"#明明有本地文件，idea却找不到包\" class=\"headerlink\" title=\"明明有本地文件，idea却找不到包\"></a>明明有本地文件，idea却找不到包</h1><p>在idea中使用maven时常常出现配置好pom依赖后，怎么reimport都无法下载jar包。<br>解决方法：在Maven窗口中打开mvn命令，输入更新不完整依赖命令：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn -U idea:idea</span><br></pre></td></tr></table></figure>\n<p>运行，就可以下载没有的jar包。</p>\n<h1 id=\"maven红色波浪线\"><a href=\"#maven红色波浪线\" class=\"headerlink\" title=\"maven红色波浪线\"></a>maven红色波浪线</h1><p>通过上面的命令jar包已经导入了成功也不能消除（reimport也不行，不过可以正常使用），可以先将带红色波浪线的依赖剪切掉，reimport一下，再将依赖粘贴回去，完美解决。</p>\n<h1 id=\"maven查找网站\"><a href=\"#maven查找网站\" class=\"headerlink\" title=\"maven查找网站\"></a>maven查找网站</h1><p><a href=\"https://mvn.coderead.cn/\">https://mvn.coderead.cn/</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"命令行跳过测试打包\"><a href=\"#命令行跳过测试打包\" class=\"headerlink\" title=\"命令行跳过测试打包\"></a>命令行跳过测试打包</h1><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn clean install -Dmaven.test.skip=true</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"明明有本地文件，idea却找不到包\"><a href=\"#明明有本地文件，idea却找不到包\" class=\"headerlink\" title=\"明明有本地文件，idea却找不到包\"></a>明明有本地文件，idea却找不到包</h1><p>在idea中使用maven时常常出现配置好pom依赖后，怎么reimport都无法下载jar包。<br>解决方法：在Maven窗口中打开mvn命令，输入更新不完整依赖命令：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn -U idea:idea</span><br></pre></td></tr></table></figure>\n<p>运行，就可以下载没有的jar包。</p>\n<h1 id=\"maven红色波浪线\"><a href=\"#maven红色波浪线\" class=\"headerlink\" title=\"maven红色波浪线\"></a>maven红色波浪线</h1><p>通过上面的命令jar包已经导入了成功也不能消除（reimport也不行，不过可以正常使用），可以先将带红色波浪线的依赖剪切掉，reimport一下，再将依赖粘贴回去，完美解决。</p>\n<h1 id=\"maven查找网站\"><a href=\"#maven查找网站\" class=\"headerlink\" title=\"maven查找网站\"></a>maven查找网站</h1><p><a href=\"https://mvn.coderead.cn/\">https://mvn.coderead.cn/</a></p>\n"},{"title":"MyBatisCodeHelper-Pro","date":"2022-06-14T03:19:40.000Z","cover":"/img/4.png","_content":"\n# 配置model不被覆盖\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614114751.png)\n\n# 生成单元测试\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614115240.png)\n\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614115304.png)\n\n# xml生成resultMap\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/generateResultMapAndXmlGenerateJavaMethod.gif)","source":"_posts/插件/MyBatisCodeHelper-Pro.md","raw":"---\ntitle: MyBatisCodeHelper-Pro\ndate: 2022-6-14 11:19:40\ncover: \ntags:\n- IDEA插件\n---\n\n# 配置model不被覆盖\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614114751.png)\n\n# 生成单元测试\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614115240.png)\n\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614115304.png)\n\n# xml生成resultMap\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/generateResultMapAndXmlGenerateJavaMethod.gif)","slug":"插件/MyBatisCodeHelper-Pro","published":1,"updated":"2022-06-14T03:55:28.117Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl4f1felf0000fg2m65imhhgh","content":"<h1 id=\"配置model不被覆盖\"><a href=\"#配置model不被覆盖\" class=\"headerlink\" title=\"配置model不被覆盖\"></a>配置model不被覆盖</h1><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614114751.png\"></p>\n<h1 id=\"生成单元测试\"><a href=\"#生成单元测试\" class=\"headerlink\" title=\"生成单元测试\"></a>生成单元测试</h1><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614115240.png\"></p>\n<p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614115304.png\"></p>\n<h1 id=\"xml生成resultMap\"><a href=\"#xml生成resultMap\" class=\"headerlink\" title=\"xml生成resultMap\"></a>xml生成resultMap</h1><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/generateResultMapAndXmlGenerateJavaMethod.gif\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"配置model不被覆盖\"><a href=\"#配置model不被覆盖\" class=\"headerlink\" title=\"配置model不被覆盖\"></a>配置model不被覆盖</h1><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614114751.png\"></p>\n<h1 id=\"生成单元测试\"><a href=\"#生成单元测试\" class=\"headerlink\" title=\"生成单元测试\"></a>生成单元测试</h1><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614115240.png\"></p>\n<p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220614115304.png\"></p>\n<h1 id=\"xml生成resultMap\"><a href=\"#xml生成resultMap\" class=\"headerlink\" title=\"xml生成resultMap\"></a>xml生成resultMap</h1><p><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/generateResultMapAndXmlGenerateJavaMethod.gif\"></p>\n"},{"title":"vo对象转换插件","date":"2022-06-14T03:15:23.000Z","cover":"/img/7.png","_content":"# 使用指南\nBeanMappingKey 就是为了解决繁琐的手动对象转换而开发的，它（暂时）一共有三种用法：\n\n选中一个带有返回值和参数的方法，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey， 就能自动插入相关转换代码。\n选中一个变量，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey，就能自动生成转换代码到粘贴板。\n选中一个类，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey，就能自动生成转换代码到粘贴板。","source":"_posts/插件/vo对象转换插件.md","raw":"---\ntitle: vo对象转换插件\ndate: 2022-6-14 11:15:23\ncover: \ntags:\n- IDEA插件\n---\n# 使用指南\nBeanMappingKey 就是为了解决繁琐的手动对象转换而开发的，它（暂时）一共有三种用法：\n\n选中一个带有返回值和参数的方法，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey， 就能自动插入相关转换代码。\n选中一个变量，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey，就能自动生成转换代码到粘贴板。\n选中一个类，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey，就能自动生成转换代码到粘贴板。","slug":"插件/vo对象转换插件","published":1,"updated":"2022-06-14T03:15:52.198Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl4f1felh0002fg2me6mo3qqb","content":"<h1 id=\"使用指南\"><a href=\"#使用指南\" class=\"headerlink\" title=\"使用指南\"></a>使用指南</h1><p>BeanMappingKey 就是为了解决繁琐的手动对象转换而开发的，它（暂时）一共有三种用法：</p>\n<p>选中一个带有返回值和参数的方法，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey， 就能自动插入相关转换代码。<br>选中一个变量，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey，就能自动生成转换代码到粘贴板。<br>选中一个类，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey，就能自动生成转换代码到粘贴板。</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"使用指南\"><a href=\"#使用指南\" class=\"headerlink\" title=\"使用指南\"></a>使用指南</h1><p>BeanMappingKey 就是为了解决繁琐的手动对象转换而开发的，它（暂时）一共有三种用法：</p>\n<p>选中一个带有返回值和参数的方法，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey， 就能自动插入相关转换代码。<br>选中一个变量，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey，就能自动生成转换代码到粘贴板。<br>选中一个类，使用快捷键 Ctrl+M 或者右键点击 BeanMappingKey，就能自动生成转换代码到粘贴板。</p>\n"},{"title":"好看的图标","date":"2022-06-14T03:18:26.000Z","cover":"/img/9.png","_content":"Extra ToolWindow Colorful Icons\n","source":"_posts/插件/好看的图标.md","raw":"---\ntitle: 好看的图标\ndate: 2022-6-14 11:18:26\ncover: \ntags:\n- IDEA插件 \n---\nExtra ToolWindow Colorful Icons\n","slug":"插件/好看的图标","published":1,"updated":"2022-06-14T03:18:40.827Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl4f1feln0004fg2m19z80jmg","content":"<p>Extra ToolWindow Colorful Icons</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Extra ToolWindow Colorful Icons</p>\n"},{"title":"阿里云智能编码插件（Alibaba Cloud AI Coding Assistant）","date":"2022-06-14T02:51:51.000Z","cover":"/img/3.png","_content":"# 快捷搜索\nctrl+shift+s 搜索指定API。\n## 多api搜索\n默认只能搜索一个标签，另外的功能只能在输入框输入\n\n# 代码智能补全\n","source":"_posts/插件/阿里云智能编码插件.md","raw":"---\ntitle: 阿里云智能编码插件（Alibaba Cloud AI Coding Assistant）\ndate: 2022-6-14 10:51:51\ncover: \ntags:\n- IDEA插件\n---\n# 快捷搜索\nctrl+shift+s 搜索指定API。\n## 多api搜索\n默认只能搜索一个标签，另外的功能只能在输入框输入\n\n# 代码智能补全\n","slug":"插件/阿里云智能编码插件","published":1,"updated":"2022-06-14T02:57:14.074Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl4f1felq0005fg2mc7gq2v7c","content":"<h1 id=\"快捷搜索\"><a href=\"#快捷搜索\" class=\"headerlink\" title=\"快捷搜索\"></a>快捷搜索</h1><p>ctrl+shift+s 搜索指定API。</p>\n<h2 id=\"多api搜索\"><a href=\"#多api搜索\" class=\"headerlink\" title=\"多api搜索\"></a>多api搜索</h2><p>默认只能搜索一个标签，另外的功能只能在输入框输入</p>\n<h1 id=\"代码智能补全\"><a href=\"#代码智能补全\" class=\"headerlink\" title=\"代码智能补全\"></a>代码智能补全</h1>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"快捷搜索\"><a href=\"#快捷搜索\" class=\"headerlink\" title=\"快捷搜索\"></a>快捷搜索</h1><p>ctrl+shift+s 搜索指定API。</p>\n<h2 id=\"多api搜索\"><a href=\"#多api搜索\" class=\"headerlink\" title=\"多api搜索\"></a>多api搜索</h2><p>默认只能搜索一个标签，另外的功能只能在输入框输入</p>\n<h1 id=\"代码智能补全\"><a href=\"#代码智能补全\" class=\"headerlink\" title=\"代码智能补全\"></a>代码智能补全</h1>"},{"title":"资金清算-商户下拉框查询","date":"2022-06-15T03:31:40.000Z","cover":"/img/1.png","_content":"# 商户账号网页\nhttps://fap-sit.inwesure.com/$define/liquidate_account\n\n账户api\n\n```\nhttp://wesure-accounting-liquidate-server-http/liquidate/accountInfo/list\n```\n\n业务类型\n\n```\nhttp://wesure-accounting-engin-server-http/public/base/order/type/config/getOrderTypeCode\n```\n\n```java\n       JSONArray jsonArray = new JSONArray();\n        Set<String> businessTypeCodes=new HashSet<>();\n        for(BaseOrderTypeConfig config:result){\n            if(businessTypeCodes.add(config.getBusinessTypeCode())){\n                JSONObject jsonObj = new JSONObject();\n                jsonObj.put(\"text\", config.getBusinessTypeName());\n                jsonObj.put(\"value\", config.getBusinessTypeCode());\n                jsonArray.add(jsonObj);\n            }\n        }\n```\n\n\n\nwesure-accounting-liquidate-server-http/liquidate/public/get/account\n\nwesure-accounting-liquidate-server-http/liquidate/public/get/biz/tag\n\n```json\n{\n  \"pageNum\": 1,\n  \"pageSize\": 10,\n  \"order\": null,\n  \"sort\": null,\n  \"filter\": {\n    \"summary\": {\n      \"value\": \"1\"\n    }\n  }\n}\n```\n\n清算批次\n\n```java\n        ComplexResult check = FluentValidator.checkAll()\n                .on(liquidateBatch.getSummary(), new NotNullValidator(\"摘要\"))\n                .doValidate()\n                .result(ResultCollectors.toComplex());\n        if (!check.isSuccess()){\n            return new BaseResult(BaseMessage.INVALID_PARAMETER.getCode(),\n                    check.getErrors().get(0).toString(),\n                    null);\n        }\n```\n\n\n\n```\nWofCustomAppListRequestVo<FapQueryForm> form\n```\n\naccountId 为空\n\n```js\n    // 按条件导入fap\n    handleSearchFap (selection, action, cb) {\n      // let url = api.interactiveFapBill\n      this.$confirm('是否按搜索结果导入', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        alert('1')\n      })\n    },\n```\n\n批量导入\n\nhttps://fap-sit.inwesure.com/liquidate/fap/inter/batch/bill/interactive\n\n```json\n{\n  \"data\": [\n    \"PAPAJK202206082802000005BI\",\n    \"PAHTIC202206082802000003FU\"\n  ]\n}\n```\n\n批量重新导入\n\nhttps://fap-sit.inwesure.com/liquidat e/fap/inter/batch/bill/interactive\n\n```sql\n{\n  \"data\": [\n    \"PAPAJK202206082802000005BI\",\n    \"PAHTIC202206082802000003FU\"\n  ],\n  \"reImportFlag\": \"Y\"\n}\n```\n\n```\n.then(() => {\n  this.$http\n    .post(api.interactiveFapBillByParam, { ...param })\n    .then(res => {\n      if (res.code === 0) {\n        this.$message.success(res.message)\n        this.refleshCb()\n      } else {\n        this.$message.warning(res.message)\n      }\n    })\n    .finally(() => {\n      this.showIdentifyDialog = false\n    })\n})\n```\n\n```\n    searchData: {}\n  }\n},\nmethods: {\n  filterConfig (data) {\n    this.searchData = data\n    return data\n  },\n```\n","source":"_posts/日志/资金清算-商户下拉框查询.md","raw":"---\ntitle: 资金清算-商户下拉框查询\ndate: 2022-6-15 11:31:40\ncover: \ntags:\n- 日志\n---\n# 商户账号网页\nhttps://fap-sit.inwesure.com/$define/liquidate_account\n\n账户api\n\n```\nhttp://wesure-accounting-liquidate-server-http/liquidate/accountInfo/list\n```\n\n业务类型\n\n```\nhttp://wesure-accounting-engin-server-http/public/base/order/type/config/getOrderTypeCode\n```\n\n```java\n       JSONArray jsonArray = new JSONArray();\n        Set<String> businessTypeCodes=new HashSet<>();\n        for(BaseOrderTypeConfig config:result){\n            if(businessTypeCodes.add(config.getBusinessTypeCode())){\n                JSONObject jsonObj = new JSONObject();\n                jsonObj.put(\"text\", config.getBusinessTypeName());\n                jsonObj.put(\"value\", config.getBusinessTypeCode());\n                jsonArray.add(jsonObj);\n            }\n        }\n```\n\n\n\nwesure-accounting-liquidate-server-http/liquidate/public/get/account\n\nwesure-accounting-liquidate-server-http/liquidate/public/get/biz/tag\n\n```json\n{\n  \"pageNum\": 1,\n  \"pageSize\": 10,\n  \"order\": null,\n  \"sort\": null,\n  \"filter\": {\n    \"summary\": {\n      \"value\": \"1\"\n    }\n  }\n}\n```\n\n清算批次\n\n```java\n        ComplexResult check = FluentValidator.checkAll()\n                .on(liquidateBatch.getSummary(), new NotNullValidator(\"摘要\"))\n                .doValidate()\n                .result(ResultCollectors.toComplex());\n        if (!check.isSuccess()){\n            return new BaseResult(BaseMessage.INVALID_PARAMETER.getCode(),\n                    check.getErrors().get(0).toString(),\n                    null);\n        }\n```\n\n\n\n```\nWofCustomAppListRequestVo<FapQueryForm> form\n```\n\naccountId 为空\n\n```js\n    // 按条件导入fap\n    handleSearchFap (selection, action, cb) {\n      // let url = api.interactiveFapBill\n      this.$confirm('是否按搜索结果导入', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        alert('1')\n      })\n    },\n```\n\n批量导入\n\nhttps://fap-sit.inwesure.com/liquidate/fap/inter/batch/bill/interactive\n\n```json\n{\n  \"data\": [\n    \"PAPAJK202206082802000005BI\",\n    \"PAHTIC202206082802000003FU\"\n  ]\n}\n```\n\n批量重新导入\n\nhttps://fap-sit.inwesure.com/liquidat e/fap/inter/batch/bill/interactive\n\n```sql\n{\n  \"data\": [\n    \"PAPAJK202206082802000005BI\",\n    \"PAHTIC202206082802000003FU\"\n  ],\n  \"reImportFlag\": \"Y\"\n}\n```\n\n```\n.then(() => {\n  this.$http\n    .post(api.interactiveFapBillByParam, { ...param })\n    .then(res => {\n      if (res.code === 0) {\n        this.$message.success(res.message)\n        this.refleshCb()\n      } else {\n        this.$message.warning(res.message)\n      }\n    })\n    .finally(() => {\n      this.showIdentifyDialog = false\n    })\n})\n```\n\n```\n    searchData: {}\n  }\n},\nmethods: {\n  filterConfig (data) {\n    this.searchData = data\n    return data\n  },\n```\n","slug":"日志/资金清算-商户下拉框查询","published":1,"updated":"2022-06-17T06:31:37.851Z","_id":"cl4f7mfer0000vo2mez9cc6ig","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"商户账号网页\"><a href=\"#商户账号网页\" class=\"headerlink\" title=\"商户账号网页\"></a>商户账号网页</h1><p><a href=\"https://fap-sit.inwesure.com/$define/liquidate_account\">https://fap-sit.inwesure.com/$define/liquidate_account</a></p>\n<p>账户api</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://wesure-accounting-liquidate-server-http/liquidate/accountInfo/list</span><br></pre></td></tr></table></figure>\n\n<p>业务类型</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://wesure-accounting-engin-server-http/public/base/order/type/config/getOrderTypeCode</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">JSONArray jsonArray = <span class=\"keyword\">new</span> JSONArray();</span><br><span class=\"line\"> Set&lt;String&gt; businessTypeCodes=<span class=\"keyword\">new</span> HashSet&lt;&gt;();</span><br><span class=\"line\"> <span class=\"keyword\">for</span>(BaseOrderTypeConfig config:result)&#123;</span><br><span class=\"line\">     <span class=\"keyword\">if</span>(businessTypeCodes.add(config.getBusinessTypeCode()))&#123;</span><br><span class=\"line\">         JSONObject jsonObj = <span class=\"keyword\">new</span> JSONObject();</span><br><span class=\"line\">         jsonObj.put(<span class=\"string\">&quot;text&quot;</span>, config.getBusinessTypeName());</span><br><span class=\"line\">         jsonObj.put(<span class=\"string\">&quot;value&quot;</span>, config.getBusinessTypeCode());</span><br><span class=\"line\">         jsonArray.add(jsonObj);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>wesure-accounting-liquidate-server-http/liquidate/public/get/account</p>\n<p>wesure-accounting-liquidate-server-http/liquidate/public/get/biz/tag</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;pageNum&quot;</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;pageSize&quot;</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;order&quot;</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;sort&quot;</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;filter&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;summary&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;value&quot;</span>: <span class=\"string\">&quot;1&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>清算批次</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ComplexResult check = FluentValidator.checkAll()</span><br><span class=\"line\">        .on(liquidateBatch.getSummary(), <span class=\"keyword\">new</span> NotNullValidator(<span class=\"string\">&quot;摘要&quot;</span>))</span><br><span class=\"line\">        .doValidate()</span><br><span class=\"line\">        .result(ResultCollectors.toComplex());</span><br><span class=\"line\"><span class=\"keyword\">if</span> (!check.isSuccess())&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> BaseResult(BaseMessage.INVALID_PARAMETER.getCode(),</span><br><span class=\"line\">            check.getErrors().get(<span class=\"number\">0</span>).toString(),</span><br><span class=\"line\">            <span class=\"keyword\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WofCustomAppListRequestVo&lt;FapQueryForm&gt; form</span><br></pre></td></tr></table></figure>\n\n<p>accountId 为空</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 按条件导入fap</span></span><br><span class=\"line\">handleSearchFap (selection, action, cb) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// let url = api.interactiveFapBill</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.$confirm(<span class=\"string\">&#x27;是否按搜索结果导入&#x27;</span>, <span class=\"string\">&#x27;提示&#x27;</span>, &#123;</span><br><span class=\"line\">    <span class=\"attr\">confirmButtonText</span>: <span class=\"string\">&#x27;确定&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">cancelButtonText</span>: <span class=\"string\">&#x27;取消&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"string\">&#x27;warning&#x27;</span></span><br><span class=\"line\">  &#125;).then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    alert(<span class=\"string\">&#x27;1&#x27;</span>)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>批量导入</p>\n<p><a href=\"https://fap-sit.inwesure.com/liquidate/fap/inter/batch/bill/interactive\">https://fap-sit.inwesure.com/liquidate/fap/inter/batch/bill/interactive</a></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;data&quot;</span>: [</span><br><span class=\"line\">    <span class=\"string\">&quot;PAPAJK202206082802000005BI&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;PAHTIC202206082802000003FU&quot;</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>批量重新导入</p>\n<p><a href=\"https://fap-sit.inwesure.com/liquidat\">https://fap-sit.inwesure.com/liquidat</a> e/fap/inter/batch/bill/interactive</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;data&quot;: [</span><br><span class=\"line\">    &quot;PAPAJK202206082802000005BI&quot;,</span><br><span class=\"line\">    &quot;PAHTIC202206082802000003FU&quot;</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  &quot;reImportFlag&quot;: &quot;Y&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.then(() =&gt; &#123;</span><br><span class=\"line\">  this.$http</span><br><span class=\"line\">    .post(api.interactiveFapBillByParam, &#123; ...param &#125;)</span><br><span class=\"line\">    .then(res =&gt; &#123;</span><br><span class=\"line\">      if (res.code === 0) &#123;</span><br><span class=\"line\">        this.$message.success(res.message)</span><br><span class=\"line\">        this.refleshCb()</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        this.$message.warning(res.message)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .finally(() =&gt; &#123;</span><br><span class=\"line\">      this.showIdentifyDialog = false</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    searchData: &#123;&#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">methods: &#123;</span><br><span class=\"line\">  filterConfig (data) &#123;</span><br><span class=\"line\">    this.searchData = data</span><br><span class=\"line\">    return data</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"商户账号网页\"><a href=\"#商户账号网页\" class=\"headerlink\" title=\"商户账号网页\"></a>商户账号网页</h1><p><a href=\"https://fap-sit.inwesure.com/$define/liquidate_account\">https://fap-sit.inwesure.com/$define/liquidate_account</a></p>\n<p>账户api</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://wesure-accounting-liquidate-server-http/liquidate/accountInfo/list</span><br></pre></td></tr></table></figure>\n\n<p>业务类型</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://wesure-accounting-engin-server-http/public/base/order/type/config/getOrderTypeCode</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">JSONArray jsonArray = <span class=\"keyword\">new</span> JSONArray();</span><br><span class=\"line\"> Set&lt;String&gt; businessTypeCodes=<span class=\"keyword\">new</span> HashSet&lt;&gt;();</span><br><span class=\"line\"> <span class=\"keyword\">for</span>(BaseOrderTypeConfig config:result)&#123;</span><br><span class=\"line\">     <span class=\"keyword\">if</span>(businessTypeCodes.add(config.getBusinessTypeCode()))&#123;</span><br><span class=\"line\">         JSONObject jsonObj = <span class=\"keyword\">new</span> JSONObject();</span><br><span class=\"line\">         jsonObj.put(<span class=\"string\">&quot;text&quot;</span>, config.getBusinessTypeName());</span><br><span class=\"line\">         jsonObj.put(<span class=\"string\">&quot;value&quot;</span>, config.getBusinessTypeCode());</span><br><span class=\"line\">         jsonArray.add(jsonObj);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>wesure-accounting-liquidate-server-http/liquidate/public/get/account</p>\n<p>wesure-accounting-liquidate-server-http/liquidate/public/get/biz/tag</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;pageNum&quot;</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;pageSize&quot;</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;order&quot;</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;sort&quot;</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;filter&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;summary&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;value&quot;</span>: <span class=\"string\">&quot;1&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>清算批次</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ComplexResult check = FluentValidator.checkAll()</span><br><span class=\"line\">        .on(liquidateBatch.getSummary(), <span class=\"keyword\">new</span> NotNullValidator(<span class=\"string\">&quot;摘要&quot;</span>))</span><br><span class=\"line\">        .doValidate()</span><br><span class=\"line\">        .result(ResultCollectors.toComplex());</span><br><span class=\"line\"><span class=\"keyword\">if</span> (!check.isSuccess())&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> BaseResult(BaseMessage.INVALID_PARAMETER.getCode(),</span><br><span class=\"line\">            check.getErrors().get(<span class=\"number\">0</span>).toString(),</span><br><span class=\"line\">            <span class=\"keyword\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WofCustomAppListRequestVo&lt;FapQueryForm&gt; form</span><br></pre></td></tr></table></figure>\n\n<p>accountId 为空</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 按条件导入fap</span></span><br><span class=\"line\">handleSearchFap (selection, action, cb) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// let url = api.interactiveFapBill</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.$confirm(<span class=\"string\">&#x27;是否按搜索结果导入&#x27;</span>, <span class=\"string\">&#x27;提示&#x27;</span>, &#123;</span><br><span class=\"line\">    <span class=\"attr\">confirmButtonText</span>: <span class=\"string\">&#x27;确定&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">cancelButtonText</span>: <span class=\"string\">&#x27;取消&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"string\">&#x27;warning&#x27;</span></span><br><span class=\"line\">  &#125;).then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    alert(<span class=\"string\">&#x27;1&#x27;</span>)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>批量导入</p>\n<p><a href=\"https://fap-sit.inwesure.com/liquidate/fap/inter/batch/bill/interactive\">https://fap-sit.inwesure.com/liquidate/fap/inter/batch/bill/interactive</a></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;data&quot;</span>: [</span><br><span class=\"line\">    <span class=\"string\">&quot;PAPAJK202206082802000005BI&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;PAHTIC202206082802000003FU&quot;</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>批量重新导入</p>\n<p><a href=\"https://fap-sit.inwesure.com/liquidat\">https://fap-sit.inwesure.com/liquidat</a> e/fap/inter/batch/bill/interactive</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;data&quot;: [</span><br><span class=\"line\">    &quot;PAPAJK202206082802000005BI&quot;,</span><br><span class=\"line\">    &quot;PAHTIC202206082802000003FU&quot;</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  &quot;reImportFlag&quot;: &quot;Y&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.then(() =&gt; &#123;</span><br><span class=\"line\">  this.$http</span><br><span class=\"line\">    .post(api.interactiveFapBillByParam, &#123; ...param &#125;)</span><br><span class=\"line\">    .then(res =&gt; &#123;</span><br><span class=\"line\">      if (res.code === 0) &#123;</span><br><span class=\"line\">        this.$message.success(res.message)</span><br><span class=\"line\">        this.refleshCb()</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        this.$message.warning(res.message)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .finally(() =&gt; &#123;</span><br><span class=\"line\">      this.showIdentifyDialog = false</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    searchData: &#123;&#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">methods: &#123;</span><br><span class=\"line\">  filterConfig (data) &#123;</span><br><span class=\"line\">    this.searchData = data</span><br><span class=\"line\">    return data</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n"},{"title":"代码片段","date":"2022-06-20T02:36:39.000Z","cover":null,"_content":"\n# 文件后缀名校验\n```java\n        if (!\"xls,xlsx\".contains(file.getOriginalFilename().substring(file.getOriginalFilename().lastIndexOf(\".\") + 1, file.getOriginalFilename().length()))) {\n            return new BaseResult(BaseMessage.INVALID_PARAMETER.getCode(), \"只支持excel附件上传\", null);\n        }\n```\n# 文件大小限制\n```java\n //限制文件300K\n        if (file.getSize() > 300 * 1024) {\n            return new BaseResult(BaseMessage.INVALID_PARAMETER.getCode(), \"文件大小不得超过300K\", null);\n        }\n```\n# 集合判断\n```java\n        if (CollectionUtils.isNotEmpty()) {\n```\n# 返回json,用于提供给远程api接口\n```java\n        JSONArray jsonArray = new JSONArray();\n        for (LiquidateAccountInfo accountInfo : list) {\n            JSONObject jsonObject = new JSONObject();\n            jsonObject.put(\"text\", accountInfo.getAccountName());\n            jsonObject.put(\"value\", accountInfo.getAccountId());\n            jsonArray.add(jsonObject);\n        }\n        return new BaseResult(BaseMessage.SUCCESS, jsonArray);\n```\n\n# 详情\n```java\n    @ApiOperation(value = \"批次详情\", notes = \"权限码[liquidate:batch:order:view]\")\n    //@PermissionAnnotation(check = true, functionCodes = {\"liquidate:batch:order:view\"})\n    @PostMapping(value = \"/view\")\n    @ResponseBody\n    public BaseResult view(@RequestBody JSONObject request) {\n        LiquidateBatchExample example = new LiquidateBatchExample();\n        LiquidateBatchExample.Criteria criteria = example.createCriteria();\n        if (!request.containsKey(\"id\") || request.getLong(\"id\") == null) {\n            return new BaseResult<>(BaseMessage.INVALID_PARAMETER);\n        }\n        criteria.andIdEqualTo(request.getLongValue(\"id\"));\n\n        List<LiquidateBatch> list = liquidateBatchService.selectByExample(example);\n        if (list != null && list.size() > 0) {\n            return new BaseResult<>(BaseMessage.SUCCESS, list.get(0));\n        } else {\n            return new BaseResult<>(BaseMessage.DATA_NOT_EXIST);\n        }\n    }\n```\n\n# 逻辑删除\n```java\n    @ApiOperation(value = \"删除批次\", notes = \"权限码[liquidate:batch:order:del]\")\n    //@PermissionAnnotation(check = true, functionCodes = {\"liquidate:batch:order:del\"})\n    @PostMapping(value = \"/delete\")\n    @ResponseBody\n    public BaseResult delete(@RequestBody JSONObject request) {\n        LiquidateBatchExample example = new LiquidateBatchExample();\n        LiquidateBatchExample.Criteria criteria = example.createCriteria();\n        if (!request.containsKey(\"id\") || request.getLong(\"id\") == null) {\n            return new BaseResult<>(BaseMessage.INVALID_PARAMETER);\n        }\n        criteria.andIdEqualTo(request.getLongValue(\"id\"));\n\n        List<LiquidateBatch> list = liquidateBatchService.selectByExample(example);\n        if (list != null && list.size() > 0) {\n            LiquidateBatch batch = list.get(0);\n            batch.setDeleteFlag(DeleteFlag.DISABLE.getIndex());\n            liquidateBatchService.updateByPrimaryKeySelective(batch);\n        }\n\n        return new BaseResult();\n    }\n```\n\n# json对象解析(返回分页结果)\n## 旧\n```java\n    public BaseResult list(@RequestBody JSONObject request) throws Exception{\n        return liquidateBatchService.list(request);\n    }\n```\n```java\n    @Override\n    public BaseResult list(JSONObject request) throws Exception {\n        LiquidateBatchExample example = createQueryExample(request);\n        int pageNum = request.get(\"pageNum\") != null ? request.getInteger(\"pageNum\") : 1;\n        int pageSize = request.get(\"pageSize\") != null ? request.getInteger(\"pageSize\") : 10;\n        long count = getMapper().countByExample(example);\n        List<LiquidateBatch> list = selectByExampleForOffsetPage(example, (pageNum - 1) * pageSize, pageSize);\n        JSONObject resultData = new JSONObject();\n        resultData.put(\"data\", list);\n        resultData.put(\"pageNum\", pageNum);\n        resultData.put(\"totalPage\", (count % pageSize == 0) ? (count / pageSize) : (count / pageSize + 1));\n        resultData.put(\"totalCount\", count);\n        return new BaseResult<>(BaseMessage.SUCCESS, resultData);\n    }\n```\n## 新\n\n```java\n@Data\npublic class WofCustomAppListRequestVo<T> {\n    private int pageNum;\n    private int pageSize;\n    private String order;\n    private int sort;\n    private T filter;\n\n\n    //解决自定义表单value问题\n    public WofCustomAppListRequestVo<T> resolveParam(JSONObject obj, Class<T> t) {\n        if (null != obj.get(\"pageNum\")) {\n            this.setPageNum(obj.getInteger(\"pageNum\"));\n        }\n        if (null != obj.get(\"pageSize\")) {\n            this.setPageSize(obj.getInteger(\"pageSize\"));\n        }\n        if (null != obj.get(\"order\")) {\n            this.setOrder(obj.getString(\"order\"));\n        }\n        if (null != obj.get(\"sort\")) {\n            this.setSort(obj.getInteger(\"sort\"));\n        }\n        JSONObject filterJson = obj.getJSONObject(\"filter\");\n        T excludeValueObj=null;\n        if (null != obj.get(\"filter\")) {\n            JSONObject excludeValueJSON = new JSONObject();\n            filterJson.forEach((k, v) -> {\n                JSONObject valueJson = new JSONObject((Map)v);\n                //时间段筛选\n                if(null!=valueJson.get(\"type\")){\n                    if(\"daterange\".equals(valueJson.getString(\"type\"))){\n                        String from=valueJson.getString(\"from\");\n                        String to=valueJson.getString(\"to\");\n                        if(null!=from){\n                            excludeValueJSON.put(k+\"Begin\",valueJson.getString(\"from\"));\n                        }\n                        if(null!=to){\n                            excludeValueJSON.put(k+\"End\",valueJson.getString(\"to\"));\n                        }\n                    }\n                    if(\"array\".equals(valueJson.getString(\"type\"))){\n                        excludeValueJSON.put(k, valueJson.getJSONArray(\"value\"));\n                    }\n                }else {\n                    excludeValueJSON.put(k, valueJson.get(\"value\"));\n                }\n\n            });\n            excludeValueObj=JSONObject.toJavaObject(excludeValueJSON, t);\n        }\n        this.setFilter(excludeValueObj);\n        return this;\n    }\n}\n```\n\n```java\n    public BaseResult list(@RequestBody JSONObject jsonObject) {\n        WofCustomAppListRequestVo vo = new WofCustomAppListRequestVo();\n        vo.resolveParam(jsonObject, LiquidateAccountInfo.class);\n        return liquidateAccountInfoService.list(vo);\n```\n\n```java\n    public BaseResult list(WofCustomAppListRequestVo<LiquidateAccountInfo> request) {\n        LiquidateAccountInfoExample example = new LiquidateAccountInfoExample();\n        LiquidateAccountInfoExample.Criteria criteria = example.createCriteria();\n        criteria.andDeleteFlagEqualTo(DeleteFlag.ENABLE.getIndex());\n        if (null != request.getFilter()) {\n            if (StringUtils.isNotBlank(request.getFilter().getAccountId())) {\n                criteria.andAccountIdLike(\"%\" +request.getFilter().getAccountId()+ \"%\");\n            }\n        }\n        int count = countByExample(example);\n        int pageNum = request.getPageNum();\n        int pageSize = request.getPageSize();\n        List<LiquidateAccountInfo> list = selectByExampleForOffsetPage(example, (pageNum - 1) * pageSize, pageSize);\n        BasePageResult basePageResult = new BasePageResult(list, (long) count, pageSize, pageNum);\n        BaseResult baseResult = new BaseResult();\n        baseResult.setResult(basePageResult);\n        return baseResult;\n    }\n```\n\n# FastJson\nBankBusinessType newBusinessType = JSON.parseObject(params.toJSONString(), BankBusinessType.class);\n\n\n","source":"_posts/日志/代码片段.md","raw":"---\ntitle: 代码片段\ndate: 2022-6-20 10:36:39\ncover: \ntags:\n- 代码片段\n---\n\n# 文件后缀名校验\n```java\n        if (!\"xls,xlsx\".contains(file.getOriginalFilename().substring(file.getOriginalFilename().lastIndexOf(\".\") + 1, file.getOriginalFilename().length()))) {\n            return new BaseResult(BaseMessage.INVALID_PARAMETER.getCode(), \"只支持excel附件上传\", null);\n        }\n```\n# 文件大小限制\n```java\n //限制文件300K\n        if (file.getSize() > 300 * 1024) {\n            return new BaseResult(BaseMessage.INVALID_PARAMETER.getCode(), \"文件大小不得超过300K\", null);\n        }\n```\n# 集合判断\n```java\n        if (CollectionUtils.isNotEmpty()) {\n```\n# 返回json,用于提供给远程api接口\n```java\n        JSONArray jsonArray = new JSONArray();\n        for (LiquidateAccountInfo accountInfo : list) {\n            JSONObject jsonObject = new JSONObject();\n            jsonObject.put(\"text\", accountInfo.getAccountName());\n            jsonObject.put(\"value\", accountInfo.getAccountId());\n            jsonArray.add(jsonObject);\n        }\n        return new BaseResult(BaseMessage.SUCCESS, jsonArray);\n```\n\n# 详情\n```java\n    @ApiOperation(value = \"批次详情\", notes = \"权限码[liquidate:batch:order:view]\")\n    //@PermissionAnnotation(check = true, functionCodes = {\"liquidate:batch:order:view\"})\n    @PostMapping(value = \"/view\")\n    @ResponseBody\n    public BaseResult view(@RequestBody JSONObject request) {\n        LiquidateBatchExample example = new LiquidateBatchExample();\n        LiquidateBatchExample.Criteria criteria = example.createCriteria();\n        if (!request.containsKey(\"id\") || request.getLong(\"id\") == null) {\n            return new BaseResult<>(BaseMessage.INVALID_PARAMETER);\n        }\n        criteria.andIdEqualTo(request.getLongValue(\"id\"));\n\n        List<LiquidateBatch> list = liquidateBatchService.selectByExample(example);\n        if (list != null && list.size() > 0) {\n            return new BaseResult<>(BaseMessage.SUCCESS, list.get(0));\n        } else {\n            return new BaseResult<>(BaseMessage.DATA_NOT_EXIST);\n        }\n    }\n```\n\n# 逻辑删除\n```java\n    @ApiOperation(value = \"删除批次\", notes = \"权限码[liquidate:batch:order:del]\")\n    //@PermissionAnnotation(check = true, functionCodes = {\"liquidate:batch:order:del\"})\n    @PostMapping(value = \"/delete\")\n    @ResponseBody\n    public BaseResult delete(@RequestBody JSONObject request) {\n        LiquidateBatchExample example = new LiquidateBatchExample();\n        LiquidateBatchExample.Criteria criteria = example.createCriteria();\n        if (!request.containsKey(\"id\") || request.getLong(\"id\") == null) {\n            return new BaseResult<>(BaseMessage.INVALID_PARAMETER);\n        }\n        criteria.andIdEqualTo(request.getLongValue(\"id\"));\n\n        List<LiquidateBatch> list = liquidateBatchService.selectByExample(example);\n        if (list != null && list.size() > 0) {\n            LiquidateBatch batch = list.get(0);\n            batch.setDeleteFlag(DeleteFlag.DISABLE.getIndex());\n            liquidateBatchService.updateByPrimaryKeySelective(batch);\n        }\n\n        return new BaseResult();\n    }\n```\n\n# json对象解析(返回分页结果)\n## 旧\n```java\n    public BaseResult list(@RequestBody JSONObject request) throws Exception{\n        return liquidateBatchService.list(request);\n    }\n```\n```java\n    @Override\n    public BaseResult list(JSONObject request) throws Exception {\n        LiquidateBatchExample example = createQueryExample(request);\n        int pageNum = request.get(\"pageNum\") != null ? request.getInteger(\"pageNum\") : 1;\n        int pageSize = request.get(\"pageSize\") != null ? request.getInteger(\"pageSize\") : 10;\n        long count = getMapper().countByExample(example);\n        List<LiquidateBatch> list = selectByExampleForOffsetPage(example, (pageNum - 1) * pageSize, pageSize);\n        JSONObject resultData = new JSONObject();\n        resultData.put(\"data\", list);\n        resultData.put(\"pageNum\", pageNum);\n        resultData.put(\"totalPage\", (count % pageSize == 0) ? (count / pageSize) : (count / pageSize + 1));\n        resultData.put(\"totalCount\", count);\n        return new BaseResult<>(BaseMessage.SUCCESS, resultData);\n    }\n```\n## 新\n\n```java\n@Data\npublic class WofCustomAppListRequestVo<T> {\n    private int pageNum;\n    private int pageSize;\n    private String order;\n    private int sort;\n    private T filter;\n\n\n    //解决自定义表单value问题\n    public WofCustomAppListRequestVo<T> resolveParam(JSONObject obj, Class<T> t) {\n        if (null != obj.get(\"pageNum\")) {\n            this.setPageNum(obj.getInteger(\"pageNum\"));\n        }\n        if (null != obj.get(\"pageSize\")) {\n            this.setPageSize(obj.getInteger(\"pageSize\"));\n        }\n        if (null != obj.get(\"order\")) {\n            this.setOrder(obj.getString(\"order\"));\n        }\n        if (null != obj.get(\"sort\")) {\n            this.setSort(obj.getInteger(\"sort\"));\n        }\n        JSONObject filterJson = obj.getJSONObject(\"filter\");\n        T excludeValueObj=null;\n        if (null != obj.get(\"filter\")) {\n            JSONObject excludeValueJSON = new JSONObject();\n            filterJson.forEach((k, v) -> {\n                JSONObject valueJson = new JSONObject((Map)v);\n                //时间段筛选\n                if(null!=valueJson.get(\"type\")){\n                    if(\"daterange\".equals(valueJson.getString(\"type\"))){\n                        String from=valueJson.getString(\"from\");\n                        String to=valueJson.getString(\"to\");\n                        if(null!=from){\n                            excludeValueJSON.put(k+\"Begin\",valueJson.getString(\"from\"));\n                        }\n                        if(null!=to){\n                            excludeValueJSON.put(k+\"End\",valueJson.getString(\"to\"));\n                        }\n                    }\n                    if(\"array\".equals(valueJson.getString(\"type\"))){\n                        excludeValueJSON.put(k, valueJson.getJSONArray(\"value\"));\n                    }\n                }else {\n                    excludeValueJSON.put(k, valueJson.get(\"value\"));\n                }\n\n            });\n            excludeValueObj=JSONObject.toJavaObject(excludeValueJSON, t);\n        }\n        this.setFilter(excludeValueObj);\n        return this;\n    }\n}\n```\n\n```java\n    public BaseResult list(@RequestBody JSONObject jsonObject) {\n        WofCustomAppListRequestVo vo = new WofCustomAppListRequestVo();\n        vo.resolveParam(jsonObject, LiquidateAccountInfo.class);\n        return liquidateAccountInfoService.list(vo);\n```\n\n```java\n    public BaseResult list(WofCustomAppListRequestVo<LiquidateAccountInfo> request) {\n        LiquidateAccountInfoExample example = new LiquidateAccountInfoExample();\n        LiquidateAccountInfoExample.Criteria criteria = example.createCriteria();\n        criteria.andDeleteFlagEqualTo(DeleteFlag.ENABLE.getIndex());\n        if (null != request.getFilter()) {\n            if (StringUtils.isNotBlank(request.getFilter().getAccountId())) {\n                criteria.andAccountIdLike(\"%\" +request.getFilter().getAccountId()+ \"%\");\n            }\n        }\n        int count = countByExample(example);\n        int pageNum = request.getPageNum();\n        int pageSize = request.getPageSize();\n        List<LiquidateAccountInfo> list = selectByExampleForOffsetPage(example, (pageNum - 1) * pageSize, pageSize);\n        BasePageResult basePageResult = new BasePageResult(list, (long) count, pageSize, pageNum);\n        BaseResult baseResult = new BaseResult();\n        baseResult.setResult(basePageResult);\n        return baseResult;\n    }\n```\n\n# FastJson\nBankBusinessType newBusinessType = JSON.parseObject(params.toJSONString(), BankBusinessType.class);\n\n\n","slug":"日志/代码片段","published":1,"updated":"2022-06-27T12:08:58.628Z","_id":"cl4m4maug0000iw2meu7b1ioh","comments":1,"layout":"post","photos":[],"link":""},{"title":"跨域请求","date":"2020-05-18T12:37:39.000Z","cover":"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220518203805.png","_content":"\n# 什么是跨域请求\n>请求的目标URL和所在网页的URL的协议、域名、端口有一个不同，就算是跨域\n> https,baidu,80\n\n# CORS\n**跨域资源共享(Cross-origin resource sharing)**\n\n> 在跨域请求之前，先发送options请求询问服务器是否允许接下来的跨域请求\n> OPTIONS请求中添加字段\n> Origin:发起请求的域\n> Access-Control-Request-Method：将要发起的跨域请求方式（GET/PUT/POST/DELETE）\n> Access-Control-Request-Headers：将要发起的跨域请求中包含的请求头字段\n\n服务器通过响应字段表示是否允许这个跨域请求，浏览器收到后检查如果不符合，就拒绝\n> Access-Control-Allow-Origin：允许哪些域来访问（*表示允许所有域的请求）\nAccess-Control-Allow-Methods：允许哪些请求方式\nAccess-Control-Allow-Headers：允许哪些请求头字段\nAccess-Control-Allow-Credentials：是否允许携带Cookie\n\n# 两个优化\n如果是一个简单请求，那么就直接发起请求，只需要加入Origin字段表明自己的来源，服务器根据Allow-Origin判断是否符合要求\n简单请求就是HEAD，GET，POST三者之一，请求头中的\n\n# 四种常见的 POST 提交数据方式\nHTTP协议是由ASCII码传输的，建立在TCP/IP协议之上的应用层规范，规范把HTTP请求分为三个部分，状态行，请求头，消息主体\n协议规定POST提交的数据必须放到消息体中，但是没有规定编码方式。\n数据发送出去，服务端通过Content-Type字段对主体进行解析\n## application/x-www-form-urlencoded\n默认的编码方式，采用的浏览器的原生form表单，\n","source":"_posts/开发记录/跨域请求.md","raw":"---\ntitle: 跨域请求\ndate: 2020-5-18 20:37:39\ncover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220518203805.png\ntags:\n- 开发记录\n---\n\n# 什么是跨域请求\n>请求的目标URL和所在网页的URL的协议、域名、端口有一个不同，就算是跨域\n> https,baidu,80\n\n# CORS\n**跨域资源共享(Cross-origin resource sharing)**\n\n> 在跨域请求之前，先发送options请求询问服务器是否允许接下来的跨域请求\n> OPTIONS请求中添加字段\n> Origin:发起请求的域\n> Access-Control-Request-Method：将要发起的跨域请求方式（GET/PUT/POST/DELETE）\n> Access-Control-Request-Headers：将要发起的跨域请求中包含的请求头字段\n\n服务器通过响应字段表示是否允许这个跨域请求，浏览器收到后检查如果不符合，就拒绝\n> Access-Control-Allow-Origin：允许哪些域来访问（*表示允许所有域的请求）\nAccess-Control-Allow-Methods：允许哪些请求方式\nAccess-Control-Allow-Headers：允许哪些请求头字段\nAccess-Control-Allow-Credentials：是否允许携带Cookie\n\n# 两个优化\n如果是一个简单请求，那么就直接发起请求，只需要加入Origin字段表明自己的来源，服务器根据Allow-Origin判断是否符合要求\n简单请求就是HEAD，GET，POST三者之一，请求头中的\n\n# 四种常见的 POST 提交数据方式\nHTTP协议是由ASCII码传输的，建立在TCP/IP协议之上的应用层规范，规范把HTTP请求分为三个部分，状态行，请求头，消息主体\n协议规定POST提交的数据必须放到消息体中，但是没有规定编码方式。\n数据发送出去，服务端通过Content-Type字段对主体进行解析\n## application/x-www-form-urlencoded\n默认的编码方式，采用的浏览器的原生form表单，\n","slug":"开发记录/跨域请求","published":1,"updated":"2022-05-30T03:05:17.169Z","_id":"cl4m62ivv0003iw2m0nc68i2g","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"什么是跨域请求\"><a href=\"#什么是跨域请求\" class=\"headerlink\" title=\"什么是跨域请求\"></a>什么是跨域请求</h1><blockquote>\n<p>请求的目标URL和所在网页的URL的协议、域名、端口有一个不同，就算是跨域<br>https,baidu,80</p>\n</blockquote>\n<h1 id=\"CORS\"><a href=\"#CORS\" class=\"headerlink\" title=\"CORS\"></a>CORS</h1><p><strong>跨域资源共享(Cross-origin resource sharing)</strong></p>\n<blockquote>\n<p>在跨域请求之前，先发送options请求询问服务器是否允许接下来的跨域请求<br>OPTIONS请求中添加字段<br>Origin:发起请求的域<br>Access-Control-Request-Method：将要发起的跨域请求方式（GET/PUT/POST/DELETE）<br>Access-Control-Request-Headers：将要发起的跨域请求中包含的请求头字段</p>\n</blockquote>\n<p>服务器通过响应字段表示是否允许这个跨域请求，浏览器收到后检查如果不符合，就拒绝</p>\n<blockquote>\n<p>Access-Control-Allow-Origin：允许哪些域来访问（*表示允许所有域的请求）<br>Access-Control-Allow-Methods：允许哪些请求方式<br>Access-Control-Allow-Headers：允许哪些请求头字段<br>Access-Control-Allow-Credentials：是否允许携带Cookie</p>\n</blockquote>\n<h1 id=\"两个优化\"><a href=\"#两个优化\" class=\"headerlink\" title=\"两个优化\"></a>两个优化</h1><p>如果是一个简单请求，那么就直接发起请求，只需要加入Origin字段表明自己的来源，服务器根据Allow-Origin判断是否符合要求<br>简单请求就是HEAD，GET，POST三者之一，请求头中的</p>\n<h1 id=\"四种常见的-POST-提交数据方式\"><a href=\"#四种常见的-POST-提交数据方式\" class=\"headerlink\" title=\"四种常见的 POST 提交数据方式\"></a>四种常见的 POST 提交数据方式</h1><p>HTTP协议是由ASCII码传输的，建立在TCP/IP协议之上的应用层规范，规范把HTTP请求分为三个部分，状态行，请求头，消息主体<br>协议规定POST提交的数据必须放到消息体中，但是没有规定编码方式。<br>数据发送出去，服务端通过Content-Type字段对主体进行解析</p>\n<h2 id=\"application-x-www-form-urlencoded\"><a href=\"#application-x-www-form-urlencoded\" class=\"headerlink\" title=\"application/x-www-form-urlencoded\"></a>application/x-www-form-urlencoded</h2><p>默认的编码方式，采用的浏览器的原生form表单，</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"什么是跨域请求\"><a href=\"#什么是跨域请求\" class=\"headerlink\" title=\"什么是跨域请求\"></a>什么是跨域请求</h1><blockquote>\n<p>请求的目标URL和所在网页的URL的协议、域名、端口有一个不同，就算是跨域<br>https,baidu,80</p>\n</blockquote>\n<h1 id=\"CORS\"><a href=\"#CORS\" class=\"headerlink\" title=\"CORS\"></a>CORS</h1><p><strong>跨域资源共享(Cross-origin resource sharing)</strong></p>\n<blockquote>\n<p>在跨域请求之前，先发送options请求询问服务器是否允许接下来的跨域请求<br>OPTIONS请求中添加字段<br>Origin:发起请求的域<br>Access-Control-Request-Method：将要发起的跨域请求方式（GET/PUT/POST/DELETE）<br>Access-Control-Request-Headers：将要发起的跨域请求中包含的请求头字段</p>\n</blockquote>\n<p>服务器通过响应字段表示是否允许这个跨域请求，浏览器收到后检查如果不符合，就拒绝</p>\n<blockquote>\n<p>Access-Control-Allow-Origin：允许哪些域来访问（*表示允许所有域的请求）<br>Access-Control-Allow-Methods：允许哪些请求方式<br>Access-Control-Allow-Headers：允许哪些请求头字段<br>Access-Control-Allow-Credentials：是否允许携带Cookie</p>\n</blockquote>\n<h1 id=\"两个优化\"><a href=\"#两个优化\" class=\"headerlink\" title=\"两个优化\"></a>两个优化</h1><p>如果是一个简单请求，那么就直接发起请求，只需要加入Origin字段表明自己的来源，服务器根据Allow-Origin判断是否符合要求<br>简单请求就是HEAD，GET，POST三者之一，请求头中的</p>\n<h1 id=\"四种常见的-POST-提交数据方式\"><a href=\"#四种常见的-POST-提交数据方式\" class=\"headerlink\" title=\"四种常见的 POST 提交数据方式\"></a>四种常见的 POST 提交数据方式</h1><p>HTTP协议是由ASCII码传输的，建立在TCP/IP协议之上的应用层规范，规范把HTTP请求分为三个部分，状态行，请求头，消息主体<br>协议规定POST提交的数据必须放到消息体中，但是没有规定编码方式。<br>数据发送出去，服务端通过Content-Type字段对主体进行解析</p>\n<h2 id=\"application-x-www-form-urlencoded\"><a href=\"#application-x-www-form-urlencoded\" class=\"headerlink\" title=\"application/x-www-form-urlencoded\"></a>application/x-www-form-urlencoded</h2><p>默认的编码方式，采用的浏览器的原生form表单，</p>\n"},{"title":"redis封装工具类","date":"2022-06-20T07:05:33.000Z","cover":"/img/8.png","_content":"```java\n@Component\npublic class RedisTemplateUtil {\n    @Bean(name = \"redisTemplateJson\")\n    public RedisTemplate redisTemplateJson(\n            @Value(\"${spring.fap.cache.redis.database:}\") int database,\n            @Value(\"${spring.fap.cache.redis.host:}\") String host,\n            @Value(\"${spring.fap.cache.redis.password:}\") String password,\n            @Value(\"${spring.fap.cache.redis.port:}\") int port,\n            @Value(\"${spring.fap.cache.redis.pool.min-idle:}\") int minIdle,\n            @Value(\"${spring.fap.cache.redis.pool.max-idle:}\") int maxIdle,\n            @Value(\"${spring.fap.cache.redis.timeout:}\") int timeout) {\n        JedisConnectionFactory factory = new JedisConnectionFactory();\n        factory.setDatabase(database);\n        factory.setHostName(host);\n        factory.setPassword(password);\n        factory.setPort(port);\n        JedisPoolConfig jedisPoolConfig = new JedisPoolConfig();\n        jedisPoolConfig.setMinIdle(minIdle);\n        jedisPoolConfig.setMaxIdle(maxIdle);\n        factory.setPoolConfig(jedisPoolConfig);\n        factory.setTimeout(timeout); //设置连接超时时间\n        factory.afterPropertiesSet();\n        StringRedisTemplate template = new StringRedisTemplate(factory);\n\n        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);\n        ObjectMapper om = new ObjectMapper();\n        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\n        jackson2JsonRedisSerializer.setObjectMapper(om);\n        template.setValueSerializer(jackson2JsonRedisSerializer);\n        template.setKeySerializer(new StringRedisSerializer());\n        template.afterPropertiesSet();\n        return template;\n    }\n\n    @Resource(name = \"redisTemplateJson\")\n    private RedisTemplate redisTemplate;\n\n    /**\n     * 写入缓存\n     *\n     * @param key\n     * @param value\n     * @return\n     */\n    public <T> boolean set(final String key, T value) {\n        boolean result = false;\n        try {\n            ValueOperations<Serializable, T> operations = redisTemplate.opsForValue();\n            operations.set(key, value);\n            result = true;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return result;\n    }\n\n    /**\n     * 写入缓存设置时效时间\n     *\n     * @param key\n     * @param value\n     * @return\n     */\n    public <T> boolean set(final String key, T value, Long expireTime) {\n        boolean result = false;\n        try {\n            ValueOperations<Serializable, T> operations = redisTemplate.opsForValue();\n            operations.set(key, value, expireTime, TimeUnit.SECONDS);\n            result = true;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return result;\n    }\n\n    /**\n     * 批量删除对应的value\n     *\n     * @param keys\n     */\n    public void remove(final String... keys) {\n        for (String key : keys) {\n            remove(key);\n        }\n    }\n\n    /**\n     * 批量删除key\n     *\n     * @param pattern\n     */\n    public void removePattern(final String pattern) {\n        Set<Serializable> keys = redisTemplate.keys(pattern);\n        if (keys.size() > 0) {\n            redisTemplate.delete(keys);\n        }\n    }\n\n    /**\n     * 删除对应的value\n     *\n     * @param key\n     */\n    public void remove(final String key) {\n        if (exists(key)) {\n            redisTemplate.delete(key);\n        }\n    }\n\n    /**\n     * 判断缓存中是否有对应的value\n     *\n     * @param key\n     * @return\n     */\n    public boolean exists(final String key) {\n\n        return redisTemplate.hasKey(key);\n    }\n\n    /**\n     * 读取缓存\n     *\n     * @param key\n     * @return\n     */\n    public <T> T get(final String key) {\n        ValueOperations<Serializable, T> operations = redisTemplate.opsForValue();\n        return operations.get(key);\n    }\n\n    /**\n     * 哈希 添加\n     *\n     * @param key\n     * @param hashKey\n     * @param value\n     */\n    public void hmSet(String key, Object hashKey, Object value) {\n        HashOperations<String, Object, Object> hash = redisTemplate.opsForHash();\n        hash.put(key, hashKey, value);\n    }\n\n    /**\n     * 哈希获取数据\n     *\n     * @param key\n     * @param hashKey\n     * @return\n     */\n    public Object hmGet(String key, Object hashKey) {\n        HashOperations<String, Object, Object> hash = redisTemplate.opsForHash();\n        return hash.get(key, hashKey);\n    }\n\n    /**\n     * 列表添加\n     *\n     * @param k\n     * @param v\n     */\n    public void lPush(String k, List<Object> v) {\n        ListOperations<String, Object> list = redisTemplate.opsForList();\n        list.rightPushAll(k, v);\n    }\n\n    /**\n     * 列表获取\n     *\n     * @param k\n     * @param l\n     * @param l1\n     * @return\n     */\n    public List<Object> lRange(String k, long l, long l1) {\n        ListOperations<String, Object> list = redisTemplate.opsForList();\n        return list.range(k, l, l1);\n    }\n\n    /**\n     * 集合添加\n     *\n     * @param key\n     * @param value\n     */\n    public void add(String key, Object value) {\n        SetOperations<String, Object> set = redisTemplate.opsForSet();\n        set.add(key, value);\n    }\n\n    /**\n     * 集合获取\n     *\n     * @param key\n     * @return\n     */\n    public Set<Object> setMembers(String key) {\n        SetOperations<String, Object> set = redisTemplate.opsForSet();\n        return set.members(key);\n    }\n\n    /**\n     * 有序集合添加\n     *\n     * @param key\n     * @param value\n     * @param scoure\n     */\n    public void zAdd(String key, Object value, double scoure) {\n        ZSetOperations<String, Object> zset = redisTemplate.opsForZSet();\n        zset.add(key, value, scoure);\n    }\n\n    /**\n     * 有序集合获取\n     *\n     * @param key\n     * @param scoure\n     * @param scoure1\n     * @return\n     */\n    public Set<Object> rangeByScore(String key, double scoure, double scoure1) {\n        ZSetOperations<String, Object> zset = redisTemplate.opsForZSet();\n        return zset.rangeByScore(key, scoure, scoure1);\n    }\n\n    /**\n     * 获取自增数据\n     *\n     * @param key\n     * @return\n     */\n    public Long getIncrId(String key, Long expireTime, Long startValue) {\n        Boolean  hasKey=redisTemplate.hasKey(key);\n        RedisAtomicLong entityIdCounter = new RedisAtomicLong(key, redisTemplate.getConnectionFactory());\n        if(!hasKey){\n            entityIdCounter.expire(expireTime, TimeUnit.SECONDS);\n        }\n        if(null != startValue){\n            entityIdCounter.set(startValue);\n            entityIdCounter.expire(expireTime, TimeUnit.SECONDS);\n        }\n        return entityIdCounter.incrementAndGet();\n    }\n}\n```\n","source":"_posts/组件/redis封装.md","raw":"---\ntitle: redis封装工具类\ndate: 2022-6-20 15:05:33\ncover: \ntags:\n- 组件\n---\n```java\n@Component\npublic class RedisTemplateUtil {\n    @Bean(name = \"redisTemplateJson\")\n    public RedisTemplate redisTemplateJson(\n            @Value(\"${spring.fap.cache.redis.database:}\") int database,\n            @Value(\"${spring.fap.cache.redis.host:}\") String host,\n            @Value(\"${spring.fap.cache.redis.password:}\") String password,\n            @Value(\"${spring.fap.cache.redis.port:}\") int port,\n            @Value(\"${spring.fap.cache.redis.pool.min-idle:}\") int minIdle,\n            @Value(\"${spring.fap.cache.redis.pool.max-idle:}\") int maxIdle,\n            @Value(\"${spring.fap.cache.redis.timeout:}\") int timeout) {\n        JedisConnectionFactory factory = new JedisConnectionFactory();\n        factory.setDatabase(database);\n        factory.setHostName(host);\n        factory.setPassword(password);\n        factory.setPort(port);\n        JedisPoolConfig jedisPoolConfig = new JedisPoolConfig();\n        jedisPoolConfig.setMinIdle(minIdle);\n        jedisPoolConfig.setMaxIdle(maxIdle);\n        factory.setPoolConfig(jedisPoolConfig);\n        factory.setTimeout(timeout); //设置连接超时时间\n        factory.afterPropertiesSet();\n        StringRedisTemplate template = new StringRedisTemplate(factory);\n\n        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);\n        ObjectMapper om = new ObjectMapper();\n        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\n        jackson2JsonRedisSerializer.setObjectMapper(om);\n        template.setValueSerializer(jackson2JsonRedisSerializer);\n        template.setKeySerializer(new StringRedisSerializer());\n        template.afterPropertiesSet();\n        return template;\n    }\n\n    @Resource(name = \"redisTemplateJson\")\n    private RedisTemplate redisTemplate;\n\n    /**\n     * 写入缓存\n     *\n     * @param key\n     * @param value\n     * @return\n     */\n    public <T> boolean set(final String key, T value) {\n        boolean result = false;\n        try {\n            ValueOperations<Serializable, T> operations = redisTemplate.opsForValue();\n            operations.set(key, value);\n            result = true;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return result;\n    }\n\n    /**\n     * 写入缓存设置时效时间\n     *\n     * @param key\n     * @param value\n     * @return\n     */\n    public <T> boolean set(final String key, T value, Long expireTime) {\n        boolean result = false;\n        try {\n            ValueOperations<Serializable, T> operations = redisTemplate.opsForValue();\n            operations.set(key, value, expireTime, TimeUnit.SECONDS);\n            result = true;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return result;\n    }\n\n    /**\n     * 批量删除对应的value\n     *\n     * @param keys\n     */\n    public void remove(final String... keys) {\n        for (String key : keys) {\n            remove(key);\n        }\n    }\n\n    /**\n     * 批量删除key\n     *\n     * @param pattern\n     */\n    public void removePattern(final String pattern) {\n        Set<Serializable> keys = redisTemplate.keys(pattern);\n        if (keys.size() > 0) {\n            redisTemplate.delete(keys);\n        }\n    }\n\n    /**\n     * 删除对应的value\n     *\n     * @param key\n     */\n    public void remove(final String key) {\n        if (exists(key)) {\n            redisTemplate.delete(key);\n        }\n    }\n\n    /**\n     * 判断缓存中是否有对应的value\n     *\n     * @param key\n     * @return\n     */\n    public boolean exists(final String key) {\n\n        return redisTemplate.hasKey(key);\n    }\n\n    /**\n     * 读取缓存\n     *\n     * @param key\n     * @return\n     */\n    public <T> T get(final String key) {\n        ValueOperations<Serializable, T> operations = redisTemplate.opsForValue();\n        return operations.get(key);\n    }\n\n    /**\n     * 哈希 添加\n     *\n     * @param key\n     * @param hashKey\n     * @param value\n     */\n    public void hmSet(String key, Object hashKey, Object value) {\n        HashOperations<String, Object, Object> hash = redisTemplate.opsForHash();\n        hash.put(key, hashKey, value);\n    }\n\n    /**\n     * 哈希获取数据\n     *\n     * @param key\n     * @param hashKey\n     * @return\n     */\n    public Object hmGet(String key, Object hashKey) {\n        HashOperations<String, Object, Object> hash = redisTemplate.opsForHash();\n        return hash.get(key, hashKey);\n    }\n\n    /**\n     * 列表添加\n     *\n     * @param k\n     * @param v\n     */\n    public void lPush(String k, List<Object> v) {\n        ListOperations<String, Object> list = redisTemplate.opsForList();\n        list.rightPushAll(k, v);\n    }\n\n    /**\n     * 列表获取\n     *\n     * @param k\n     * @param l\n     * @param l1\n     * @return\n     */\n    public List<Object> lRange(String k, long l, long l1) {\n        ListOperations<String, Object> list = redisTemplate.opsForList();\n        return list.range(k, l, l1);\n    }\n\n    /**\n     * 集合添加\n     *\n     * @param key\n     * @param value\n     */\n    public void add(String key, Object value) {\n        SetOperations<String, Object> set = redisTemplate.opsForSet();\n        set.add(key, value);\n    }\n\n    /**\n     * 集合获取\n     *\n     * @param key\n     * @return\n     */\n    public Set<Object> setMembers(String key) {\n        SetOperations<String, Object> set = redisTemplate.opsForSet();\n        return set.members(key);\n    }\n\n    /**\n     * 有序集合添加\n     *\n     * @param key\n     * @param value\n     * @param scoure\n     */\n    public void zAdd(String key, Object value, double scoure) {\n        ZSetOperations<String, Object> zset = redisTemplate.opsForZSet();\n        zset.add(key, value, scoure);\n    }\n\n    /**\n     * 有序集合获取\n     *\n     * @param key\n     * @param scoure\n     * @param scoure1\n     * @return\n     */\n    public Set<Object> rangeByScore(String key, double scoure, double scoure1) {\n        ZSetOperations<String, Object> zset = redisTemplate.opsForZSet();\n        return zset.rangeByScore(key, scoure, scoure1);\n    }\n\n    /**\n     * 获取自增数据\n     *\n     * @param key\n     * @return\n     */\n    public Long getIncrId(String key, Long expireTime, Long startValue) {\n        Boolean  hasKey=redisTemplate.hasKey(key);\n        RedisAtomicLong entityIdCounter = new RedisAtomicLong(key, redisTemplate.getConnectionFactory());\n        if(!hasKey){\n            entityIdCounter.expire(expireTime, TimeUnit.SECONDS);\n        }\n        if(null != startValue){\n            entityIdCounter.set(startValue);\n            entityIdCounter.expire(expireTime, TimeUnit.SECONDS);\n        }\n        return entityIdCounter.incrementAndGet();\n    }\n}\n```\n","slug":"组件/redis封装","published":1,"updated":"2022-06-20T07:06:06.588Z","_id":"cl4me80fx0000b82m96zu5dn1","comments":1,"layout":"post","photos":[],"link":"","content":"<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedisTemplateUtil</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Bean(name = &quot;redisTemplateJson&quot;)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> RedisTemplate <span class=\"title\">redisTemplateJson</span><span class=\"params\">(</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.database:&#125;&quot;)</span> <span class=\"keyword\">int</span> database,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.host:&#125;&quot;)</span> String host,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.password:&#125;&quot;)</span> String password,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.port:&#125;&quot;)</span> <span class=\"keyword\">int</span> port,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.pool.min-idle:&#125;&quot;)</span> <span class=\"keyword\">int</span> minIdle,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.pool.max-idle:&#125;&quot;)</span> <span class=\"keyword\">int</span> maxIdle,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.timeout:&#125;&quot;)</span> <span class=\"keyword\">int</span> timeout)</span> </span>&#123;</span><br><span class=\"line\">        JedisConnectionFactory factory = <span class=\"keyword\">new</span> JedisConnectionFactory();</span><br><span class=\"line\">        factory.setDatabase(database);</span><br><span class=\"line\">        factory.setHostName(host);</span><br><span class=\"line\">        factory.setPassword(password);</span><br><span class=\"line\">        factory.setPort(port);</span><br><span class=\"line\">        JedisPoolConfig jedisPoolConfig = <span class=\"keyword\">new</span> JedisPoolConfig();</span><br><span class=\"line\">        jedisPoolConfig.setMinIdle(minIdle);</span><br><span class=\"line\">        jedisPoolConfig.setMaxIdle(maxIdle);</span><br><span class=\"line\">        factory.setPoolConfig(jedisPoolConfig);</span><br><span class=\"line\">        factory.setTimeout(timeout); <span class=\"comment\">//设置连接超时时间</span></span><br><span class=\"line\">        factory.afterPropertiesSet();</span><br><span class=\"line\">        StringRedisTemplate template = <span class=\"keyword\">new</span> StringRedisTemplate(factory);</span><br><span class=\"line\"></span><br><span class=\"line\">        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = <span class=\"keyword\">new</span> Jackson2JsonRedisSerializer(Object.class);</span><br><span class=\"line\">        ObjectMapper om = <span class=\"keyword\">new</span> ObjectMapper();</span><br><span class=\"line\">        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);</span><br><span class=\"line\">        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);</span><br><span class=\"line\">        jackson2JsonRedisSerializer.setObjectMapper(om);</span><br><span class=\"line\">        template.setValueSerializer(jackson2JsonRedisSerializer);</span><br><span class=\"line\">        template.setKeySerializer(<span class=\"keyword\">new</span> StringRedisSerializer());</span><br><span class=\"line\">        template.afterPropertiesSet();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> template;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Resource(name = &quot;redisTemplateJson&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> RedisTemplate redisTemplate;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 写入缓存</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> value</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> &lt;T&gt; <span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">set</span><span class=\"params\">(<span class=\"keyword\">final</span> String key, T value)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            ValueOperations&lt;Serializable, T&gt; operations = redisTemplate.opsForValue();</span><br><span class=\"line\">            operations.set(key, value);</span><br><span class=\"line\">            result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 写入缓存设置时效时间</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> value</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> &lt;T&gt; <span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">set</span><span class=\"params\">(<span class=\"keyword\">final</span> String key, T value, Long expireTime)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            ValueOperations&lt;Serializable, T&gt; operations = redisTemplate.opsForValue();</span><br><span class=\"line\">            operations.set(key, value, expireTime, TimeUnit.SECONDS);</span><br><span class=\"line\">            result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 批量删除对应的value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> keys</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">remove</span><span class=\"params\">(<span class=\"keyword\">final</span> String... keys)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (String key : keys) &#123;</span><br><span class=\"line\">            remove(key);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 批量删除key</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> pattern</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">removePattern</span><span class=\"params\">(<span class=\"keyword\">final</span> String pattern)</span> </span>&#123;</span><br><span class=\"line\">        Set&lt;Serializable&gt; keys = redisTemplate.keys(pattern);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (keys.size() &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            redisTemplate.delete(keys);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 删除对应的value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">remove</span><span class=\"params\">(<span class=\"keyword\">final</span> String key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (exists(key)) &#123;</span><br><span class=\"line\">            redisTemplate.delete(key);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 判断缓存中是否有对应的value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">exists</span><span class=\"params\">(<span class=\"keyword\">final</span> String key)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> redisTemplate.hasKey(key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 读取缓存</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> &lt;T&gt; <span class=\"function\">T <span class=\"title\">get</span><span class=\"params\">(<span class=\"keyword\">final</span> String key)</span> </span>&#123;</span><br><span class=\"line\">        ValueOperations&lt;Serializable, T&gt; operations = redisTemplate.opsForValue();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> operations.get(key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 哈希 添加</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> hashKey</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> value</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">hmSet</span><span class=\"params\">(String key, Object hashKey, Object value)</span> </span>&#123;</span><br><span class=\"line\">        HashOperations&lt;String, Object, Object&gt; hash = redisTemplate.opsForHash();</span><br><span class=\"line\">        hash.put(key, hashKey, value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 哈希获取数据</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> hashKey</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Object <span class=\"title\">hmGet</span><span class=\"params\">(String key, Object hashKey)</span> </span>&#123;</span><br><span class=\"line\">        HashOperations&lt;String, Object, Object&gt; hash = redisTemplate.opsForHash();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> hash.get(key, hashKey);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 列表添加</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> k</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> v</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">lPush</span><span class=\"params\">(String k, List&lt;Object&gt; v)</span> </span>&#123;</span><br><span class=\"line\">        ListOperations&lt;String, Object&gt; list = redisTemplate.opsForList();</span><br><span class=\"line\">        list.rightPushAll(k, v);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 列表获取</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> k</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> l</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> l1</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> List&lt;Object&gt; <span class=\"title\">lRange</span><span class=\"params\">(String k, <span class=\"keyword\">long</span> l, <span class=\"keyword\">long</span> l1)</span> </span>&#123;</span><br><span class=\"line\">        ListOperations&lt;String, Object&gt; list = redisTemplate.opsForList();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list.range(k, l, l1);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 集合添加</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> value</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">add</span><span class=\"params\">(String key, Object value)</span> </span>&#123;</span><br><span class=\"line\">        SetOperations&lt;String, Object&gt; set = redisTemplate.opsForSet();</span><br><span class=\"line\">        set.add(key, value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 集合获取</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title\">setMembers</span><span class=\"params\">(String key)</span> </span>&#123;</span><br><span class=\"line\">        SetOperations&lt;String, Object&gt; set = redisTemplate.opsForSet();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> set.members(key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 有序集合添加</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> value</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> scoure</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">zAdd</span><span class=\"params\">(String key, Object value, <span class=\"keyword\">double</span> scoure)</span> </span>&#123;</span><br><span class=\"line\">        ZSetOperations&lt;String, Object&gt; zset = redisTemplate.opsForZSet();</span><br><span class=\"line\">        zset.add(key, value, scoure);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 有序集合获取</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> scoure</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> scoure1</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title\">rangeByScore</span><span class=\"params\">(String key, <span class=\"keyword\">double</span> scoure, <span class=\"keyword\">double</span> scoure1)</span> </span>&#123;</span><br><span class=\"line\">        ZSetOperations&lt;String, Object&gt; zset = redisTemplate.opsForZSet();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> zset.rangeByScore(key, scoure, scoure1);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取自增数据</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Long <span class=\"title\">getIncrId</span><span class=\"params\">(String key, Long expireTime, Long startValue)</span> </span>&#123;</span><br><span class=\"line\">        Boolean  hasKey=redisTemplate.hasKey(key);</span><br><span class=\"line\">        RedisAtomicLong entityIdCounter = <span class=\"keyword\">new</span> RedisAtomicLong(key, redisTemplate.getConnectionFactory());</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!hasKey)&#123;</span><br><span class=\"line\">            entityIdCounter.expire(expireTime, TimeUnit.SECONDS);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> != startValue)&#123;</span><br><span class=\"line\">            entityIdCounter.set(startValue);</span><br><span class=\"line\">            entityIdCounter.expire(expireTime, TimeUnit.SECONDS);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> entityIdCounter.incrementAndGet();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedisTemplateUtil</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Bean(name = &quot;redisTemplateJson&quot;)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> RedisTemplate <span class=\"title\">redisTemplateJson</span><span class=\"params\">(</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.database:&#125;&quot;)</span> <span class=\"keyword\">int</span> database,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.host:&#125;&quot;)</span> String host,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.password:&#125;&quot;)</span> String password,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.port:&#125;&quot;)</span> <span class=\"keyword\">int</span> port,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.pool.min-idle:&#125;&quot;)</span> <span class=\"keyword\">int</span> minIdle,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.pool.max-idle:&#125;&quot;)</span> <span class=\"keyword\">int</span> maxIdle,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            <span class=\"meta\">@Value(&quot;$&#123;spring.fap.cache.redis.timeout:&#125;&quot;)</span> <span class=\"keyword\">int</span> timeout)</span> </span>&#123;</span><br><span class=\"line\">        JedisConnectionFactory factory = <span class=\"keyword\">new</span> JedisConnectionFactory();</span><br><span class=\"line\">        factory.setDatabase(database);</span><br><span class=\"line\">        factory.setHostName(host);</span><br><span class=\"line\">        factory.setPassword(password);</span><br><span class=\"line\">        factory.setPort(port);</span><br><span class=\"line\">        JedisPoolConfig jedisPoolConfig = <span class=\"keyword\">new</span> JedisPoolConfig();</span><br><span class=\"line\">        jedisPoolConfig.setMinIdle(minIdle);</span><br><span class=\"line\">        jedisPoolConfig.setMaxIdle(maxIdle);</span><br><span class=\"line\">        factory.setPoolConfig(jedisPoolConfig);</span><br><span class=\"line\">        factory.setTimeout(timeout); <span class=\"comment\">//设置连接超时时间</span></span><br><span class=\"line\">        factory.afterPropertiesSet();</span><br><span class=\"line\">        StringRedisTemplate template = <span class=\"keyword\">new</span> StringRedisTemplate(factory);</span><br><span class=\"line\"></span><br><span class=\"line\">        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = <span class=\"keyword\">new</span> Jackson2JsonRedisSerializer(Object.class);</span><br><span class=\"line\">        ObjectMapper om = <span class=\"keyword\">new</span> ObjectMapper();</span><br><span class=\"line\">        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);</span><br><span class=\"line\">        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);</span><br><span class=\"line\">        jackson2JsonRedisSerializer.setObjectMapper(om);</span><br><span class=\"line\">        template.setValueSerializer(jackson2JsonRedisSerializer);</span><br><span class=\"line\">        template.setKeySerializer(<span class=\"keyword\">new</span> StringRedisSerializer());</span><br><span class=\"line\">        template.afterPropertiesSet();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> template;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Resource(name = &quot;redisTemplateJson&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> RedisTemplate redisTemplate;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 写入缓存</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> value</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> &lt;T&gt; <span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">set</span><span class=\"params\">(<span class=\"keyword\">final</span> String key, T value)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            ValueOperations&lt;Serializable, T&gt; operations = redisTemplate.opsForValue();</span><br><span class=\"line\">            operations.set(key, value);</span><br><span class=\"line\">            result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 写入缓存设置时效时间</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> value</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> &lt;T&gt; <span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">set</span><span class=\"params\">(<span class=\"keyword\">final</span> String key, T value, Long expireTime)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            ValueOperations&lt;Serializable, T&gt; operations = redisTemplate.opsForValue();</span><br><span class=\"line\">            operations.set(key, value, expireTime, TimeUnit.SECONDS);</span><br><span class=\"line\">            result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 批量删除对应的value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> keys</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">remove</span><span class=\"params\">(<span class=\"keyword\">final</span> String... keys)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (String key : keys) &#123;</span><br><span class=\"line\">            remove(key);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 批量删除key</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> pattern</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">removePattern</span><span class=\"params\">(<span class=\"keyword\">final</span> String pattern)</span> </span>&#123;</span><br><span class=\"line\">        Set&lt;Serializable&gt; keys = redisTemplate.keys(pattern);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (keys.size() &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            redisTemplate.delete(keys);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 删除对应的value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">remove</span><span class=\"params\">(<span class=\"keyword\">final</span> String key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (exists(key)) &#123;</span><br><span class=\"line\">            redisTemplate.delete(key);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 判断缓存中是否有对应的value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">exists</span><span class=\"params\">(<span class=\"keyword\">final</span> String key)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> redisTemplate.hasKey(key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 读取缓存</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> &lt;T&gt; <span class=\"function\">T <span class=\"title\">get</span><span class=\"params\">(<span class=\"keyword\">final</span> String key)</span> </span>&#123;</span><br><span class=\"line\">        ValueOperations&lt;Serializable, T&gt; operations = redisTemplate.opsForValue();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> operations.get(key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 哈希 添加</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> hashKey</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> value</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">hmSet</span><span class=\"params\">(String key, Object hashKey, Object value)</span> </span>&#123;</span><br><span class=\"line\">        HashOperations&lt;String, Object, Object&gt; hash = redisTemplate.opsForHash();</span><br><span class=\"line\">        hash.put(key, hashKey, value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 哈希获取数据</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> hashKey</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Object <span class=\"title\">hmGet</span><span class=\"params\">(String key, Object hashKey)</span> </span>&#123;</span><br><span class=\"line\">        HashOperations&lt;String, Object, Object&gt; hash = redisTemplate.opsForHash();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> hash.get(key, hashKey);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 列表添加</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> k</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> v</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">lPush</span><span class=\"params\">(String k, List&lt;Object&gt; v)</span> </span>&#123;</span><br><span class=\"line\">        ListOperations&lt;String, Object&gt; list = redisTemplate.opsForList();</span><br><span class=\"line\">        list.rightPushAll(k, v);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 列表获取</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> k</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> l</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> l1</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> List&lt;Object&gt; <span class=\"title\">lRange</span><span class=\"params\">(String k, <span class=\"keyword\">long</span> l, <span class=\"keyword\">long</span> l1)</span> </span>&#123;</span><br><span class=\"line\">        ListOperations&lt;String, Object&gt; list = redisTemplate.opsForList();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list.range(k, l, l1);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 集合添加</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> value</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">add</span><span class=\"params\">(String key, Object value)</span> </span>&#123;</span><br><span class=\"line\">        SetOperations&lt;String, Object&gt; set = redisTemplate.opsForSet();</span><br><span class=\"line\">        set.add(key, value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 集合获取</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title\">setMembers</span><span class=\"params\">(String key)</span> </span>&#123;</span><br><span class=\"line\">        SetOperations&lt;String, Object&gt; set = redisTemplate.opsForSet();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> set.members(key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 有序集合添加</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> value</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> scoure</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">zAdd</span><span class=\"params\">(String key, Object value, <span class=\"keyword\">double</span> scoure)</span> </span>&#123;</span><br><span class=\"line\">        ZSetOperations&lt;String, Object&gt; zset = redisTemplate.opsForZSet();</span><br><span class=\"line\">        zset.add(key, value, scoure);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 有序集合获取</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> scoure</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> scoure1</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title\">rangeByScore</span><span class=\"params\">(String key, <span class=\"keyword\">double</span> scoure, <span class=\"keyword\">double</span> scoure1)</span> </span>&#123;</span><br><span class=\"line\">        ZSetOperations&lt;String, Object&gt; zset = redisTemplate.opsForZSet();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> zset.rangeByScore(key, scoure, scoure1);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取自增数据</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> key</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Long <span class=\"title\">getIncrId</span><span class=\"params\">(String key, Long expireTime, Long startValue)</span> </span>&#123;</span><br><span class=\"line\">        Boolean  hasKey=redisTemplate.hasKey(key);</span><br><span class=\"line\">        RedisAtomicLong entityIdCounter = <span class=\"keyword\">new</span> RedisAtomicLong(key, redisTemplate.getConnectionFactory());</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!hasKey)&#123;</span><br><span class=\"line\">            entityIdCounter.expire(expireTime, TimeUnit.SECONDS);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> != startValue)&#123;</span><br><span class=\"line\">            entityIdCounter.set(startValue);</span><br><span class=\"line\">            entityIdCounter.expire(expireTime, TimeUnit.SECONDS);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> entityIdCounter.incrementAndGet();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"阿里巴巴开发规范.md","date":"2020-05-13T03:13:39.000Z","cover":"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513111454.png","_content":"\n>boolean不要以is开头，不然get方法就会出问题。\n\n>包名统一用单数形式。\n\n>使用完整的单词表达。\n\n>禁止出现魔法值，任何直接出现在代码中的字符串都是魔法值\n\n>使用long类型，必需使用大L,避免i1不分\n\n>equals容易出现空指针异常\n正确写法\n＂sbdl＂.equals=object\n推荐使用jdk7工具类\nequals(a，b)\n\n>Integer使用static生成-128到127的之间所以的数字，所以128=128等于false\n所以所有的包装类都要用equals比较\n\n>任何货币金额，都以最小金额单位且整形来存储\n\n>浮点型数据，基本类型不能用==，包装类型不能用equals，1.0=1.00为false，因为精度不同，应该使用compareTo\n\n>禁止在bigDicmal中传入double，应该使用valueOf,实现原理是toString\n\n>所有的对象pojo都使用包装类型，不然有默认值\n所有的局部变量都使用基本类型\n\n>pojo类必须写toString方法，如果有继承，要super.toString\n\n>日期格式化，new SImpleDateFormat(\"yyyy-MM-dd HH:mm:ss\")\n大写M 月份\n小写M 分钟\n24小时是大写H\n12小时是小写的h\n\n>获取当前毫秒数，System.currentTimeMillis()，底层使用的native方法\n精确计时使用Instant类，精确到纳秒\n\n>不要在程序中写死一年的天数，应该使用LocalDate.now().lengthOfYear()获取今年天数\n\n>只要重写了equals，就要重写hashCode方法,Set和Map的key依据hashCode判断,\nString重写的hashCode和equals方法，所以可以将String对象作为key来使用\n\n>判断集合是否为空，调用isEmpty1方法,因为不是遍历实现的size==0\n\n>使用stream流中的Collectors的toMap时，一定要使用含有参数类型BinaryOperator，参数值为mergeFunction的方法，否则出现相同的key，会抛出IllegalStateException\nCollectors.toMap(key,value,(v1,v2)->v1)\n> toMap时，value也不能为空，所以在转换之前要做filter过滤\n> list.stream().filter(t->StringUtils.isNotBlank(t.getName)).collect(Collectors.toMap(t.getId,t.getName,(v1,v2)->v1))\n\n>ArrayList的subList不可用强转ArrayList,因为subList返回的内部类是SubList是ArrayList的视图，对于subList的操作都会返回到原ArrayList上\n\n>使用Map中的keySet/values/entrySet返回集合对象时，不可用对其添加元素操作，否则抛出UnsupportedOperationException\n\n>在subList场景中，对父类集合的增加和删除，均会导致子列表的遍历，增加，删除产生ConcurrentModificationException\n\n>集合转换数据的时候，list.toArray要指定参数，list.toArray(new String[0]),不然返回的object对象再转换，会出现转换异常，toArray的带参方法，length=0时，动态创建和size相同的数组\n\n>使用ArrayList.addAll底层实现还是toArray,所以使用之前要判断参数是否为空\n\n>不要在foreach中进行元素的add/remove操作。remove元素请使用Iterator，如果是并发操作请对Iterator对象加锁\n\n>获取单例对象要保证线程安全\n\n>创建线程或线程池，请指定有意义的线程名字，使用自定义线程工厂实现ThreadFactory，\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513160147.png)\n\n>线程资源必须通过线程池提供，通过ThreadPoolExecutor方法创建，\n\n>SimpleDateFormat是线程不安全的类，不要定义为static变量,在jkd8应用中，使用Instant代替Date,LocalDateTime代替Calendar,使用DateTimeFormatter代替SimpleDateFormat\n\n>必须回收自定义的ThreadLocal变量，在线程池场景下，会造成内存泄漏，建议使用\n```java\naThreadLocal.set(userInfo)\n        try{\n            \n        }finally(){\n        aThreadLocal.remove()\n        }\n```\n\n>高并发中，能锁区块就不要锁整个方法，能用对象锁就不要用类锁\n\n>对多个资源，数据库表，对象同时加锁时，注意保持一致的加锁顺序，否则可能会造成死锁\n\n>使用阻塞等待获取锁的过程中，必须在try代码块之外，并且加锁方法与try之间没有任何可能抛出的异常，避免加锁成功后，在finally无法解锁\n```java\nnew Lock();\n        lock.lock();\n        try{\n\n        }finally{\n        lock.unlock()\n        }\n```\n\n>在尝试机制获取锁中，进入业务代码块之前，必须先判断当前线程是否持有锁，锁的释放规则与锁的阻塞等待方法相同\n```java\nLock lock=new aLock();\n        boolean isLocked=lock.tryLock();\n        if(isLocked){\n        try{\n        doSomething();\n        }finally{\n        lock.unlock();\n        }\n        }\n```\n\n>并发修改时，更新同一条记录，避免更新丢失，需要加锁，要么在应用层面加锁，要么在缓存加锁，要么在数据库使用乐观锁version,访问冲突概率小于20%，使用乐观锁，否则使用悲观锁。\n> 乐观锁的重试次数不得小于3次。\n\n>多线程并行处理定时任务时，Timer运行多个TimeTask时，只要其中一个没有捕获抛出异常，其他任务便会自动停止运行，使用ScheduledExecutorService则没有这个问题。\n\n**反**\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513163237.png)\n\n**正**\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513163142.png)\n>资金相关的信息，使用悲观锁，乐观锁在获取锁的同时完成了更新操作，检验逻辑容易出现漏洞，另外乐观锁对锁冲突的解决策略有较复杂的要求，处理不当容易造成系统压力，\n> 悲观锁原则：一锁，二判，三更新，四释放\n\n>在switch块中，每一个case都要通过continue/break/return来控制\n> 必须包含一个default放在语句最后，即使他什么代码也没有\n\n> 在switch块之前判断param是否为null，不然default方法也不会执行，抛出空指针异常\n\n> 三目运算符 1:2中，注意1:2的类型对齐时，可能会抛出空指针问题\n> 自动拆箱的触发场景\n> 1和2的值只要有一个是原始类型\n> 1和2的值类型不一致，会强制拆箱升级\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513164033.png)\n\n>高并发场景中，避免使用\"等于\"判断作为中断或退出条件，建议使用大于或小于\n> 比如：判断剩余商品数量等于0，终止发放商品，但是并发处理导致奖品数量瞬间变成了负数\n\n>Api规范\n> 协议:生产环境必须使用HTTPS\n> 路径:使用名词，推荐使用复数，请求方法已经表达了动作的含义,不能使用大写url，使用下环线分割，禁止携带表示请求内容的后缀，比如.json,.xml\n> 请求方法：Get:取出资源 POST:新建资源 PUT:更新资源 DELETE: 删除资源\n> 请求内容: url参数必须无敏感信息或加密,body里带的参数必须设置Content-Type\n> 响应体:响应体body可以防止多种数据类型，由Content-Type头来确定\n\n>前后端数据列表的接口返回，如果为空，返回空数组或空集合，避免前端很多琐碎的null判断\n\n>需要使用长整数一律用String，使用Long类型，js会自动转换成number类型(双浮点),会出现精度丢失,比如订单号，不要用long类型\n\n>http请求通过url传参，不能超过2048字节\n\n>http请求通过body传参，必须控制长度，nginx默认1mb，tomcat默认2mb\n\n>在分页场景中，输入的参数小于1则显示第一页，参数大于总页数则返回最后一页\n\n>正则表达式利用预编译功能，加快匹配速度，指不要在方法体内定义规则 \n> 错误写法：Pattern pattern = Pattern.compile(\"规则)\n\n>避免使用Apache Beanutils，可以使用Spring的BeanUtils(都是浅拷贝)\n\n>获取随机值，直接使用Random对象的nextInt和nextLong方法\n\n>可以通过预检查规避的RuntimeException不应该通过catch处理\n正例：if(a != null)\n反例：try{(a.getA)} catch(NullPointException e)\n\n>不要在finally块中使用return，try块中的return执行完成后，并不会马上返回，而是继续执行finally块，再返回\n\n>rpc调用，或者二方包调用时，捕获异常必须使用Throwable类进行拦截,在catch块中判断具体接受的异常\n\n>不可用直接使用日志系统(log4j,Logback)的api，而应该使用slf4j,JCL面门框架的Api,有利于各个类的日志统一处理\n\n>所有日志至少保存15天，对于当天日志，以应用名.log保存，保存在home/admin/应用名/logs/ 目录下,\n>过往日志格式为:logName.log.保存日期 日期格式 yyyy-MM-dd\n\n>根据国家法律规定，网络运行状态，网络安全事件，个人敏感信息等操作日志，保存不少于六个月，并且网络多机备份\n\n>扩展日志命令方式appName_logType_logName.log\n\n>日志输出时，使用占位符拼接,内部实现的是StringBuilder\n> logger.debug(\"id = {} and symbol = {}\",id,symbol);\n\n>对于trace/debug/info级别的日志输出,必须先判断开关\n```java\nif(logger.isDebugEnable()){\n    logger.debug(\"id = {}\",id)\n        }\n```\n\n>禁止使用System.out或System.err输出日志或者使用e.printStackTrace打印异常堆栈\n\n>打印日志，直接调用toString方法，不要通过JSONObject.toJsonString，不然会调用get方法\n\n>单元测试必须遵守AIR，自动化，独立性，可重复\n\n>单元测试之间不能先后调用,单元测试是可以重复执行的\n\n>用户个人页面必须权限校验\n\n>用户敏感数据，必须进行数据脱敏例如 显示 130****4320,防止泄漏\n\n>用户请求传入的任何参数必须做有效性验证\n>page size 过大导致内存溢出\n>恶意的order by 导致数据库慢查询 \n> 缓存击穿\n> SSRF，既伪造一个服务端请求，攻击者利用系统的某些接口，通过这个接口向目标系统发情攻击\n> 任意重定向 \n> SQL注入，Shell注入，反序列化注入\n> 正则输入源串拒接服务ReDoS\n\n>禁止向HTML页面输出未经安全过滤或者正确转义的用户数据\n\n>表单，AJAX必须执行CSRF安全验证\n> 跨站请求伪造是一类常见的编程漏洞，对于存在csrf的网站，攻击者可以实现通过构造好的url，只有受害者用户一访问，后台便可以在用户不知情的情况下修改用户数据\n> 可以理解为攻击者盗用了你的身份，然后以你的名义发起恶意请求，这个请求对于服务器来说完全合法\n\n>url外部重定向传入的地址，必须执行白名单过滤\n\n>表示是或者否，必须使用is_xxx命名，类型是unsigned tinyint\n\n>任何字段如果为非负数，必须是unsigned\n\n>表名，字段名都必须使用小写，数据库修改字段的代价很大，MySQL在Windows下是不区分大小写的，但是在Linux下区分大小写，所有不允许有大小写\n\n>表明使用用复数形式\n\n>主键索引名为pk_字段名，唯一索引为uk_字段名,普通索引为idx_字段名\n\n>小数类型一律用decimal,禁止使用float和double\n如果您要遵守公认会计原则(GAAP)规则，则货币栏必须至少包含4位小数，以确保舍入值不超过$0.01。 在这种情况下，应该定义具有4位小数的列，如下所示：\namount DECIMAL(19,4),第一个参数是最大位数，第二个参数是小数位数\n> 如果存储范围超过decimal的范围，建议将数据拆成证书和小数分开存储\n\n>如果存储的字符串长度几乎相等，使用char定长字符串类型\n\n>varchar是可变长字符串，不预先分配内存空间，长度不要超过5000，如果长度大于这个值，使用text类型，单独出来一张表，用主键来对应，避免影响其他字段的索引值\n\n>表必备三字段，id，create_time,update_time\n> id为主键，类型为bigint unsigned，单表时自增，步长为1，\n> create_time,update_time类型均为datetime类型,\n\n>业务上具有唯一特性的字段，即使是组合字段，也必须建立唯一索引\n> 唯一索引不会影响insert速度，但是提高查找速度是明显的，\n> 另外，即时在应用层做了非常完善的校验控制，只要没有唯一索引，根据墨菲定律，必有脏数据产生\n\n>超过三个表禁止join，需要join的字段，数据类型必须保持一致，\n> 多表关联查询时,被关联的字段要有索引\n> 即时双表join,也要注意表索引\n\n>在varchar字段建立索引时，必须指定索引长度，没必要全字段建立索引，根据实际的文本区分度决定索引长度\n\n>页面搜索，严禁左模糊和全模糊，如果需要请走搜索引擎，索引文件根据最左匹配原则，如果左边的值未确定，那么无法使用此索引\n\n>count(*)会统计为列值为null的行,count(列名)不会\n\n>count(distinct 字段)计算该列除null之外的不重复行\n\n>null和任何值比较都是null，而不是true或false\n\n>如果某一列的值全为空，使用IFNULL(count(列名))或者IFNULL(SUM(列名)),避免空指针\n> 使用ISNULL判断是否为NULL，ISNULL(列名)\n\n>若分页查询，count为0,应该直接返回，避免执行后面的分页语句\n\n>不得使用外键和级联\n\n>禁止使用存储过程，存储过程难以调试和扩展，更没有移植性\n\n>数据订正，要先select，避免出现误删除\n\n>对于数据库中多个表的查询，都需要在列名前加表的别名\n\n>在表查询中，一律不使用*\n\n>不要使用resultCLass当返回参数，即使所有的属性名与数据库字段对应，也需要定义resultMap，方便配置映射关系，使字段与DO类解耦\n\n>不允许直接拿HashMap和HashTable作为查询结果输出\n> 某同学为了避免写一个resultMap,直接使用HashMap接受数据库返回结果，结果出现本地把bigint转换成long值，而由于线上数据库版本不一样，解析成BigInteger，出现问题\n\n>\n","source":"_posts/开发记录/开发规范.md","raw":"---\ntitle: 阿里巴巴开发规范.md\ndate: 2020-5-13 11:13:39\ncover: https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513111454.png\ntags:\n- 开发记录\n---\n\n>boolean不要以is开头，不然get方法就会出问题。\n\n>包名统一用单数形式。\n\n>使用完整的单词表达。\n\n>禁止出现魔法值，任何直接出现在代码中的字符串都是魔法值\n\n>使用long类型，必需使用大L,避免i1不分\n\n>equals容易出现空指针异常\n正确写法\n＂sbdl＂.equals=object\n推荐使用jdk7工具类\nequals(a，b)\n\n>Integer使用static生成-128到127的之间所以的数字，所以128=128等于false\n所以所有的包装类都要用equals比较\n\n>任何货币金额，都以最小金额单位且整形来存储\n\n>浮点型数据，基本类型不能用==，包装类型不能用equals，1.0=1.00为false，因为精度不同，应该使用compareTo\n\n>禁止在bigDicmal中传入double，应该使用valueOf,实现原理是toString\n\n>所有的对象pojo都使用包装类型，不然有默认值\n所有的局部变量都使用基本类型\n\n>pojo类必须写toString方法，如果有继承，要super.toString\n\n>日期格式化，new SImpleDateFormat(\"yyyy-MM-dd HH:mm:ss\")\n大写M 月份\n小写M 分钟\n24小时是大写H\n12小时是小写的h\n\n>获取当前毫秒数，System.currentTimeMillis()，底层使用的native方法\n精确计时使用Instant类，精确到纳秒\n\n>不要在程序中写死一年的天数，应该使用LocalDate.now().lengthOfYear()获取今年天数\n\n>只要重写了equals，就要重写hashCode方法,Set和Map的key依据hashCode判断,\nString重写的hashCode和equals方法，所以可以将String对象作为key来使用\n\n>判断集合是否为空，调用isEmpty1方法,因为不是遍历实现的size==0\n\n>使用stream流中的Collectors的toMap时，一定要使用含有参数类型BinaryOperator，参数值为mergeFunction的方法，否则出现相同的key，会抛出IllegalStateException\nCollectors.toMap(key,value,(v1,v2)->v1)\n> toMap时，value也不能为空，所以在转换之前要做filter过滤\n> list.stream().filter(t->StringUtils.isNotBlank(t.getName)).collect(Collectors.toMap(t.getId,t.getName,(v1,v2)->v1))\n\n>ArrayList的subList不可用强转ArrayList,因为subList返回的内部类是SubList是ArrayList的视图，对于subList的操作都会返回到原ArrayList上\n\n>使用Map中的keySet/values/entrySet返回集合对象时，不可用对其添加元素操作，否则抛出UnsupportedOperationException\n\n>在subList场景中，对父类集合的增加和删除，均会导致子列表的遍历，增加，删除产生ConcurrentModificationException\n\n>集合转换数据的时候，list.toArray要指定参数，list.toArray(new String[0]),不然返回的object对象再转换，会出现转换异常，toArray的带参方法，length=0时，动态创建和size相同的数组\n\n>使用ArrayList.addAll底层实现还是toArray,所以使用之前要判断参数是否为空\n\n>不要在foreach中进行元素的add/remove操作。remove元素请使用Iterator，如果是并发操作请对Iterator对象加锁\n\n>获取单例对象要保证线程安全\n\n>创建线程或线程池，请指定有意义的线程名字，使用自定义线程工厂实现ThreadFactory，\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513160147.png)\n\n>线程资源必须通过线程池提供，通过ThreadPoolExecutor方法创建，\n\n>SimpleDateFormat是线程不安全的类，不要定义为static变量,在jkd8应用中，使用Instant代替Date,LocalDateTime代替Calendar,使用DateTimeFormatter代替SimpleDateFormat\n\n>必须回收自定义的ThreadLocal变量，在线程池场景下，会造成内存泄漏，建议使用\n```java\naThreadLocal.set(userInfo)\n        try{\n            \n        }finally(){\n        aThreadLocal.remove()\n        }\n```\n\n>高并发中，能锁区块就不要锁整个方法，能用对象锁就不要用类锁\n\n>对多个资源，数据库表，对象同时加锁时，注意保持一致的加锁顺序，否则可能会造成死锁\n\n>使用阻塞等待获取锁的过程中，必须在try代码块之外，并且加锁方法与try之间没有任何可能抛出的异常，避免加锁成功后，在finally无法解锁\n```java\nnew Lock();\n        lock.lock();\n        try{\n\n        }finally{\n        lock.unlock()\n        }\n```\n\n>在尝试机制获取锁中，进入业务代码块之前，必须先判断当前线程是否持有锁，锁的释放规则与锁的阻塞等待方法相同\n```java\nLock lock=new aLock();\n        boolean isLocked=lock.tryLock();\n        if(isLocked){\n        try{\n        doSomething();\n        }finally{\n        lock.unlock();\n        }\n        }\n```\n\n>并发修改时，更新同一条记录，避免更新丢失，需要加锁，要么在应用层面加锁，要么在缓存加锁，要么在数据库使用乐观锁version,访问冲突概率小于20%，使用乐观锁，否则使用悲观锁。\n> 乐观锁的重试次数不得小于3次。\n\n>多线程并行处理定时任务时，Timer运行多个TimeTask时，只要其中一个没有捕获抛出异常，其他任务便会自动停止运行，使用ScheduledExecutorService则没有这个问题。\n\n**反**\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513163237.png)\n\n**正**\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513163142.png)\n>资金相关的信息，使用悲观锁，乐观锁在获取锁的同时完成了更新操作，检验逻辑容易出现漏洞，另外乐观锁对锁冲突的解决策略有较复杂的要求，处理不当容易造成系统压力，\n> 悲观锁原则：一锁，二判，三更新，四释放\n\n>在switch块中，每一个case都要通过continue/break/return来控制\n> 必须包含一个default放在语句最后，即使他什么代码也没有\n\n> 在switch块之前判断param是否为null，不然default方法也不会执行，抛出空指针异常\n\n> 三目运算符 1:2中，注意1:2的类型对齐时，可能会抛出空指针问题\n> 自动拆箱的触发场景\n> 1和2的值只要有一个是原始类型\n> 1和2的值类型不一致，会强制拆箱升级\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513164033.png)\n\n>高并发场景中，避免使用\"等于\"判断作为中断或退出条件，建议使用大于或小于\n> 比如：判断剩余商品数量等于0，终止发放商品，但是并发处理导致奖品数量瞬间变成了负数\n\n>Api规范\n> 协议:生产环境必须使用HTTPS\n> 路径:使用名词，推荐使用复数，请求方法已经表达了动作的含义,不能使用大写url，使用下环线分割，禁止携带表示请求内容的后缀，比如.json,.xml\n> 请求方法：Get:取出资源 POST:新建资源 PUT:更新资源 DELETE: 删除资源\n> 请求内容: url参数必须无敏感信息或加密,body里带的参数必须设置Content-Type\n> 响应体:响应体body可以防止多种数据类型，由Content-Type头来确定\n\n>前后端数据列表的接口返回，如果为空，返回空数组或空集合，避免前端很多琐碎的null判断\n\n>需要使用长整数一律用String，使用Long类型，js会自动转换成number类型(双浮点),会出现精度丢失,比如订单号，不要用long类型\n\n>http请求通过url传参，不能超过2048字节\n\n>http请求通过body传参，必须控制长度，nginx默认1mb，tomcat默认2mb\n\n>在分页场景中，输入的参数小于1则显示第一页，参数大于总页数则返回最后一页\n\n>正则表达式利用预编译功能，加快匹配速度，指不要在方法体内定义规则 \n> 错误写法：Pattern pattern = Pattern.compile(\"规则)\n\n>避免使用Apache Beanutils，可以使用Spring的BeanUtils(都是浅拷贝)\n\n>获取随机值，直接使用Random对象的nextInt和nextLong方法\n\n>可以通过预检查规避的RuntimeException不应该通过catch处理\n正例：if(a != null)\n反例：try{(a.getA)} catch(NullPointException e)\n\n>不要在finally块中使用return，try块中的return执行完成后，并不会马上返回，而是继续执行finally块，再返回\n\n>rpc调用，或者二方包调用时，捕获异常必须使用Throwable类进行拦截,在catch块中判断具体接受的异常\n\n>不可用直接使用日志系统(log4j,Logback)的api，而应该使用slf4j,JCL面门框架的Api,有利于各个类的日志统一处理\n\n>所有日志至少保存15天，对于当天日志，以应用名.log保存，保存在home/admin/应用名/logs/ 目录下,\n>过往日志格式为:logName.log.保存日期 日期格式 yyyy-MM-dd\n\n>根据国家法律规定，网络运行状态，网络安全事件，个人敏感信息等操作日志，保存不少于六个月，并且网络多机备份\n\n>扩展日志命令方式appName_logType_logName.log\n\n>日志输出时，使用占位符拼接,内部实现的是StringBuilder\n> logger.debug(\"id = {} and symbol = {}\",id,symbol);\n\n>对于trace/debug/info级别的日志输出,必须先判断开关\n```java\nif(logger.isDebugEnable()){\n    logger.debug(\"id = {}\",id)\n        }\n```\n\n>禁止使用System.out或System.err输出日志或者使用e.printStackTrace打印异常堆栈\n\n>打印日志，直接调用toString方法，不要通过JSONObject.toJsonString，不然会调用get方法\n\n>单元测试必须遵守AIR，自动化，独立性，可重复\n\n>单元测试之间不能先后调用,单元测试是可以重复执行的\n\n>用户个人页面必须权限校验\n\n>用户敏感数据，必须进行数据脱敏例如 显示 130****4320,防止泄漏\n\n>用户请求传入的任何参数必须做有效性验证\n>page size 过大导致内存溢出\n>恶意的order by 导致数据库慢查询 \n> 缓存击穿\n> SSRF，既伪造一个服务端请求，攻击者利用系统的某些接口，通过这个接口向目标系统发情攻击\n> 任意重定向 \n> SQL注入，Shell注入，反序列化注入\n> 正则输入源串拒接服务ReDoS\n\n>禁止向HTML页面输出未经安全过滤或者正确转义的用户数据\n\n>表单，AJAX必须执行CSRF安全验证\n> 跨站请求伪造是一类常见的编程漏洞，对于存在csrf的网站，攻击者可以实现通过构造好的url，只有受害者用户一访问，后台便可以在用户不知情的情况下修改用户数据\n> 可以理解为攻击者盗用了你的身份，然后以你的名义发起恶意请求，这个请求对于服务器来说完全合法\n\n>url外部重定向传入的地址，必须执行白名单过滤\n\n>表示是或者否，必须使用is_xxx命名，类型是unsigned tinyint\n\n>任何字段如果为非负数，必须是unsigned\n\n>表名，字段名都必须使用小写，数据库修改字段的代价很大，MySQL在Windows下是不区分大小写的，但是在Linux下区分大小写，所有不允许有大小写\n\n>表明使用用复数形式\n\n>主键索引名为pk_字段名，唯一索引为uk_字段名,普通索引为idx_字段名\n\n>小数类型一律用decimal,禁止使用float和double\n如果您要遵守公认会计原则(GAAP)规则，则货币栏必须至少包含4位小数，以确保舍入值不超过$0.01。 在这种情况下，应该定义具有4位小数的列，如下所示：\namount DECIMAL(19,4),第一个参数是最大位数，第二个参数是小数位数\n> 如果存储范围超过decimal的范围，建议将数据拆成证书和小数分开存储\n\n>如果存储的字符串长度几乎相等，使用char定长字符串类型\n\n>varchar是可变长字符串，不预先分配内存空间，长度不要超过5000，如果长度大于这个值，使用text类型，单独出来一张表，用主键来对应，避免影响其他字段的索引值\n\n>表必备三字段，id，create_time,update_time\n> id为主键，类型为bigint unsigned，单表时自增，步长为1，\n> create_time,update_time类型均为datetime类型,\n\n>业务上具有唯一特性的字段，即使是组合字段，也必须建立唯一索引\n> 唯一索引不会影响insert速度，但是提高查找速度是明显的，\n> 另外，即时在应用层做了非常完善的校验控制，只要没有唯一索引，根据墨菲定律，必有脏数据产生\n\n>超过三个表禁止join，需要join的字段，数据类型必须保持一致，\n> 多表关联查询时,被关联的字段要有索引\n> 即时双表join,也要注意表索引\n\n>在varchar字段建立索引时，必须指定索引长度，没必要全字段建立索引，根据实际的文本区分度决定索引长度\n\n>页面搜索，严禁左模糊和全模糊，如果需要请走搜索引擎，索引文件根据最左匹配原则，如果左边的值未确定，那么无法使用此索引\n\n>count(*)会统计为列值为null的行,count(列名)不会\n\n>count(distinct 字段)计算该列除null之外的不重复行\n\n>null和任何值比较都是null，而不是true或false\n\n>如果某一列的值全为空，使用IFNULL(count(列名))或者IFNULL(SUM(列名)),避免空指针\n> 使用ISNULL判断是否为NULL，ISNULL(列名)\n\n>若分页查询，count为0,应该直接返回，避免执行后面的分页语句\n\n>不得使用外键和级联\n\n>禁止使用存储过程，存储过程难以调试和扩展，更没有移植性\n\n>数据订正，要先select，避免出现误删除\n\n>对于数据库中多个表的查询，都需要在列名前加表的别名\n\n>在表查询中，一律不使用*\n\n>不要使用resultCLass当返回参数，即使所有的属性名与数据库字段对应，也需要定义resultMap，方便配置映射关系，使字段与DO类解耦\n\n>不允许直接拿HashMap和HashTable作为查询结果输出\n> 某同学为了避免写一个resultMap,直接使用HashMap接受数据库返回结果，结果出现本地把bigint转换成long值，而由于线上数据库版本不一样，解析成BigInteger，出现问题\n\n>\n","slug":"开发记录/开发规范","published":1,"updated":"2022-05-30T03:05:17.169Z","_id":"cl4mg2lfx0002b82m00abf3bu","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>boolean不要以is开头，不然get方法就会出问题。</p>\n</blockquote>\n<blockquote>\n<p>包名统一用单数形式。</p>\n</blockquote>\n<blockquote>\n<p>使用完整的单词表达。</p>\n</blockquote>\n<blockquote>\n<p>禁止出现魔法值，任何直接出现在代码中的字符串都是魔法值</p>\n</blockquote>\n<blockquote>\n<p>使用long类型，必需使用大L,避免i1不分</p>\n</blockquote>\n<blockquote>\n<p>equals容易出现空指针异常<br>正确写法<br>＂sbdl＂.equals=object<br>推荐使用jdk7工具类<br>equals(a，b)</p>\n</blockquote>\n<blockquote>\n<p>Integer使用static生成-128到127的之间所以的数字，所以128=128等于false<br>所以所有的包装类都要用equals比较</p>\n</blockquote>\n<blockquote>\n<p>任何货币金额，都以最小金额单位且整形来存储</p>\n</blockquote>\n<blockquote>\n<p>浮点型数据，基本类型不能用==，包装类型不能用equals，1.0=1.00为false，因为精度不同，应该使用compareTo</p>\n</blockquote>\n<blockquote>\n<p>禁止在bigDicmal中传入double，应该使用valueOf,实现原理是toString</p>\n</blockquote>\n<blockquote>\n<p>所有的对象pojo都使用包装类型，不然有默认值<br>所有的局部变量都使用基本类型</p>\n</blockquote>\n<blockquote>\n<p>pojo类必须写toString方法，如果有继承，要super.toString</p>\n</blockquote>\n<blockquote>\n<p>日期格式化，new SImpleDateFormat(“yyyy-MM-dd HH:mm:ss”)<br>大写M 月份<br>小写M 分钟<br>24小时是大写H<br>12小时是小写的h</p>\n</blockquote>\n<blockquote>\n<p>获取当前毫秒数，System.currentTimeMillis()，底层使用的native方法<br>精确计时使用Instant类，精确到纳秒</p>\n</blockquote>\n<blockquote>\n<p>不要在程序中写死一年的天数，应该使用LocalDate.now().lengthOfYear()获取今年天数</p>\n</blockquote>\n<blockquote>\n<p>只要重写了equals，就要重写hashCode方法,Set和Map的key依据hashCode判断,<br>String重写的hashCode和equals方法，所以可以将String对象作为key来使用</p>\n</blockquote>\n<blockquote>\n<p>判断集合是否为空，调用isEmpty1方法,因为不是遍历实现的size==0</p>\n</blockquote>\n<blockquote>\n<p>使用stream流中的Collectors的toMap时，一定要使用含有参数类型BinaryOperator，参数值为mergeFunction的方法，否则出现相同的key，会抛出IllegalStateException<br>Collectors.toMap(key,value,(v1,v2)-&gt;v1)<br>toMap时，value也不能为空，所以在转换之前要做filter过滤<br>list.stream().filter(t-&gt;StringUtils.isNotBlank(t.getName)).collect(Collectors.toMap(t.getId,t.getName,(v1,v2)-&gt;v1))</p>\n</blockquote>\n<blockquote>\n<p>ArrayList的subList不可用强转ArrayList,因为subList返回的内部类是SubList是ArrayList的视图，对于subList的操作都会返回到原ArrayList上</p>\n</blockquote>\n<blockquote>\n<p>使用Map中的keySet/values/entrySet返回集合对象时，不可用对其添加元素操作，否则抛出UnsupportedOperationException</p>\n</blockquote>\n<blockquote>\n<p>在subList场景中，对父类集合的增加和删除，均会导致子列表的遍历，增加，删除产生ConcurrentModificationException</p>\n</blockquote>\n<blockquote>\n<p>集合转换数据的时候，list.toArray要指定参数，list.toArray(new String[0]),不然返回的object对象再转换，会出现转换异常，toArray的带参方法，length=0时，动态创建和size相同的数组</p>\n</blockquote>\n<blockquote>\n<p>使用ArrayList.addAll底层实现还是toArray,所以使用之前要判断参数是否为空</p>\n</blockquote>\n<blockquote>\n<p>不要在foreach中进行元素的add/remove操作。remove元素请使用Iterator，如果是并发操作请对Iterator对象加锁</p>\n</blockquote>\n<blockquote>\n<p>获取单例对象要保证线程安全</p>\n</blockquote>\n<blockquote>\n<p>创建线程或线程池，请指定有意义的线程名字，使用自定义线程工厂实现ThreadFactory，<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513160147.png\"></p>\n</blockquote>\n<blockquote>\n<p>线程资源必须通过线程池提供，通过ThreadPoolExecutor方法创建，</p>\n</blockquote>\n<blockquote>\n<p>SimpleDateFormat是线程不安全的类，不要定义为static变量,在jkd8应用中，使用Instant代替Date,LocalDateTime代替Calendar,使用DateTimeFormatter代替SimpleDateFormat</p>\n</blockquote>\n<blockquote>\n<p>必须回收自定义的ThreadLocal变量，在线程池场景下，会造成内存泄漏，建议使用</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aThreadLocal.set(userInfo)</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span>()&#123;</span><br><span class=\"line\">        aThreadLocal.remove()</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>高并发中，能锁区块就不要锁整个方法，能用对象锁就不要用类锁</p>\n</blockquote>\n<blockquote>\n<p>对多个资源，数据库表，对象同时加锁时，注意保持一致的加锁顺序，否则可能会造成死锁</p>\n</blockquote>\n<blockquote>\n<p>使用阻塞等待获取锁的过程中，必须在try代码块之外，并且加锁方法与try之间没有任何可能抛出的异常，避免加锁成功后，在finally无法解锁</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Lock();</span><br><span class=\"line\">        lock.lock();</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span>&#123;</span><br><span class=\"line\">        lock.unlock()</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>在尝试机制获取锁中，进入业务代码块之前，必须先判断当前线程是否持有锁，锁的释放规则与锁的阻塞等待方法相同</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Lock lock=<span class=\"keyword\">new</span> aLock();</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> isLocked=lock.tryLock();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(isLocked)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">        doSomething();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span>&#123;</span><br><span class=\"line\">        lock.unlock();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>并发修改时，更新同一条记录，避免更新丢失，需要加锁，要么在应用层面加锁，要么在缓存加锁，要么在数据库使用乐观锁version,访问冲突概率小于20%，使用乐观锁，否则使用悲观锁。<br>乐观锁的重试次数不得小于3次。</p>\n</blockquote>\n<blockquote>\n<p>多线程并行处理定时任务时，Timer运行多个TimeTask时，只要其中一个没有捕获抛出异常，其他任务便会自动停止运行，使用ScheduledExecutorService则没有这个问题。</p>\n</blockquote>\n<p><strong>反</strong><br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513163237.png\"></p>\n<p><strong>正</strong><br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513163142.png\"></p>\n<blockquote>\n<p>资金相关的信息，使用悲观锁，乐观锁在获取锁的同时完成了更新操作，检验逻辑容易出现漏洞，另外乐观锁对锁冲突的解决策略有较复杂的要求，处理不当容易造成系统压力，<br>悲观锁原则：一锁，二判，三更新，四释放</p>\n</blockquote>\n<blockquote>\n<p>在switch块中，每一个case都要通过continue/break/return来控制<br>必须包含一个default放在语句最后，即使他什么代码也没有</p>\n</blockquote>\n<blockquote>\n<p>在switch块之前判断param是否为null，不然default方法也不会执行，抛出空指针异常</p>\n</blockquote>\n<blockquote>\n<p>三目运算符 1:2中，注意1:2的类型对齐时，可能会抛出空指针问题<br>自动拆箱的触发场景<br>1和2的值只要有一个是原始类型<br>1和2的值类型不一致，会强制拆箱升级<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513164033.png\"></p>\n</blockquote>\n<blockquote>\n<p>高并发场景中，避免使用”等于”判断作为中断或退出条件，建议使用大于或小于<br>比如：判断剩余商品数量等于0，终止发放商品，但是并发处理导致奖品数量瞬间变成了负数</p>\n</blockquote>\n<blockquote>\n<p>Api规范<br>协议:生产环境必须使用HTTPS<br>路径:使用名词，推荐使用复数，请求方法已经表达了动作的含义,不能使用大写url，使用下环线分割，禁止携带表示请求内容的后缀，比如.json,.xml<br>请求方法：Get:取出资源 POST:新建资源 PUT:更新资源 DELETE: 删除资源<br>请求内容: url参数必须无敏感信息或加密,body里带的参数必须设置Content-Type<br>响应体:响应体body可以防止多种数据类型，由Content-Type头来确定</p>\n</blockquote>\n<blockquote>\n<p>前后端数据列表的接口返回，如果为空，返回空数组或空集合，避免前端很多琐碎的null判断</p>\n</blockquote>\n<blockquote>\n<p>需要使用长整数一律用String，使用Long类型，js会自动转换成number类型(双浮点),会出现精度丢失,比如订单号，不要用long类型</p>\n</blockquote>\n<blockquote>\n<p>http请求通过url传参，不能超过2048字节</p>\n</blockquote>\n<blockquote>\n<p>http请求通过body传参，必须控制长度，nginx默认1mb，tomcat默认2mb</p>\n</blockquote>\n<blockquote>\n<p>在分页场景中，输入的参数小于1则显示第一页，参数大于总页数则返回最后一页</p>\n</blockquote>\n<blockquote>\n<p>正则表达式利用预编译功能，加快匹配速度，指不要在方法体内定义规则<br>错误写法：Pattern pattern = Pattern.compile(“规则)</p>\n</blockquote>\n<blockquote>\n<p>避免使用Apache Beanutils，可以使用Spring的BeanUtils(都是浅拷贝)</p>\n</blockquote>\n<blockquote>\n<p>获取随机值，直接使用Random对象的nextInt和nextLong方法</p>\n</blockquote>\n<blockquote>\n<p>可以通过预检查规避的RuntimeException不应该通过catch处理<br>正例：if(a != null)<br>反例：try{(a.getA)} catch(NullPointException e)</p>\n</blockquote>\n<blockquote>\n<p>不要在finally块中使用return，try块中的return执行完成后，并不会马上返回，而是继续执行finally块，再返回</p>\n</blockquote>\n<blockquote>\n<p>rpc调用，或者二方包调用时，捕获异常必须使用Throwable类进行拦截,在catch块中判断具体接受的异常</p>\n</blockquote>\n<blockquote>\n<p>不可用直接使用日志系统(log4j,Logback)的api，而应该使用slf4j,JCL面门框架的Api,有利于各个类的日志统一处理</p>\n</blockquote>\n<blockquote>\n<p>所有日志至少保存15天，对于当天日志，以应用名.log保存，保存在home/admin/应用名/logs/ 目录下,<br>过往日志格式为:logName.log.保存日期 日期格式 yyyy-MM-dd</p>\n</blockquote>\n<blockquote>\n<p>根据国家法律规定，网络运行状态，网络安全事件，个人敏感信息等操作日志，保存不少于六个月，并且网络多机备份</p>\n</blockquote>\n<blockquote>\n<p>扩展日志命令方式appName_logType_logName.log</p>\n</blockquote>\n<blockquote>\n<p>日志输出时，使用占位符拼接,内部实现的是StringBuilder<br>logger.debug(“id = {} and symbol = {}”,id,symbol);</p>\n</blockquote>\n<blockquote>\n<p>对于trace/debug/info级别的日志输出,必须先判断开关</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(logger.isDebugEnable())&#123;</span><br><span class=\"line\">    logger.debug(<span class=\"string\">&quot;id = &#123;&#125;&quot;</span>,id)</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>禁止使用System.out或System.err输出日志或者使用e.printStackTrace打印异常堆栈</p>\n</blockquote>\n<blockquote>\n<p>打印日志，直接调用toString方法，不要通过JSONObject.toJsonString，不然会调用get方法</p>\n</blockquote>\n<blockquote>\n<p>单元测试必须遵守AIR，自动化，独立性，可重复</p>\n</blockquote>\n<blockquote>\n<p>单元测试之间不能先后调用,单元测试是可以重复执行的</p>\n</blockquote>\n<blockquote>\n<p>用户个人页面必须权限校验</p>\n</blockquote>\n<blockquote>\n<p>用户敏感数据，必须进行数据脱敏例如 显示 130****4320,防止泄漏</p>\n</blockquote>\n<blockquote>\n<p>用户请求传入的任何参数必须做有效性验证<br>page size 过大导致内存溢出<br>恶意的order by 导致数据库慢查询<br>缓存击穿<br>SSRF，既伪造一个服务端请求，攻击者利用系统的某些接口，通过这个接口向目标系统发情攻击<br>任意重定向<br>SQL注入，Shell注入，反序列化注入<br>正则输入源串拒接服务ReDoS</p>\n</blockquote>\n<blockquote>\n<p>禁止向HTML页面输出未经安全过滤或者正确转义的用户数据</p>\n</blockquote>\n<blockquote>\n<p>表单，AJAX必须执行CSRF安全验证<br>跨站请求伪造是一类常见的编程漏洞，对于存在csrf的网站，攻击者可以实现通过构造好的url，只有受害者用户一访问，后台便可以在用户不知情的情况下修改用户数据<br>可以理解为攻击者盗用了你的身份，然后以你的名义发起恶意请求，这个请求对于服务器来说完全合法</p>\n</blockquote>\n<blockquote>\n<p>url外部重定向传入的地址，必须执行白名单过滤</p>\n</blockquote>\n<blockquote>\n<p>表示是或者否，必须使用is_xxx命名，类型是unsigned tinyint</p>\n</blockquote>\n<blockquote>\n<p>任何字段如果为非负数，必须是unsigned</p>\n</blockquote>\n<blockquote>\n<p>表名，字段名都必须使用小写，数据库修改字段的代价很大，MySQL在Windows下是不区分大小写的，但是在Linux下区分大小写，所有不允许有大小写</p>\n</blockquote>\n<blockquote>\n<p>表明使用用复数形式</p>\n</blockquote>\n<blockquote>\n<p>主键索引名为pk_字段名，唯一索引为uk_字段名,普通索引为idx_字段名</p>\n</blockquote>\n<blockquote>\n<p>小数类型一律用decimal,禁止使用float和double<br>如果您要遵守公认会计原则(GAAP)规则，则货币栏必须至少包含4位小数，以确保舍入值不超过$0.01。 在这种情况下，应该定义具有4位小数的列，如下所示：<br>amount DECIMAL(19,4),第一个参数是最大位数，第二个参数是小数位数<br>如果存储范围超过decimal的范围，建议将数据拆成证书和小数分开存储</p>\n</blockquote>\n<blockquote>\n<p>如果存储的字符串长度几乎相等，使用char定长字符串类型</p>\n</blockquote>\n<blockquote>\n<p>varchar是可变长字符串，不预先分配内存空间，长度不要超过5000，如果长度大于这个值，使用text类型，单独出来一张表，用主键来对应，避免影响其他字段的索引值</p>\n</blockquote>\n<blockquote>\n<p>表必备三字段，id，create_time,update_time<br>id为主键，类型为bigint unsigned，单表时自增，步长为1，<br>create_time,update_time类型均为datetime类型,</p>\n</blockquote>\n<blockquote>\n<p>业务上具有唯一特性的字段，即使是组合字段，也必须建立唯一索引<br>唯一索引不会影响insert速度，但是提高查找速度是明显的，<br>另外，即时在应用层做了非常完善的校验控制，只要没有唯一索引，根据墨菲定律，必有脏数据产生</p>\n</blockquote>\n<blockquote>\n<p>超过三个表禁止join，需要join的字段，数据类型必须保持一致，<br>多表关联查询时,被关联的字段要有索引<br>即时双表join,也要注意表索引</p>\n</blockquote>\n<blockquote>\n<p>在varchar字段建立索引时，必须指定索引长度，没必要全字段建立索引，根据实际的文本区分度决定索引长度</p>\n</blockquote>\n<blockquote>\n<p>页面搜索，严禁左模糊和全模糊，如果需要请走搜索引擎，索引文件根据最左匹配原则，如果左边的值未确定，那么无法使用此索引</p>\n</blockquote>\n<blockquote>\n<p>count(*)会统计为列值为null的行,count(列名)不会</p>\n</blockquote>\n<blockquote>\n<p>count(distinct 字段)计算该列除null之外的不重复行</p>\n</blockquote>\n<blockquote>\n<p>null和任何值比较都是null，而不是true或false</p>\n</blockquote>\n<blockquote>\n<p>如果某一列的值全为空，使用IFNULL(count(列名))或者IFNULL(SUM(列名)),避免空指针<br>使用ISNULL判断是否为NULL，ISNULL(列名)</p>\n</blockquote>\n<blockquote>\n<p>若分页查询，count为0,应该直接返回，避免执行后面的分页语句</p>\n</blockquote>\n<blockquote>\n<p>不得使用外键和级联</p>\n</blockquote>\n<blockquote>\n<p>禁止使用存储过程，存储过程难以调试和扩展，更没有移植性</p>\n</blockquote>\n<blockquote>\n<p>数据订正，要先select，避免出现误删除</p>\n</blockquote>\n<blockquote>\n<p>对于数据库中多个表的查询，都需要在列名前加表的别名</p>\n</blockquote>\n<blockquote>\n<p>在表查询中，一律不使用*</p>\n</blockquote>\n<blockquote>\n<p>不要使用resultCLass当返回参数，即使所有的属性名与数据库字段对应，也需要定义resultMap，方便配置映射关系，使字段与DO类解耦</p>\n</blockquote>\n<blockquote>\n<p>不允许直接拿HashMap和HashTable作为查询结果输出<br>某同学为了避免写一个resultMap,直接使用HashMap接受数据库返回结果，结果出现本地把bigint转换成long值，而由于线上数据库版本不一样，解析成BigInteger，出现问题</p>\n</blockquote>\n<blockquote>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>boolean不要以is开头，不然get方法就会出问题。</p>\n</blockquote>\n<blockquote>\n<p>包名统一用单数形式。</p>\n</blockquote>\n<blockquote>\n<p>使用完整的单词表达。</p>\n</blockquote>\n<blockquote>\n<p>禁止出现魔法值，任何直接出现在代码中的字符串都是魔法值</p>\n</blockquote>\n<blockquote>\n<p>使用long类型，必需使用大L,避免i1不分</p>\n</blockquote>\n<blockquote>\n<p>equals容易出现空指针异常<br>正确写法<br>＂sbdl＂.equals=object<br>推荐使用jdk7工具类<br>equals(a，b)</p>\n</blockquote>\n<blockquote>\n<p>Integer使用static生成-128到127的之间所以的数字，所以128=128等于false<br>所以所有的包装类都要用equals比较</p>\n</blockquote>\n<blockquote>\n<p>任何货币金额，都以最小金额单位且整形来存储</p>\n</blockquote>\n<blockquote>\n<p>浮点型数据，基本类型不能用==，包装类型不能用equals，1.0=1.00为false，因为精度不同，应该使用compareTo</p>\n</blockquote>\n<blockquote>\n<p>禁止在bigDicmal中传入double，应该使用valueOf,实现原理是toString</p>\n</blockquote>\n<blockquote>\n<p>所有的对象pojo都使用包装类型，不然有默认值<br>所有的局部变量都使用基本类型</p>\n</blockquote>\n<blockquote>\n<p>pojo类必须写toString方法，如果有继承，要super.toString</p>\n</blockquote>\n<blockquote>\n<p>日期格式化，new SImpleDateFormat(“yyyy-MM-dd HH:mm:ss”)<br>大写M 月份<br>小写M 分钟<br>24小时是大写H<br>12小时是小写的h</p>\n</blockquote>\n<blockquote>\n<p>获取当前毫秒数，System.currentTimeMillis()，底层使用的native方法<br>精确计时使用Instant类，精确到纳秒</p>\n</blockquote>\n<blockquote>\n<p>不要在程序中写死一年的天数，应该使用LocalDate.now().lengthOfYear()获取今年天数</p>\n</blockquote>\n<blockquote>\n<p>只要重写了equals，就要重写hashCode方法,Set和Map的key依据hashCode判断,<br>String重写的hashCode和equals方法，所以可以将String对象作为key来使用</p>\n</blockquote>\n<blockquote>\n<p>判断集合是否为空，调用isEmpty1方法,因为不是遍历实现的size==0</p>\n</blockquote>\n<blockquote>\n<p>使用stream流中的Collectors的toMap时，一定要使用含有参数类型BinaryOperator，参数值为mergeFunction的方法，否则出现相同的key，会抛出IllegalStateException<br>Collectors.toMap(key,value,(v1,v2)-&gt;v1)<br>toMap时，value也不能为空，所以在转换之前要做filter过滤<br>list.stream().filter(t-&gt;StringUtils.isNotBlank(t.getName)).collect(Collectors.toMap(t.getId,t.getName,(v1,v2)-&gt;v1))</p>\n</blockquote>\n<blockquote>\n<p>ArrayList的subList不可用强转ArrayList,因为subList返回的内部类是SubList是ArrayList的视图，对于subList的操作都会返回到原ArrayList上</p>\n</blockquote>\n<blockquote>\n<p>使用Map中的keySet/values/entrySet返回集合对象时，不可用对其添加元素操作，否则抛出UnsupportedOperationException</p>\n</blockquote>\n<blockquote>\n<p>在subList场景中，对父类集合的增加和删除，均会导致子列表的遍历，增加，删除产生ConcurrentModificationException</p>\n</blockquote>\n<blockquote>\n<p>集合转换数据的时候，list.toArray要指定参数，list.toArray(new String[0]),不然返回的object对象再转换，会出现转换异常，toArray的带参方法，length=0时，动态创建和size相同的数组</p>\n</blockquote>\n<blockquote>\n<p>使用ArrayList.addAll底层实现还是toArray,所以使用之前要判断参数是否为空</p>\n</blockquote>\n<blockquote>\n<p>不要在foreach中进行元素的add/remove操作。remove元素请使用Iterator，如果是并发操作请对Iterator对象加锁</p>\n</blockquote>\n<blockquote>\n<p>获取单例对象要保证线程安全</p>\n</blockquote>\n<blockquote>\n<p>创建线程或线程池，请指定有意义的线程名字，使用自定义线程工厂实现ThreadFactory，<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513160147.png\"></p>\n</blockquote>\n<blockquote>\n<p>线程资源必须通过线程池提供，通过ThreadPoolExecutor方法创建，</p>\n</blockquote>\n<blockquote>\n<p>SimpleDateFormat是线程不安全的类，不要定义为static变量,在jkd8应用中，使用Instant代替Date,LocalDateTime代替Calendar,使用DateTimeFormatter代替SimpleDateFormat</p>\n</blockquote>\n<blockquote>\n<p>必须回收自定义的ThreadLocal变量，在线程池场景下，会造成内存泄漏，建议使用</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aThreadLocal.set(userInfo)</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span>()&#123;</span><br><span class=\"line\">        aThreadLocal.remove()</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>高并发中，能锁区块就不要锁整个方法，能用对象锁就不要用类锁</p>\n</blockquote>\n<blockquote>\n<p>对多个资源，数据库表，对象同时加锁时，注意保持一致的加锁顺序，否则可能会造成死锁</p>\n</blockquote>\n<blockquote>\n<p>使用阻塞等待获取锁的过程中，必须在try代码块之外，并且加锁方法与try之间没有任何可能抛出的异常，避免加锁成功后，在finally无法解锁</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Lock();</span><br><span class=\"line\">        lock.lock();</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span>&#123;</span><br><span class=\"line\">        lock.unlock()</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>在尝试机制获取锁中，进入业务代码块之前，必须先判断当前线程是否持有锁，锁的释放规则与锁的阻塞等待方法相同</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Lock lock=<span class=\"keyword\">new</span> aLock();</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> isLocked=lock.tryLock();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(isLocked)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">        doSomething();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span>&#123;</span><br><span class=\"line\">        lock.unlock();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>并发修改时，更新同一条记录，避免更新丢失，需要加锁，要么在应用层面加锁，要么在缓存加锁，要么在数据库使用乐观锁version,访问冲突概率小于20%，使用乐观锁，否则使用悲观锁。<br>乐观锁的重试次数不得小于3次。</p>\n</blockquote>\n<blockquote>\n<p>多线程并行处理定时任务时，Timer运行多个TimeTask时，只要其中一个没有捕获抛出异常，其他任务便会自动停止运行，使用ScheduledExecutorService则没有这个问题。</p>\n</blockquote>\n<p><strong>反</strong><br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513163237.png\"></p>\n<p><strong>正</strong><br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513163142.png\"></p>\n<blockquote>\n<p>资金相关的信息，使用悲观锁，乐观锁在获取锁的同时完成了更新操作，检验逻辑容易出现漏洞，另外乐观锁对锁冲突的解决策略有较复杂的要求，处理不当容易造成系统压力，<br>悲观锁原则：一锁，二判，三更新，四释放</p>\n</blockquote>\n<blockquote>\n<p>在switch块中，每一个case都要通过continue/break/return来控制<br>必须包含一个default放在语句最后，即使他什么代码也没有</p>\n</blockquote>\n<blockquote>\n<p>在switch块之前判断param是否为null，不然default方法也不会执行，抛出空指针异常</p>\n</blockquote>\n<blockquote>\n<p>三目运算符 1:2中，注意1:2的类型对齐时，可能会抛出空指针问题<br>自动拆箱的触发场景<br>1和2的值只要有一个是原始类型<br>1和2的值类型不一致，会强制拆箱升级<br><img src=\"https://blog-1258707945.cos.ap-guangzhou.myqcloud.com/img/20220513164033.png\"></p>\n</blockquote>\n<blockquote>\n<p>高并发场景中，避免使用”等于”判断作为中断或退出条件，建议使用大于或小于<br>比如：判断剩余商品数量等于0，终止发放商品，但是并发处理导致奖品数量瞬间变成了负数</p>\n</blockquote>\n<blockquote>\n<p>Api规范<br>协议:生产环境必须使用HTTPS<br>路径:使用名词，推荐使用复数，请求方法已经表达了动作的含义,不能使用大写url，使用下环线分割，禁止携带表示请求内容的后缀，比如.json,.xml<br>请求方法：Get:取出资源 POST:新建资源 PUT:更新资源 DELETE: 删除资源<br>请求内容: url参数必须无敏感信息或加密,body里带的参数必须设置Content-Type<br>响应体:响应体body可以防止多种数据类型，由Content-Type头来确定</p>\n</blockquote>\n<blockquote>\n<p>前后端数据列表的接口返回，如果为空，返回空数组或空集合，避免前端很多琐碎的null判断</p>\n</blockquote>\n<blockquote>\n<p>需要使用长整数一律用String，使用Long类型，js会自动转换成number类型(双浮点),会出现精度丢失,比如订单号，不要用long类型</p>\n</blockquote>\n<blockquote>\n<p>http请求通过url传参，不能超过2048字节</p>\n</blockquote>\n<blockquote>\n<p>http请求通过body传参，必须控制长度，nginx默认1mb，tomcat默认2mb</p>\n</blockquote>\n<blockquote>\n<p>在分页场景中，输入的参数小于1则显示第一页，参数大于总页数则返回最后一页</p>\n</blockquote>\n<blockquote>\n<p>正则表达式利用预编译功能，加快匹配速度，指不要在方法体内定义规则<br>错误写法：Pattern pattern = Pattern.compile(“规则)</p>\n</blockquote>\n<blockquote>\n<p>避免使用Apache Beanutils，可以使用Spring的BeanUtils(都是浅拷贝)</p>\n</blockquote>\n<blockquote>\n<p>获取随机值，直接使用Random对象的nextInt和nextLong方法</p>\n</blockquote>\n<blockquote>\n<p>可以通过预检查规避的RuntimeException不应该通过catch处理<br>正例：if(a != null)<br>反例：try{(a.getA)} catch(NullPointException e)</p>\n</blockquote>\n<blockquote>\n<p>不要在finally块中使用return，try块中的return执行完成后，并不会马上返回，而是继续执行finally块，再返回</p>\n</blockquote>\n<blockquote>\n<p>rpc调用，或者二方包调用时，捕获异常必须使用Throwable类进行拦截,在catch块中判断具体接受的异常</p>\n</blockquote>\n<blockquote>\n<p>不可用直接使用日志系统(log4j,Logback)的api，而应该使用slf4j,JCL面门框架的Api,有利于各个类的日志统一处理</p>\n</blockquote>\n<blockquote>\n<p>所有日志至少保存15天，对于当天日志，以应用名.log保存，保存在home/admin/应用名/logs/ 目录下,<br>过往日志格式为:logName.log.保存日期 日期格式 yyyy-MM-dd</p>\n</blockquote>\n<blockquote>\n<p>根据国家法律规定，网络运行状态，网络安全事件，个人敏感信息等操作日志，保存不少于六个月，并且网络多机备份</p>\n</blockquote>\n<blockquote>\n<p>扩展日志命令方式appName_logType_logName.log</p>\n</blockquote>\n<blockquote>\n<p>日志输出时，使用占位符拼接,内部实现的是StringBuilder<br>logger.debug(“id = {} and symbol = {}”,id,symbol);</p>\n</blockquote>\n<blockquote>\n<p>对于trace/debug/info级别的日志输出,必须先判断开关</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(logger.isDebugEnable())&#123;</span><br><span class=\"line\">    logger.debug(<span class=\"string\">&quot;id = &#123;&#125;&quot;</span>,id)</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>禁止使用System.out或System.err输出日志或者使用e.printStackTrace打印异常堆栈</p>\n</blockquote>\n<blockquote>\n<p>打印日志，直接调用toString方法，不要通过JSONObject.toJsonString，不然会调用get方法</p>\n</blockquote>\n<blockquote>\n<p>单元测试必须遵守AIR，自动化，独立性，可重复</p>\n</blockquote>\n<blockquote>\n<p>单元测试之间不能先后调用,单元测试是可以重复执行的</p>\n</blockquote>\n<blockquote>\n<p>用户个人页面必须权限校验</p>\n</blockquote>\n<blockquote>\n<p>用户敏感数据，必须进行数据脱敏例如 显示 130****4320,防止泄漏</p>\n</blockquote>\n<blockquote>\n<p>用户请求传入的任何参数必须做有效性验证<br>page size 过大导致内存溢出<br>恶意的order by 导致数据库慢查询<br>缓存击穿<br>SSRF，既伪造一个服务端请求，攻击者利用系统的某些接口，通过这个接口向目标系统发情攻击<br>任意重定向<br>SQL注入，Shell注入，反序列化注入<br>正则输入源串拒接服务ReDoS</p>\n</blockquote>\n<blockquote>\n<p>禁止向HTML页面输出未经安全过滤或者正确转义的用户数据</p>\n</blockquote>\n<blockquote>\n<p>表单，AJAX必须执行CSRF安全验证<br>跨站请求伪造是一类常见的编程漏洞，对于存在csrf的网站，攻击者可以实现通过构造好的url，只有受害者用户一访问，后台便可以在用户不知情的情况下修改用户数据<br>可以理解为攻击者盗用了你的身份，然后以你的名义发起恶意请求，这个请求对于服务器来说完全合法</p>\n</blockquote>\n<blockquote>\n<p>url外部重定向传入的地址，必须执行白名单过滤</p>\n</blockquote>\n<blockquote>\n<p>表示是或者否，必须使用is_xxx命名，类型是unsigned tinyint</p>\n</blockquote>\n<blockquote>\n<p>任何字段如果为非负数，必须是unsigned</p>\n</blockquote>\n<blockquote>\n<p>表名，字段名都必须使用小写，数据库修改字段的代价很大，MySQL在Windows下是不区分大小写的，但是在Linux下区分大小写，所有不允许有大小写</p>\n</blockquote>\n<blockquote>\n<p>表明使用用复数形式</p>\n</blockquote>\n<blockquote>\n<p>主键索引名为pk_字段名，唯一索引为uk_字段名,普通索引为idx_字段名</p>\n</blockquote>\n<blockquote>\n<p>小数类型一律用decimal,禁止使用float和double<br>如果您要遵守公认会计原则(GAAP)规则，则货币栏必须至少包含4位小数，以确保舍入值不超过$0.01。 在这种情况下，应该定义具有4位小数的列，如下所示：<br>amount DECIMAL(19,4),第一个参数是最大位数，第二个参数是小数位数<br>如果存储范围超过decimal的范围，建议将数据拆成证书和小数分开存储</p>\n</blockquote>\n<blockquote>\n<p>如果存储的字符串长度几乎相等，使用char定长字符串类型</p>\n</blockquote>\n<blockquote>\n<p>varchar是可变长字符串，不预先分配内存空间，长度不要超过5000，如果长度大于这个值，使用text类型，单独出来一张表，用主键来对应，避免影响其他字段的索引值</p>\n</blockquote>\n<blockquote>\n<p>表必备三字段，id，create_time,update_time<br>id为主键，类型为bigint unsigned，单表时自增，步长为1，<br>create_time,update_time类型均为datetime类型,</p>\n</blockquote>\n<blockquote>\n<p>业务上具有唯一特性的字段，即使是组合字段，也必须建立唯一索引<br>唯一索引不会影响insert速度，但是提高查找速度是明显的，<br>另外，即时在应用层做了非常完善的校验控制，只要没有唯一索引，根据墨菲定律，必有脏数据产生</p>\n</blockquote>\n<blockquote>\n<p>超过三个表禁止join，需要join的字段，数据类型必须保持一致，<br>多表关联查询时,被关联的字段要有索引<br>即时双表join,也要注意表索引</p>\n</blockquote>\n<blockquote>\n<p>在varchar字段建立索引时，必须指定索引长度，没必要全字段建立索引，根据实际的文本区分度决定索引长度</p>\n</blockquote>\n<blockquote>\n<p>页面搜索，严禁左模糊和全模糊，如果需要请走搜索引擎，索引文件根据最左匹配原则，如果左边的值未确定，那么无法使用此索引</p>\n</blockquote>\n<blockquote>\n<p>count(*)会统计为列值为null的行,count(列名)不会</p>\n</blockquote>\n<blockquote>\n<p>count(distinct 字段)计算该列除null之外的不重复行</p>\n</blockquote>\n<blockquote>\n<p>null和任何值比较都是null，而不是true或false</p>\n</blockquote>\n<blockquote>\n<p>如果某一列的值全为空，使用IFNULL(count(列名))或者IFNULL(SUM(列名)),避免空指针<br>使用ISNULL判断是否为NULL，ISNULL(列名)</p>\n</blockquote>\n<blockquote>\n<p>若分页查询，count为0,应该直接返回，避免执行后面的分页语句</p>\n</blockquote>\n<blockquote>\n<p>不得使用外键和级联</p>\n</blockquote>\n<blockquote>\n<p>禁止使用存储过程，存储过程难以调试和扩展，更没有移植性</p>\n</blockquote>\n<blockquote>\n<p>数据订正，要先select，避免出现误删除</p>\n</blockquote>\n<blockquote>\n<p>对于数据库中多个表的查询，都需要在列名前加表的别名</p>\n</blockquote>\n<blockquote>\n<p>在表查询中，一律不使用*</p>\n</blockquote>\n<blockquote>\n<p>不要使用resultCLass当返回参数，即使所有的属性名与数据库字段对应，也需要定义resultMap，方便配置映射关系，使字段与DO类解耦</p>\n</blockquote>\n<blockquote>\n<p>不允许直接拿HashMap和HashTable作为查询结果输出<br>某同学为了避免写一个resultMap,直接使用HashMap接受数据库返回结果，结果出现本地把bigint转换成long值，而由于线上数据库版本不一样，解析成BigInteger，出现问题</p>\n</blockquote>\n<blockquote>\n</blockquote>\n"},{"title":"待学清单","date":"2022-06-20T07:57:40.000Z","cover":"/img/9.png","_content":"问题排查能力\nblockingQueue []\nredis\nmongo\ntidb\n","source":"_posts/开发记录/待学清单.md","raw":"---\ntitle: 待学清单\ndate: 2022-6-20 15:57:40\ncover: \ntags:\n- 开发记录\n---\n问题排查能力\nblockingQueue []\nredis\nmongo\ntidb\n","slug":"开发记录/待学清单","published":1,"updated":"2022-06-20T13:08:05.766Z","_id":"cl4mg2zvj0004b82m38rm0mmz","comments":1,"layout":"post","photos":[],"link":"","content":"<p>问题排查能力<br>blockingQueue []<br>redis<br>mongo<br>tidb</p>\n","site":{"data":{}},"excerpt":"","more":"<p>问题排查能力<br>blockingQueue []<br>redis<br>mongo<br>tidb</p>\n"},{"title":"IDEA忽略配置文件","date":"2022-06-27T09:47:59.000Z","cover":null,"_content":"\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220627175123.png)\n\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220627175318.png)\n\nMove to Another Changelist 将选中的文件转移到其他的 Change list 中。 Change list 是一个重要的概念，这里需要进行重点说明。很多时候，我们开发一个项目同时并发的任务可能有很多，每个任务涉及到的文件可能都是基于业务来讲的。 所以就会存在一个这样的情况：我改了 30 个文件，其中 15 个文件是属于订单问题，剩下 15 个是会员问题，那我希望提交代码的时候是根据业务区分这些文件的， 这样我填写 Commit Message 是好描述的，同时在文件多的情况下，我也好区分这些要提交的文件业务模块。 所以我一般会把属于订单的 15 个文件转移到其他的 Change list中，先把专注点集中在 15 个会员问题的文件，先提交会员问题的 Change list，然后在提交订单会员的 Change list。 我个人还有一种用法是把一些文件暂时不提交的文件转移到一个我指定的 Change list，等后面我觉得有必要提交了，再做提交操作，这样这些文件就不会干扰我当前修改的文件提交。 总结下 Change list 的功能就是为了让你更好地管理你的版本控制文件，让你的专注点得到更好的集中，从而提供效率。\n","source":"_posts/开发记录/Idea忽略配置文件.md","raw":"---\ntitle: IDEA忽略配置文件\ndate: 2022-6-27 17:47:59\ncover: \ntags:\n- 开发记录\n---\n\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220627175123.png)\n\n![](https://blog-1258707945.cos.ap-guangzhou.myqcloud.com//blog/20220627175318.png)\n\nMove to Another Changelist 将选中的文件转移到其他的 Change list 中。 Change list 是一个重要的概念，这里需要进行重点说明。很多时候，我们开发一个项目同时并发的任务可能有很多，每个任务涉及到的文件可能都是基于业务来讲的。 所以就会存在一个这样的情况：我改了 30 个文件，其中 15 个文件是属于订单问题，剩下 15 个是会员问题，那我希望提交代码的时候是根据业务区分这些文件的， 这样我填写 Commit Message 是好描述的，同时在文件多的情况下，我也好区分这些要提交的文件业务模块。 所以我一般会把属于订单的 15 个文件转移到其他的 Change list中，先把专注点集中在 15 个会员问题的文件，先提交会员问题的 Change list，然后在提交订单会员的 Change list。 我个人还有一种用法是把一些文件暂时不提交的文件转移到一个我指定的 Change list，等后面我觉得有必要提交了，再做提交操作，这样这些文件就不会干扰我当前修改的文件提交。 总结下 Change list 的功能就是为了让你更好地管理你的版本控制文件，让你的专注点得到更好的集中，从而提供效率。\n","slug":"开发记录/Idea忽略配置文件","published":1,"updated":"2022-06-27T09:55:00.998Z","_id":"cl4wkcpay00000o2m7twme4wk","comments":1,"layout":"post","photos":[],"link":""},{"_content":"# 22.6.23\n\n## 【绩效考核】初评和复评页面评估组织拉取失败\n\n拉取评估组织方法名\n\n```\ngetDepartmentList\n/assess/pbc/subordinate/getDeps\n```\n\n测试环境网页\n\nhttps://assess-sit.inwesure.com/\n\n\n\n```json\n{\n  \"filter\": {\n    \"periodCode\": \"P1539091906829541376\",\n    \"orgId\": \"\",\n    \"participantAccount\": \"\",\n    \"userType\": \"\",\n    \"jobGrade\": \"allJob\",\n    \"starNum\": [],\n    \"assessStatus\": \"\",\n    \"handlerAccount\": \"\",\n    \"taskStatus\": 2\n  },\n  \"pageNum\": 1,\n  \"pageSize\": 100\n}\n```\n\njunyimeng \n\n\n\n","source":"_posts/日志/22.6.23.md","raw":"# 22.6.23\n\n## 【绩效考核】初评和复评页面评估组织拉取失败\n\n拉取评估组织方法名\n\n```\ngetDepartmentList\n/assess/pbc/subordinate/getDeps\n```\n\n测试环境网页\n\nhttps://assess-sit.inwesure.com/\n\n\n\n```json\n{\n  \"filter\": {\n    \"periodCode\": \"P1539091906829541376\",\n    \"orgId\": \"\",\n    \"participantAccount\": \"\",\n    \"userType\": \"\",\n    \"jobGrade\": \"allJob\",\n    \"starNum\": [],\n    \"assessStatus\": \"\",\n    \"handlerAccount\": \"\",\n    \"taskStatus\": 2\n  },\n  \"pageNum\": 1,\n  \"pageSize\": 100\n}\n```\n\njunyimeng \n\n\n\n","slug":"日志/22.6.23","published":1,"date":"2022-06-23T02:06:32.991Z","updated":"2022-06-23T12:17:07.131Z","title":"","comments":1,"layout":"post","photos":[],"link":"","_id":"cl4wkcpbn00020o2mdm5l7qks","content":"<h1 id=\"22-6-23\"><a href=\"#22-6-23\" class=\"headerlink\" title=\"22.6.23\"></a>22.6.23</h1><h2 id=\"【绩效考核】初评和复评页面评估组织拉取失败\"><a href=\"#【绩效考核】初评和复评页面评估组织拉取失败\" class=\"headerlink\" title=\"【绩效考核】初评和复评页面评估组织拉取失败\"></a>【绩效考核】初评和复评页面评估组织拉取失败</h2><p>拉取评估组织方法名</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getDepartmentList</span><br><span class=\"line\">/assess/pbc/subordinate/getDeps</span><br></pre></td></tr></table></figure>\n\n<p>测试环境网页</p>\n<p><a href=\"https://assess-sit.inwesure.com/\">https://assess-sit.inwesure.com/</a></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;filter&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;periodCode&quot;</span>: <span class=\"string\">&quot;P1539091906829541376&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;orgId&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;participantAccount&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;userType&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;jobGrade&quot;</span>: <span class=\"string\">&quot;allJob&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;starNum&quot;</span>: [],</span><br><span class=\"line\">    <span class=\"attr\">&quot;assessStatus&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;handlerAccount&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;taskStatus&quot;</span>: <span class=\"number\">2</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">&quot;pageNum&quot;</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;pageSize&quot;</span>: <span class=\"number\">100</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>junyimeng </p>\n","site":{"data":{}},"cover":"/img/6.png","excerpt":"","more":"<h1 id=\"22-6-23\"><a href=\"#22-6-23\" class=\"headerlink\" title=\"22.6.23\"></a>22.6.23</h1><h2 id=\"【绩效考核】初评和复评页面评估组织拉取失败\"><a href=\"#【绩效考核】初评和复评页面评估组织拉取失败\" class=\"headerlink\" title=\"【绩效考核】初评和复评页面评估组织拉取失败\"></a>【绩效考核】初评和复评页面评估组织拉取失败</h2><p>拉取评估组织方法名</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getDepartmentList</span><br><span class=\"line\">/assess/pbc/subordinate/getDeps</span><br></pre></td></tr></table></figure>\n\n<p>测试环境网页</p>\n<p><a href=\"https://assess-sit.inwesure.com/\">https://assess-sit.inwesure.com/</a></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;filter&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;periodCode&quot;</span>: <span class=\"string\">&quot;P1539091906829541376&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;orgId&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;participantAccount&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;userType&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;jobGrade&quot;</span>: <span class=\"string\">&quot;allJob&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;starNum&quot;</span>: [],</span><br><span class=\"line\">    <span class=\"attr\">&quot;assessStatus&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;handlerAccount&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;taskStatus&quot;</span>: <span class=\"number\">2</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">&quot;pageNum&quot;</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;pageSize&quot;</span>: <span class=\"number\">100</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>junyimeng </p>\n"},{"_content":"fap-engin-应收管理-业务类型单据类型的多选\n\n```\nhttp://localhost:3000/fap/accounting/business/head/download?businessTypeCodeList=commission&orderTypeCodeList=tolerance&correctingFlag=1&accountTimeRange=2022-06-01,2022-06-24&fundDirect=receipt&businessScope=business&fileName=%E5%BA%94%E6%94%B6%E5%8D%95%E6%8D%AE\n```\n\n\n\n删除\n\n```\n/fap/accounting/business/operate/by/select\n```\n\n单据主键\n\n```\nbusiness_data_id\n```\n\nTKCN1000000ADPH01202206004\n\n1539810215258595328\n\n```java\n        if (CollectionUtils.isNotEmpty(request.getFilter().getBusinessTypeCodeList())) {\n            criteria.andBusinessTypeCodeIn(request.getFilter().getBusinessTypeCodeList());\n        }\n        if (CollectionUtils.isNotEmpty(request.getFilter().getOrderTypeCodeList())) {\n            criteria.andOrderTypeCodeIn(request.getFilter().getOrderTypeCodeList());\n        }\n```\n\n```\n<if test=\"ids != null\">\n  and id in\n  <foreach collection=\"ids\" item=\"id\" separator=\",\" open=\"(\" close=\")\">\n    #{id}\n  </foreach>\n</if>\n```\n\n```sql\nselect\n    business_type_name 业务类型,\n    order_type_name 单据类型,\n    company_code 公司代码,\n    company_name 公司名称,\n    contact_unit_1 往来单位代码,\n    contact_unit_name_1 往来单位名称,\n    business_no 业务单据号,correcting_no 冲正序号,\n    write_off_no 核销方,\n    written_off_no 被核销方,\n    associate_no  关联单号,\n    settlement_no  结算单号,\n    IF(correcting_flag=0, '否', '是') 冲正有效标记,\n    tax_no 税务单号,\n    currency 币种,\n    amount 含税金额,\n    amount_tax 税金,\n    amount_excluding_tax 不含税金额,\n    other_amount 其他金额,\n    remain_amount 余额,\n    CONCAT(' ', business_time) 业务时间,\n    CONCAT(' ', account_time) 会计日期,\n    IF(payment_flag=0, '未收付', '已收付') 收付标记,\n    CONCAT(' ', payment_time) 收付时间,\n    case account_flag when 0 then '未记账' when 1 then '已记账' when 2 then '出错' when 3 then 'EBS已入账' when 4 then '无凭证' end 挂账记账标记,\n    IF(payment_account_flag=0, '未记账', '已记账') 收付记账标记,\n    IF(tax_account_flag=0, '未记账', '已记账') 税务记账标记,\n    we_account_name 我方账户,\n    we_bank_info 我方银行信息,\n    account_name 收付方账户,\n    summary 说明,\n    error_msg 错误信息,\n    CONCAT(' ', former_account_time) 原会计日期,\n    IF(payment_check_flag=1, '失败', '成功') 付款校验状态,\n    payment_check_error_msg 付款校验失败原因\n    from accounting_business_head\n     \n     WHERE delete_flag = 0\n\n      \n\n      \n        and business_type_code in\n       (\n         'purchase'\n       ,\n         'reimbursement'\n       )\n      \n      \n        and order_type_code in\n       (\n         'payment'\n       ,\n         'advancePayment'\n       )\n      \n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n        and correcting_flag = 1\n      \n      \n      \n        and account_time >= '2022-06-01 00:00:00'\n      \n      \n        and account_time < '2022-06-28 00:00:00'\n      \n      \n      \n      \n      \n      \n        and order_type_code in (\n        \n          'returnLoan'\n        ,\n          'withholding'\n        ,\n          'loan'\n        ,\n          'returnAdvance'\n        ,\n          'advancePayment'\n        ,\n          'interiorCA'\n        ,\n          'collectingForAnother'\n        ,\n          'payment'\n        ,\n          'payTest'\n        ,\n          'expense'\n        ,\n          'payForAnother'\n        ,\n          'generalPayment'\n        \n        )\n      \n      \n        and business_type_code in (\n        \n          'general'\n        ,\n          'purchase'\n        ,\n          'reimbursement'\n        ,\n          'anotherCP'\n        \n        ) \n   \n    order by sys_ctime desc, correcting_no desc, order_type_code,business_type_code\n```\n\n\n\nsrc/views/CostPay/CostList.vue\n","source":"_posts/日志/22.6.24.md","raw":"fap-engin-应收管理-业务类型单据类型的多选\n\n```\nhttp://localhost:3000/fap/accounting/business/head/download?businessTypeCodeList=commission&orderTypeCodeList=tolerance&correctingFlag=1&accountTimeRange=2022-06-01,2022-06-24&fundDirect=receipt&businessScope=business&fileName=%E5%BA%94%E6%94%B6%E5%8D%95%E6%8D%AE\n```\n\n\n\n删除\n\n```\n/fap/accounting/business/operate/by/select\n```\n\n单据主键\n\n```\nbusiness_data_id\n```\n\nTKCN1000000ADPH01202206004\n\n1539810215258595328\n\n```java\n        if (CollectionUtils.isNotEmpty(request.getFilter().getBusinessTypeCodeList())) {\n            criteria.andBusinessTypeCodeIn(request.getFilter().getBusinessTypeCodeList());\n        }\n        if (CollectionUtils.isNotEmpty(request.getFilter().getOrderTypeCodeList())) {\n            criteria.andOrderTypeCodeIn(request.getFilter().getOrderTypeCodeList());\n        }\n```\n\n```\n<if test=\"ids != null\">\n  and id in\n  <foreach collection=\"ids\" item=\"id\" separator=\",\" open=\"(\" close=\")\">\n    #{id}\n  </foreach>\n</if>\n```\n\n```sql\nselect\n    business_type_name 业务类型,\n    order_type_name 单据类型,\n    company_code 公司代码,\n    company_name 公司名称,\n    contact_unit_1 往来单位代码,\n    contact_unit_name_1 往来单位名称,\n    business_no 业务单据号,correcting_no 冲正序号,\n    write_off_no 核销方,\n    written_off_no 被核销方,\n    associate_no  关联单号,\n    settlement_no  结算单号,\n    IF(correcting_flag=0, '否', '是') 冲正有效标记,\n    tax_no 税务单号,\n    currency 币种,\n    amount 含税金额,\n    amount_tax 税金,\n    amount_excluding_tax 不含税金额,\n    other_amount 其他金额,\n    remain_amount 余额,\n    CONCAT(' ', business_time) 业务时间,\n    CONCAT(' ', account_time) 会计日期,\n    IF(payment_flag=0, '未收付', '已收付') 收付标记,\n    CONCAT(' ', payment_time) 收付时间,\n    case account_flag when 0 then '未记账' when 1 then '已记账' when 2 then '出错' when 3 then 'EBS已入账' when 4 then '无凭证' end 挂账记账标记,\n    IF(payment_account_flag=0, '未记账', '已记账') 收付记账标记,\n    IF(tax_account_flag=0, '未记账', '已记账') 税务记账标记,\n    we_account_name 我方账户,\n    we_bank_info 我方银行信息,\n    account_name 收付方账户,\n    summary 说明,\n    error_msg 错误信息,\n    CONCAT(' ', former_account_time) 原会计日期,\n    IF(payment_check_flag=1, '失败', '成功') 付款校验状态,\n    payment_check_error_msg 付款校验失败原因\n    from accounting_business_head\n     \n     WHERE delete_flag = 0\n\n      \n\n      \n        and business_type_code in\n       (\n         'purchase'\n       ,\n         'reimbursement'\n       )\n      \n      \n        and order_type_code in\n       (\n         'payment'\n       ,\n         'advancePayment'\n       )\n      \n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n        and correcting_flag = 1\n      \n      \n      \n        and account_time >= '2022-06-01 00:00:00'\n      \n      \n        and account_time < '2022-06-28 00:00:00'\n      \n      \n      \n      \n      \n      \n        and order_type_code in (\n        \n          'returnLoan'\n        ,\n          'withholding'\n        ,\n          'loan'\n        ,\n          'returnAdvance'\n        ,\n          'advancePayment'\n        ,\n          'interiorCA'\n        ,\n          'collectingForAnother'\n        ,\n          'payment'\n        ,\n          'payTest'\n        ,\n          'expense'\n        ,\n          'payForAnother'\n        ,\n          'generalPayment'\n        \n        )\n      \n      \n        and business_type_code in (\n        \n          'general'\n        ,\n          'purchase'\n        ,\n          'reimbursement'\n        ,\n          'anotherCP'\n        \n        ) \n   \n    order by sys_ctime desc, correcting_no desc, order_type_code,business_type_code\n```\n\n\n\nsrc/views/CostPay/CostList.vue\n","slug":"日志/22.6.24","published":1,"date":"2022-06-24T03:05:57.702Z","updated":"2022-06-28T02:08:21.281Z","_id":"cl4wkcpbo00030o2m7513ahou","title":"","comments":1,"layout":"post","photos":[],"link":""},{"title":"GenerateAllSetter Postfix Completion","date":"2022-06-20T12:13:43.000Z","cover":"/img/9.png","_content":"生成 set\n```java\nfoo.allset\n```\n根据一段含有源对象（a）/目标对象（b）的 b.setXxx(a.getXxx()) 方法代码生成所有 set 方法以快速实现对象转换\n```java\npublic void usage05() {\n    // 用法5, 将 src 的数据赋值给 dest, 常用于两个不同类直接进行 convert(需字段名称相同), 通过 postfix\n    Foo src = new Foo();\n    Foo dest = new Foo();\n    // 取消下面的注释, 光标位于 convert 后面, 按下 Tab 键\n//        dest.setTestInt(src.getTestInt());.convert\n    // 即可得到下面结果\n    dest.setTestInt(src.getTestInt());\n    dest.setTestLong(src.getTestLong());\n    dest.setTestFloat(src.getTestFloat());\n    dest.setTestDouble(src.getTestDouble());\n    dest.setTestBoolean(src.getTestBoolean());\n}\n```\n","source":"_posts/插件/GenerateAllSetter Postfix Completion.md","raw":"---\ntitle: GenerateAllSetter Postfix Completion\ndate: 2022-6-20 20:13:43\ncover: \ntags:\n- 插件\n---\n生成 set\n```java\nfoo.allset\n```\n根据一段含有源对象（a）/目标对象（b）的 b.setXxx(a.getXxx()) 方法代码生成所有 set 方法以快速实现对象转换\n```java\npublic void usage05() {\n    // 用法5, 将 src 的数据赋值给 dest, 常用于两个不同类直接进行 convert(需字段名称相同), 通过 postfix\n    Foo src = new Foo();\n    Foo dest = new Foo();\n    // 取消下面的注释, 光标位于 convert 后面, 按下 Tab 键\n//        dest.setTestInt(src.getTestInt());.convert\n    // 即可得到下面结果\n    dest.setTestInt(src.getTestInt());\n    dest.setTestLong(src.getTestLong());\n    dest.setTestFloat(src.getTestFloat());\n    dest.setTestDouble(src.getTestDouble());\n    dest.setTestBoolean(src.getTestBoolean());\n}\n```\n","slug":"插件/GenerateAllSetter Postfix Completion","published":1,"updated":"2022-06-20T12:15:34.295Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl4wkcpbt00040o2m7mkp1rc2","content":"<p>生成 set</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo.allset</span><br></pre></td></tr></table></figure>\n<p>根据一段含有源对象（a）/目标对象（b）的 b.setXxx(a.getXxx()) 方法代码生成所有 set 方法以快速实现对象转换</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">usage05</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 用法5, 将 src 的数据赋值给 dest, 常用于两个不同类直接进行 convert(需字段名称相同), 通过 postfix</span></span><br><span class=\"line\">    Foo src = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\">    Foo dest = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\">    <span class=\"comment\">// 取消下面的注释, 光标位于 convert 后面, 按下 Tab 键</span></span><br><span class=\"line\"><span class=\"comment\">//        dest.setTestInt(src.getTestInt());.convert</span></span><br><span class=\"line\">    <span class=\"comment\">// 即可得到下面结果</span></span><br><span class=\"line\">    dest.setTestInt(src.getTestInt());</span><br><span class=\"line\">    dest.setTestLong(src.getTestLong());</span><br><span class=\"line\">    dest.setTestFloat(src.getTestFloat());</span><br><span class=\"line\">    dest.setTestDouble(src.getTestDouble());</span><br><span class=\"line\">    dest.setTestBoolean(src.getTestBoolean());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>生成 set</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo.allset</span><br></pre></td></tr></table></figure>\n<p>根据一段含有源对象（a）/目标对象（b）的 b.setXxx(a.getXxx()) 方法代码生成所有 set 方法以快速实现对象转换</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">usage05</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 用法5, 将 src 的数据赋值给 dest, 常用于两个不同类直接进行 convert(需字段名称相同), 通过 postfix</span></span><br><span class=\"line\">    Foo src = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\">    Foo dest = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\">    <span class=\"comment\">// 取消下面的注释, 光标位于 convert 后面, 按下 Tab 键</span></span><br><span class=\"line\"><span class=\"comment\">//        dest.setTestInt(src.getTestInt());.convert</span></span><br><span class=\"line\">    <span class=\"comment\">// 即可得到下面结果</span></span><br><span class=\"line\">    dest.setTestInt(src.getTestInt());</span><br><span class=\"line\">    dest.setTestLong(src.getTestLong());</span><br><span class=\"line\">    dest.setTestFloat(src.getTestFloat());</span><br><span class=\"line\">    dest.setTestDouble(src.getTestDouble());</span><br><span class=\"line\">    dest.setTestBoolean(src.getTestBoolean());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"绩效考核系统","date":"2022-06-21T03:05:47.000Z","cover":"/img/4.png","_content":"\n# 360干部考核系统-wehr\n\n主要功能分为问卷管理，问卷填写，评估管理和结果报告\n\nhttps://wesure.coding.inwesure.com/p/g010/d/wehr/git\n\n使用使用分支 dev\n\n两个项目端口都是9200，改wehr为9201，同时修改grpc端口为59201\n\n\n\n\n\n\n\n# 绩效考核系统-assess\n\n分为绩效目标和绩效考核，绩效考核分为自评、初评、复评、星级报表、评估结果展示、评估配置\n\nhttps://wesure.coding.inwesure.com/p/g010/d/assess/git\n\n使用使用分支 dev\n\n## 流程\n\n新建周期(assess_period)\n\n​\t-目标人员填写(assess_target_persons)    id = period_id\n\n​\t-评估主实体(assess_header) \t\t\t\t\t period_code= period_code\n\n- \n\n\n\n## 问题\n\n### 发起目标，还没有导入填写目标人员，发起成功(好像又不用改动了)\n\n解决\n\n```java\n        //查询当前周期信息\n        AssessPeriod assessPeriodDb = assessPeriodService.selectByPrimaryKey(assessPeriod.getId());\n        if (null == assessPeriodDb){\n            return new BaseResult(BaseMessage.FAILED,\"考核周期不存在\",null);\n        }\n\n        AssessHeaderExample assessHeaderExample = new AssessHeaderExample();\n        assessHeaderExample.createCriteria()\n                .andIsDelEqualTo((byte) 0)\n                .andPeriodCodeEqualTo(assessPeriodDb.getPeriodCode());\n        List<AssessHeader> assessHeaders = assessHeaderService.selectByExample(assessHeaderExample);\n        if (CollectionUtils.isEmpty(assessHeaders)){\n            return new BaseResult(BaseMessage.FAILED,\"请先配置评估人员\",null);\n        }\n```\n\n\n\n```mysql\nperiod_status '状态 0未发起 1已发起 2已结束',\n```\n\n\n\n\n\n\n# 前端网页\n\nhttps://wesure.coding.inwesure.com/p/g010/d/assess-web/git\n\n使用使用分支 develop\n\nhttp://localhost:9008/      \n\n## 配置本地网关\n\nvue.config.js\n\n```js\nmodule.exports = {\n  // app部署路径\n  publicPath: '/',\n  // build目录\n  outputDir: 'dist',\n  devServer: {\n    clientLogLevel: 'warning',\n    historyApiFallback: true,\n    hot: true,\n    compress: true,\n    host: '0.0.0.0',\n    port: 9008,\n    open: false,\n    overlay: {\n      warnings: false, errors: true\n    },\n    watchOptions: {\n      poll: false\n    },\n    proxy: {\n      // 系统业务接口\n      '/wofNidGenerator/getNids': {\n        target: 'http://upmsapi.sit.com:10020',\n        changeOrigin: true,\n        secure: false,\n        headers: {\n          'X-WESURE-ENAME': 'v_linzlzhao'\n        }\n      },\n      // 自定义页面接口\n      '/upmsapi/forward_service/': {\n        target: 'http://upmsapi.sit.com:10020', // sit\n        changeOrigin: true,\n        secure: false\n      },\n      '/manage/formappdata/': {\n        target: 'http://10.0.32.65:80',\n        changeOrigin: true,\n        secure: false\n      },\n      '/manage/customapp/': {\n        target: 'http://10.0.32.65:80',\n        // target: 'http://10.98.163.34:8001',\n        changeOrigin: true,\n        secure: false\n      },\n      '/manage/processappdata/': {\n        target: 'http://10.0.32.65:80',\n        changeOrigin: true,\n        secure: false\n      },\n      '/workflow/workflow_procIns/getDataByUrl': {\n        target: 'http://upmsapi.sit.com:10020',\n        // target: 'http://10.98.163.22:10020',\n        changeOrigin: true,\n        secure: false,\n        headers: {\n          'X-WESURE-ENAME': 'v_linzlzhao'\n        }\n      },\n      '/workflow/': {\n        target: 'http://10.0.32.179:7001',\n        changeOrigin: true,\n        secure: false,\n        headers: {\n          'X-WESURE-ENAME': 'v_linzlzhao'\n        }\n      },\n      // 系统业务接口\n      '/assess/result/': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        target: 'http://10.98.164.181:9200', // sit\n        // target: 'http://10.98.164.143:9200', // sit\n        changeOrigin: true,\n        secure: false\n        // headers: {\n        //   'X-WESURE-ENAME': 'raymcheng'\n        // }\n      },\n      '/public/pbc': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        // target: 'http://10.98.163.130:9200', // 东哥\n        target: 'http://10.98.164.181:9200', // 一路\n        // target: 'http://10.98.163.130:9200', // 景康\n        // target: 'http://10.0.22.240:80', // sit\n        changeOrigin: true,\n        secure: false\n      },\n      '/public/': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        // target: 'http://10.98.163.130:9200', // 东哥\n        target: 'http://10.98.164.181:9200', // 一路\n        // target: 'http://10.98.163.130:9200', // 景康\n        // target: 'http://10.0.22.240:80', // sit\n        changeOrigin: true,\n        secure: false\n      },\n      '/assess/pbc/': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        // target: 'http://10.98.163.130:9200', // 东哥\n        target: 'http://10.98.164.181:9200', // 一路\n        // target: 'http://10.98.163.130:9200', // 景康\n        // target: 'http://10.0.22.240:80', // sit\n        changeOrigin: true,\n        secure: false,\n        headers: {\n          'X-WESURE-ENAME': 'yeelusun'\n        }\n      },\n      '/assess/': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        // target: 'http://10.98.163.130:9200', // 东哥\n        target: 'http://10.98.164.181:9201', // 一路\n        // target: 'http://10.0.64.179:9200', // sit\n        changeOrigin: true,\n        secure: false,\n        headers: {\n          'X-WESURE-ENAME': 'jackieyang'\n        }\n      },\n      '/hr/': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        // target: 'http://10.98.163.33:9200', // 东哥\n        // target: 'http://10.98.164.197:9200', // 一路\n        target: 'http://10.98.164.181:9201', // 一路\n        // target: 'http://10.0.64.179:9200', // sit\n        changeOrigin: true,\n        secure: false\n        // headers: {\n        //   'X-WESURE-ENAME': 'raymcheng'\n        // }\n      },\n      // 系统业务接口\n      '/manage/': {\n        target: 'http://10.0.32.14:7001',\n        changeOrigin: true,\n        secure: false\n      },\n      // 人员和组织接口, 针对/api/v2/user/search和/api/v2/organization/search，这2个接口没用到的可以不配\n      '/api/': {\n        target: 'http://upmsapi.sit.com:10020',\n        // target: 'http://upmsapi.dev.com:10020',\n        changeOrigin: true,\n        secure: false\n      },\n      // 统一网关接口\n      '/SolomonService/': {\n        target: 'http://upmsapi.sit.com:10020',\n        // target: 'http://upmsapi.dev.com:10020',\n        changeOrigin: true\n      }\n    }\n  }\n}\n\n```\n\n","source":"_posts/日志/绩效考核系统.md","raw":"---\ntitle: 绩效考核系统\ndate: 2022-6-21 11:05:47\ncover: \ntags:\n- 日志\n---\n\n# 360干部考核系统-wehr\n\n主要功能分为问卷管理，问卷填写，评估管理和结果报告\n\nhttps://wesure.coding.inwesure.com/p/g010/d/wehr/git\n\n使用使用分支 dev\n\n两个项目端口都是9200，改wehr为9201，同时修改grpc端口为59201\n\n\n\n\n\n\n\n# 绩效考核系统-assess\n\n分为绩效目标和绩效考核，绩效考核分为自评、初评、复评、星级报表、评估结果展示、评估配置\n\nhttps://wesure.coding.inwesure.com/p/g010/d/assess/git\n\n使用使用分支 dev\n\n## 流程\n\n新建周期(assess_period)\n\n​\t-目标人员填写(assess_target_persons)    id = period_id\n\n​\t-评估主实体(assess_header) \t\t\t\t\t period_code= period_code\n\n- \n\n\n\n## 问题\n\n### 发起目标，还没有导入填写目标人员，发起成功(好像又不用改动了)\n\n解决\n\n```java\n        //查询当前周期信息\n        AssessPeriod assessPeriodDb = assessPeriodService.selectByPrimaryKey(assessPeriod.getId());\n        if (null == assessPeriodDb){\n            return new BaseResult(BaseMessage.FAILED,\"考核周期不存在\",null);\n        }\n\n        AssessHeaderExample assessHeaderExample = new AssessHeaderExample();\n        assessHeaderExample.createCriteria()\n                .andIsDelEqualTo((byte) 0)\n                .andPeriodCodeEqualTo(assessPeriodDb.getPeriodCode());\n        List<AssessHeader> assessHeaders = assessHeaderService.selectByExample(assessHeaderExample);\n        if (CollectionUtils.isEmpty(assessHeaders)){\n            return new BaseResult(BaseMessage.FAILED,\"请先配置评估人员\",null);\n        }\n```\n\n\n\n```mysql\nperiod_status '状态 0未发起 1已发起 2已结束',\n```\n\n\n\n\n\n\n# 前端网页\n\nhttps://wesure.coding.inwesure.com/p/g010/d/assess-web/git\n\n使用使用分支 develop\n\nhttp://localhost:9008/      \n\n## 配置本地网关\n\nvue.config.js\n\n```js\nmodule.exports = {\n  // app部署路径\n  publicPath: '/',\n  // build目录\n  outputDir: 'dist',\n  devServer: {\n    clientLogLevel: 'warning',\n    historyApiFallback: true,\n    hot: true,\n    compress: true,\n    host: '0.0.0.0',\n    port: 9008,\n    open: false,\n    overlay: {\n      warnings: false, errors: true\n    },\n    watchOptions: {\n      poll: false\n    },\n    proxy: {\n      // 系统业务接口\n      '/wofNidGenerator/getNids': {\n        target: 'http://upmsapi.sit.com:10020',\n        changeOrigin: true,\n        secure: false,\n        headers: {\n          'X-WESURE-ENAME': 'v_linzlzhao'\n        }\n      },\n      // 自定义页面接口\n      '/upmsapi/forward_service/': {\n        target: 'http://upmsapi.sit.com:10020', // sit\n        changeOrigin: true,\n        secure: false\n      },\n      '/manage/formappdata/': {\n        target: 'http://10.0.32.65:80',\n        changeOrigin: true,\n        secure: false\n      },\n      '/manage/customapp/': {\n        target: 'http://10.0.32.65:80',\n        // target: 'http://10.98.163.34:8001',\n        changeOrigin: true,\n        secure: false\n      },\n      '/manage/processappdata/': {\n        target: 'http://10.0.32.65:80',\n        changeOrigin: true,\n        secure: false\n      },\n      '/workflow/workflow_procIns/getDataByUrl': {\n        target: 'http://upmsapi.sit.com:10020',\n        // target: 'http://10.98.163.22:10020',\n        changeOrigin: true,\n        secure: false,\n        headers: {\n          'X-WESURE-ENAME': 'v_linzlzhao'\n        }\n      },\n      '/workflow/': {\n        target: 'http://10.0.32.179:7001',\n        changeOrigin: true,\n        secure: false,\n        headers: {\n          'X-WESURE-ENAME': 'v_linzlzhao'\n        }\n      },\n      // 系统业务接口\n      '/assess/result/': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        target: 'http://10.98.164.181:9200', // sit\n        // target: 'http://10.98.164.143:9200', // sit\n        changeOrigin: true,\n        secure: false\n        // headers: {\n        //   'X-WESURE-ENAME': 'raymcheng'\n        // }\n      },\n      '/public/pbc': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        // target: 'http://10.98.163.130:9200', // 东哥\n        target: 'http://10.98.164.181:9200', // 一路\n        // target: 'http://10.98.163.130:9200', // 景康\n        // target: 'http://10.0.22.240:80', // sit\n        changeOrigin: true,\n        secure: false\n      },\n      '/public/': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        // target: 'http://10.98.163.130:9200', // 东哥\n        target: 'http://10.98.164.181:9200', // 一路\n        // target: 'http://10.98.163.130:9200', // 景康\n        // target: 'http://10.0.22.240:80', // sit\n        changeOrigin: true,\n        secure: false\n      },\n      '/assess/pbc/': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        // target: 'http://10.98.163.130:9200', // 东哥\n        target: 'http://10.98.164.181:9200', // 一路\n        // target: 'http://10.98.163.130:9200', // 景康\n        // target: 'http://10.0.22.240:80', // sit\n        changeOrigin: true,\n        secure: false,\n        headers: {\n          'X-WESURE-ENAME': 'yeelusun'\n        }\n      },\n      '/assess/': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        // target: 'http://10.98.163.130:9200', // 东哥\n        target: 'http://10.98.164.181:9201', // 一路\n        // target: 'http://10.0.64.179:9200', // sit\n        changeOrigin: true,\n        secure: false,\n        headers: {\n          'X-WESURE-ENAME': 'jackieyang'\n        }\n      },\n      '/hr/': {\n        // target: 'http://10.98.163.68:9200', // 淼哥\n        // target: 'http://10.98.163.33:9200', // 东哥\n        // target: 'http://10.98.164.197:9200', // 一路\n        target: 'http://10.98.164.181:9201', // 一路\n        // target: 'http://10.0.64.179:9200', // sit\n        changeOrigin: true,\n        secure: false\n        // headers: {\n        //   'X-WESURE-ENAME': 'raymcheng'\n        // }\n      },\n      // 系统业务接口\n      '/manage/': {\n        target: 'http://10.0.32.14:7001',\n        changeOrigin: true,\n        secure: false\n      },\n      // 人员和组织接口, 针对/api/v2/user/search和/api/v2/organization/search，这2个接口没用到的可以不配\n      '/api/': {\n        target: 'http://upmsapi.sit.com:10020',\n        // target: 'http://upmsapi.dev.com:10020',\n        changeOrigin: true,\n        secure: false\n      },\n      // 统一网关接口\n      '/SolomonService/': {\n        target: 'http://upmsapi.sit.com:10020',\n        // target: 'http://upmsapi.dev.com:10020',\n        changeOrigin: true\n      }\n    }\n  }\n}\n\n```\n\n","slug":"日志/绩效考核系统","published":1,"updated":"2022-06-22T09:19:15.473Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl4wkcpbv00050o2makfi7lxq","content":"<h1 id=\"360干部考核系统-wehr\"><a href=\"#360干部考核系统-wehr\" class=\"headerlink\" title=\"360干部考核系统-wehr\"></a>360干部考核系统-wehr</h1><p>主要功能分为问卷管理，问卷填写，评估管理和结果报告</p>\n<p><a href=\"https://wesure.coding.inwesure.com/p/g010/d/wehr/git\">https://wesure.coding.inwesure.com/p/g010/d/wehr/git</a></p>\n<p>使用使用分支 dev</p>\n<p>两个项目端口都是9200，改wehr为9201，同时修改grpc端口为59201</p>\n<h1 id=\"绩效考核系统-assess\"><a href=\"#绩效考核系统-assess\" class=\"headerlink\" title=\"绩效考核系统-assess\"></a>绩效考核系统-assess</h1><p>分为绩效目标和绩效考核，绩效考核分为自评、初评、复评、星级报表、评估结果展示、评估配置</p>\n<p><a href=\"https://wesure.coding.inwesure.com/p/g010/d/assess/git\">https://wesure.coding.inwesure.com/p/g010/d/assess/git</a></p>\n<p>使用使用分支 dev</p>\n<h2 id=\"流程\"><a href=\"#流程\" class=\"headerlink\" title=\"流程\"></a>流程</h2><p>新建周期(assess_period)</p>\n<p>​    -目标人员填写(assess_target_persons)    id = period_id</p>\n<p>​    -评估主实体(assess_header)                      period_code= period_code</p>\n<ul>\n<li></li>\n</ul>\n<h2 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h2><h3 id=\"发起目标，还没有导入填写目标人员，发起成功-好像又不用改动了\"><a href=\"#发起目标，还没有导入填写目标人员，发起成功-好像又不用改动了\" class=\"headerlink\" title=\"发起目标，还没有导入填写目标人员，发起成功(好像又不用改动了)\"></a>发起目标，还没有导入填写目标人员，发起成功(好像又不用改动了)</h3><p>解决</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//查询当前周期信息</span></span><br><span class=\"line\">AssessPeriod assessPeriodDb = assessPeriodService.selectByPrimaryKey(assessPeriod.getId());</span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">null</span> == assessPeriodDb)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> BaseResult(BaseMessage.FAILED,<span class=\"string\">&quot;考核周期不存在&quot;</span>,<span class=\"keyword\">null</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">AssessHeaderExample assessHeaderExample = <span class=\"keyword\">new</span> AssessHeaderExample();</span><br><span class=\"line\">assessHeaderExample.createCriteria()</span><br><span class=\"line\">        .andIsDelEqualTo((<span class=\"keyword\">byte</span>) <span class=\"number\">0</span>)</span><br><span class=\"line\">        .andPeriodCodeEqualTo(assessPeriodDb.getPeriodCode());</span><br><span class=\"line\">List&lt;AssessHeader&gt; assessHeaders = assessHeaderService.selectByExample(assessHeaderExample);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (CollectionUtils.isEmpty(assessHeaders))&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> BaseResult(BaseMessage.FAILED,<span class=\"string\">&quot;请先配置评估人员&quot;</span>,<span class=\"keyword\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">period_status &#x27;状态 0未发起 1已发起 2已结束&#x27;,</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n<h1 id=\"前端网页\"><a href=\"#前端网页\" class=\"headerlink\" title=\"前端网页\"></a>前端网页</h1><p><a href=\"https://wesure.coding.inwesure.com/p/g010/d/assess-web/git\">https://wesure.coding.inwesure.com/p/g010/d/assess-web/git</a></p>\n<p>使用使用分支 develop</p>\n<p><a href=\"http://localhost:9008/\">http://localhost:9008/</a>      </p>\n<h2 id=\"配置本地网关\"><a href=\"#配置本地网关\" class=\"headerlink\" title=\"配置本地网关\"></a>配置本地网关</h2><p>vue.config.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// app部署路径</span></span><br><span class=\"line\">  <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// build目录</span></span><br><span class=\"line\">  <span class=\"attr\">outputDir</span>: <span class=\"string\">&#x27;dist&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">clientLogLevel</span>: <span class=\"string\">&#x27;warning&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">historyApiFallback</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">hot</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">compress</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">host</span>: <span class=\"string\">&#x27;0.0.0.0&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">9008</span>,</span><br><span class=\"line\">    <span class=\"attr\">open</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"attr\">overlay</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">warnings</span>: <span class=\"literal\">false</span>, <span class=\"attr\">errors</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">watchOptions</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">poll</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">proxy</span>: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 系统业务接口</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/wofNidGenerator/getNids&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://upmsapi.sit.com:10020&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&#x27;X-WESURE-ENAME&#x27;</span>: <span class=\"string\">&#x27;v_linzlzhao&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 自定义页面接口</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/upmsapi/forward_service/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://upmsapi.sit.com:10020&#x27;</span>, <span class=\"comment\">// sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/manage/formappdata/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.0.32.65:80&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/manage/customapp/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.0.32.65:80&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.34:8001&#x27;,</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/manage/processappdata/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.0.32.65:80&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/workflow/workflow_procIns/getDataByUrl&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://upmsapi.sit.com:10020&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.22:10020&#x27;,</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&#x27;X-WESURE-ENAME&#x27;</span>: <span class=\"string\">&#x27;v_linzlzhao&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/workflow/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.0.32.179:7001&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&#x27;X-WESURE-ENAME&#x27;</span>: <span class=\"string\">&#x27;v_linzlzhao&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 系统业务接口</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/assess/result/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9200&#x27;</span>, <span class=\"comment\">// sit</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.164.143:9200&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">        <span class=\"comment\">// headers: &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#x27;X-WESURE-ENAME&#x27;: &#x27;raymcheng&#x27;</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/public/pbc&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 东哥</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9200&#x27;</span>, <span class=\"comment\">// 一路</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 景康</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.0.22.240:80&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/public/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 东哥</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9200&#x27;</span>, <span class=\"comment\">// 一路</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 景康</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.0.22.240:80&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/assess/pbc/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 东哥</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9200&#x27;</span>, <span class=\"comment\">// 一路</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 景康</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.0.22.240:80&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&#x27;X-WESURE-ENAME&#x27;</span>: <span class=\"string\">&#x27;yeelusun&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/assess/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 东哥</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9201&#x27;</span>, <span class=\"comment\">// 一路</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.0.64.179:9200&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&#x27;X-WESURE-ENAME&#x27;</span>: <span class=\"string\">&#x27;jackieyang&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/hr/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.33:9200&#x27;, // 东哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.164.197:9200&#x27;, // 一路</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9201&#x27;</span>, <span class=\"comment\">// 一路</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.0.64.179:9200&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">        <span class=\"comment\">// headers: &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#x27;X-WESURE-ENAME&#x27;: &#x27;raymcheng&#x27;</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 系统业务接口</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/manage/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.0.32.14:7001&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 人员和组织接口, 针对/api/v2/user/search和/api/v2/organization/search，这2个接口没用到的可以不配</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/api/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://upmsapi.sit.com:10020&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://upmsapi.dev.com:10020&#x27;,</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 统一网关接口</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/SolomonService/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://upmsapi.sit.com:10020&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://upmsapi.dev.com:10020&#x27;,</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"360干部考核系统-wehr\"><a href=\"#360干部考核系统-wehr\" class=\"headerlink\" title=\"360干部考核系统-wehr\"></a>360干部考核系统-wehr</h1><p>主要功能分为问卷管理，问卷填写，评估管理和结果报告</p>\n<p><a href=\"https://wesure.coding.inwesure.com/p/g010/d/wehr/git\">https://wesure.coding.inwesure.com/p/g010/d/wehr/git</a></p>\n<p>使用使用分支 dev</p>\n<p>两个项目端口都是9200，改wehr为9201，同时修改grpc端口为59201</p>\n<h1 id=\"绩效考核系统-assess\"><a href=\"#绩效考核系统-assess\" class=\"headerlink\" title=\"绩效考核系统-assess\"></a>绩效考核系统-assess</h1><p>分为绩效目标和绩效考核，绩效考核分为自评、初评、复评、星级报表、评估结果展示、评估配置</p>\n<p><a href=\"https://wesure.coding.inwesure.com/p/g010/d/assess/git\">https://wesure.coding.inwesure.com/p/g010/d/assess/git</a></p>\n<p>使用使用分支 dev</p>\n<h2 id=\"流程\"><a href=\"#流程\" class=\"headerlink\" title=\"流程\"></a>流程</h2><p>新建周期(assess_period)</p>\n<p>​    -目标人员填写(assess_target_persons)    id = period_id</p>\n<p>​    -评估主实体(assess_header)                      period_code= period_code</p>\n<ul>\n<li></li>\n</ul>\n<h2 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h2><h3 id=\"发起目标，还没有导入填写目标人员，发起成功-好像又不用改动了\"><a href=\"#发起目标，还没有导入填写目标人员，发起成功-好像又不用改动了\" class=\"headerlink\" title=\"发起目标，还没有导入填写目标人员，发起成功(好像又不用改动了)\"></a>发起目标，还没有导入填写目标人员，发起成功(好像又不用改动了)</h3><p>解决</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//查询当前周期信息</span></span><br><span class=\"line\">AssessPeriod assessPeriodDb = assessPeriodService.selectByPrimaryKey(assessPeriod.getId());</span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">null</span> == assessPeriodDb)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> BaseResult(BaseMessage.FAILED,<span class=\"string\">&quot;考核周期不存在&quot;</span>,<span class=\"keyword\">null</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">AssessHeaderExample assessHeaderExample = <span class=\"keyword\">new</span> AssessHeaderExample();</span><br><span class=\"line\">assessHeaderExample.createCriteria()</span><br><span class=\"line\">        .andIsDelEqualTo((<span class=\"keyword\">byte</span>) <span class=\"number\">0</span>)</span><br><span class=\"line\">        .andPeriodCodeEqualTo(assessPeriodDb.getPeriodCode());</span><br><span class=\"line\">List&lt;AssessHeader&gt; assessHeaders = assessHeaderService.selectByExample(assessHeaderExample);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (CollectionUtils.isEmpty(assessHeaders))&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> BaseResult(BaseMessage.FAILED,<span class=\"string\">&quot;请先配置评估人员&quot;</span>,<span class=\"keyword\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">period_status &#x27;状态 0未发起 1已发起 2已结束&#x27;,</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n<h1 id=\"前端网页\"><a href=\"#前端网页\" class=\"headerlink\" title=\"前端网页\"></a>前端网页</h1><p><a href=\"https://wesure.coding.inwesure.com/p/g010/d/assess-web/git\">https://wesure.coding.inwesure.com/p/g010/d/assess-web/git</a></p>\n<p>使用使用分支 develop</p>\n<p><a href=\"http://localhost:9008/\">http://localhost:9008/</a>      </p>\n<h2 id=\"配置本地网关\"><a href=\"#配置本地网关\" class=\"headerlink\" title=\"配置本地网关\"></a>配置本地网关</h2><p>vue.config.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// app部署路径</span></span><br><span class=\"line\">  <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// build目录</span></span><br><span class=\"line\">  <span class=\"attr\">outputDir</span>: <span class=\"string\">&#x27;dist&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">clientLogLevel</span>: <span class=\"string\">&#x27;warning&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">historyApiFallback</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">hot</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">compress</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">host</span>: <span class=\"string\">&#x27;0.0.0.0&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">9008</span>,</span><br><span class=\"line\">    <span class=\"attr\">open</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"attr\">overlay</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">warnings</span>: <span class=\"literal\">false</span>, <span class=\"attr\">errors</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">watchOptions</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">poll</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">proxy</span>: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 系统业务接口</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/wofNidGenerator/getNids&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://upmsapi.sit.com:10020&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&#x27;X-WESURE-ENAME&#x27;</span>: <span class=\"string\">&#x27;v_linzlzhao&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 自定义页面接口</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/upmsapi/forward_service/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://upmsapi.sit.com:10020&#x27;</span>, <span class=\"comment\">// sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/manage/formappdata/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.0.32.65:80&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/manage/customapp/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.0.32.65:80&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.34:8001&#x27;,</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/manage/processappdata/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.0.32.65:80&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/workflow/workflow_procIns/getDataByUrl&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://upmsapi.sit.com:10020&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.22:10020&#x27;,</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&#x27;X-WESURE-ENAME&#x27;</span>: <span class=\"string\">&#x27;v_linzlzhao&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/workflow/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.0.32.179:7001&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&#x27;X-WESURE-ENAME&#x27;</span>: <span class=\"string\">&#x27;v_linzlzhao&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 系统业务接口</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/assess/result/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9200&#x27;</span>, <span class=\"comment\">// sit</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.164.143:9200&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">        <span class=\"comment\">// headers: &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#x27;X-WESURE-ENAME&#x27;: &#x27;raymcheng&#x27;</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/public/pbc&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 东哥</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9200&#x27;</span>, <span class=\"comment\">// 一路</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 景康</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.0.22.240:80&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/public/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 东哥</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9200&#x27;</span>, <span class=\"comment\">// 一路</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 景康</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.0.22.240:80&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/assess/pbc/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 东哥</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9200&#x27;</span>, <span class=\"comment\">// 一路</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 景康</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.0.22.240:80&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&#x27;X-WESURE-ENAME&#x27;</span>: <span class=\"string\">&#x27;yeelusun&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/assess/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.130:9200&#x27;, // 东哥</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9201&#x27;</span>, <span class=\"comment\">// 一路</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.0.64.179:9200&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&#x27;X-WESURE-ENAME&#x27;</span>: <span class=\"string\">&#x27;jackieyang&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"string\">&#x27;/hr/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.68:9200&#x27;, // 淼哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.163.33:9200&#x27;, // 东哥</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.98.164.197:9200&#x27;, // 一路</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.98.164.181:9201&#x27;</span>, <span class=\"comment\">// 一路</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://10.0.64.179:9200&#x27;, // sit</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">        <span class=\"comment\">// headers: &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#x27;X-WESURE-ENAME&#x27;: &#x27;raymcheng&#x27;</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 系统业务接口</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/manage/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://10.0.32.14:7001&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 人员和组织接口, 针对/api/v2/user/search和/api/v2/organization/search，这2个接口没用到的可以不配</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/api/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://upmsapi.sit.com:10020&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://upmsapi.dev.com:10020&#x27;,</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 统一网关接口</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;/SolomonService/&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://upmsapi.sit.com:10020&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;http://upmsapi.dev.com:10020&#x27;,</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n"},{"title":"MySql数据库单表查询","date":"2022-06-20T11:39:05.000Z","cover":"/img/5.png","_content":"很多高性能的应用都会对关联查询进行分解。简单地，可以对每个表进行一次单表查询，然后将结果在应用程序中进行关联。例如，下面这个查询：\n\n```java\nselect * from tag\n        join tag_post on tag_post.tag_id=tag.id\n        join post on tag_post.post_id=post.id\n        where tag.tag='mysql';\n```\n可以分解成下面这些查询来代替：\n\n```java\nSelect * from tag where tag='mysql';\nSelect * from tag_post where tag_id=1234;\nSelect * from post where id in(123,456,567,9989,8909);\n```\n\n事实上，用分解关联查询的方式重构查询具有如下优势：（高并发、高性能的应用中，一般建议使用单表查询）\n1. 让缓存的效率更高。许多应用程序可以方便地缓存单表查询对应的结果对象。另外对于 MySQL 的查询缓存来说，如果关联中的某个表发生了变化，那么就无法使用查询缓存了，而拆分后，如果某个表很少改变，那么基于该表的查询就可以重复利用查询缓存结果了。\n\n2. 将查询分解后，执行单个查询可以减少锁的竞争。\n\n3. 在应用层做关联，可以更容易对数据库进行拆分，更容易做到高性能和可扩展。\n\n4. 查询本身效率也可能会有所提升。\n\n5. 可以减少冗余记录的查询。\n\n6. 更进一步，这样做相当于在应用中实现了哈希关联，而不是使用 MySQL 的嵌套环关联，某些场景哈希关联的效率更高很多。\n\n7. 单表查询有利于后期数据量大了分库分表，如果联合查询的话，一旦分库，原来的 sql 都需要改动。\n\n8. 上次看到某个 CTO 技术分享，公司规定底层禁止用 join 联合查询。数据大的时候确实慢。\n\n9. 联合查询或许确实快，但是 mysql 的资源通常比程序代码的资源紧张的多。\n\n","source":"_posts/组件/MySql数据库单表查询.md","raw":"---\ntitle: MySql数据库单表查询\ndate: 2022-6-20 19:39:05\ncover: \ntags:\n- 组件\n---\n很多高性能的应用都会对关联查询进行分解。简单地，可以对每个表进行一次单表查询，然后将结果在应用程序中进行关联。例如，下面这个查询：\n\n```java\nselect * from tag\n        join tag_post on tag_post.tag_id=tag.id\n        join post on tag_post.post_id=post.id\n        where tag.tag='mysql';\n```\n可以分解成下面这些查询来代替：\n\n```java\nSelect * from tag where tag='mysql';\nSelect * from tag_post where tag_id=1234;\nSelect * from post where id in(123,456,567,9989,8909);\n```\n\n事实上，用分解关联查询的方式重构查询具有如下优势：（高并发、高性能的应用中，一般建议使用单表查询）\n1. 让缓存的效率更高。许多应用程序可以方便地缓存单表查询对应的结果对象。另外对于 MySQL 的查询缓存来说，如果关联中的某个表发生了变化，那么就无法使用查询缓存了，而拆分后，如果某个表很少改变，那么基于该表的查询就可以重复利用查询缓存结果了。\n\n2. 将查询分解后，执行单个查询可以减少锁的竞争。\n\n3. 在应用层做关联，可以更容易对数据库进行拆分，更容易做到高性能和可扩展。\n\n4. 查询本身效率也可能会有所提升。\n\n5. 可以减少冗余记录的查询。\n\n6. 更进一步，这样做相当于在应用中实现了哈希关联，而不是使用 MySQL 的嵌套环关联，某些场景哈希关联的效率更高很多。\n\n7. 单表查询有利于后期数据量大了分库分表，如果联合查询的话，一旦分库，原来的 sql 都需要改动。\n\n8. 上次看到某个 CTO 技术分享，公司规定底层禁止用 join 联合查询。数据大的时候确实慢。\n\n9. 联合查询或许确实快，但是 mysql 的资源通常比程序代码的资源紧张的多。\n\n","slug":"组件/MySql数据库单表查询","published":1,"updated":"2022-06-20T11:40:03.926Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl4wkcpc600090o2mdbi99kj7","content":"<p>很多高性能的应用都会对关联查询进行分解。简单地，可以对每个表进行一次单表查询，然后将结果在应用程序中进行关联。例如，下面这个查询：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select * from tag</span><br><span class=\"line\">        join tag_post on tag_post.tag_id=tag.id</span><br><span class=\"line\">        join post on tag_post.post_id=post.id</span><br><span class=\"line\">        where tag.tag=<span class=\"string\">&#x27;mysql&#x27;</span>;</span><br></pre></td></tr></table></figure>\n<p>可以分解成下面这些查询来代替：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Select * from tag where tag=<span class=\"string\">&#x27;mysql&#x27;</span>;</span><br><span class=\"line\">Select * from tag_post where tag_id=<span class=\"number\">1234</span>;</span><br><span class=\"line\">Select * <span class=\"function\">from post where id <span class=\"title\">in</span><span class=\"params\">(<span class=\"number\">123</span>,<span class=\"number\">456</span>,<span class=\"number\">567</span>,<span class=\"number\">9989</span>,<span class=\"number\">8909</span>)</span></span>;</span><br></pre></td></tr></table></figure>\n\n<p>事实上，用分解关联查询的方式重构查询具有如下优势：（高并发、高性能的应用中，一般建议使用单表查询）</p>\n<ol>\n<li><p>让缓存的效率更高。许多应用程序可以方便地缓存单表查询对应的结果对象。另外对于 MySQL 的查询缓存来说，如果关联中的某个表发生了变化，那么就无法使用查询缓存了，而拆分后，如果某个表很少改变，那么基于该表的查询就可以重复利用查询缓存结果了。</p>\n</li>\n<li><p>将查询分解后，执行单个查询可以减少锁的竞争。</p>\n</li>\n<li><p>在应用层做关联，可以更容易对数据库进行拆分，更容易做到高性能和可扩展。</p>\n</li>\n<li><p>查询本身效率也可能会有所提升。</p>\n</li>\n<li><p>可以减少冗余记录的查询。</p>\n</li>\n<li><p>更进一步，这样做相当于在应用中实现了哈希关联，而不是使用 MySQL 的嵌套环关联，某些场景哈希关联的效率更高很多。</p>\n</li>\n<li><p>单表查询有利于后期数据量大了分库分表，如果联合查询的话，一旦分库，原来的 sql 都需要改动。</p>\n</li>\n<li><p>上次看到某个 CTO 技术分享，公司规定底层禁止用 join 联合查询。数据大的时候确实慢。</p>\n</li>\n<li><p>联合查询或许确实快，但是 mysql 的资源通常比程序代码的资源紧张的多。</p>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>很多高性能的应用都会对关联查询进行分解。简单地，可以对每个表进行一次单表查询，然后将结果在应用程序中进行关联。例如，下面这个查询：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select * from tag</span><br><span class=\"line\">        join tag_post on tag_post.tag_id=tag.id</span><br><span class=\"line\">        join post on tag_post.post_id=post.id</span><br><span class=\"line\">        where tag.tag=<span class=\"string\">&#x27;mysql&#x27;</span>;</span><br></pre></td></tr></table></figure>\n<p>可以分解成下面这些查询来代替：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Select * from tag where tag=<span class=\"string\">&#x27;mysql&#x27;</span>;</span><br><span class=\"line\">Select * from tag_post where tag_id=<span class=\"number\">1234</span>;</span><br><span class=\"line\">Select * <span class=\"function\">from post where id <span class=\"title\">in</span><span class=\"params\">(<span class=\"number\">123</span>,<span class=\"number\">456</span>,<span class=\"number\">567</span>,<span class=\"number\">9989</span>,<span class=\"number\">8909</span>)</span></span>;</span><br></pre></td></tr></table></figure>\n\n<p>事实上，用分解关联查询的方式重构查询具有如下优势：（高并发、高性能的应用中，一般建议使用单表查询）</p>\n<ol>\n<li><p>让缓存的效率更高。许多应用程序可以方便地缓存单表查询对应的结果对象。另外对于 MySQL 的查询缓存来说，如果关联中的某个表发生了变化，那么就无法使用查询缓存了，而拆分后，如果某个表很少改变，那么基于该表的查询就可以重复利用查询缓存结果了。</p>\n</li>\n<li><p>将查询分解后，执行单个查询可以减少锁的竞争。</p>\n</li>\n<li><p>在应用层做关联，可以更容易对数据库进行拆分，更容易做到高性能和可扩展。</p>\n</li>\n<li><p>查询本身效率也可能会有所提升。</p>\n</li>\n<li><p>可以减少冗余记录的查询。</p>\n</li>\n<li><p>更进一步，这样做相当于在应用中实现了哈希关联，而不是使用 MySQL 的嵌套环关联，某些场景哈希关联的效率更高很多。</p>\n</li>\n<li><p>单表查询有利于后期数据量大了分库分表，如果联合查询的话，一旦分库，原来的 sql 都需要改动。</p>\n</li>\n<li><p>上次看到某个 CTO 技术分享，公司规定底层禁止用 join 联合查询。数据大的时候确实慢。</p>\n</li>\n<li><p>联合查询或许确实快，但是 mysql 的资源通常比程序代码的资源紧张的多。</p>\n</li>\n</ol>\n"},{"title":"应付管理自定义表单添加多选框","date":"2022-06-22T09:20:19.000Z","cover":"/img/6.png","_content":"\n```javascript\n<template>\n  <div class=\"cost-list\">\n    <ws-list-panel\n      :loading=\"loading\"\n      :data=\"list\"\n      :columns=\"columns\"\n      :selection=\"true\"\n      :page-num=\"pageNum\"\n      :page-size=\"pageSize\"\n      :total=\"total\"\n      :pageSizes=\"[10]\"\n      :reset=\"false\"\n      @size-change=\"handleSizeChange\"\n      @detail-click=\"handleDetailGoto\"\n      @detail-click-dialog=\"handleDetail\"\n      @detail-click-writeoff=\"writeOffDetail\"\n      @edit-click=\"editDetailClick\"\n      @certificate-click=\"handleCertificateDetail\"\n      @current-change=\"handleCurrentChange\"\n      @handleConfirm=\"handleConfirm\"\n      @selection-change=\"handleSelection\"\n    >\n      <template slot=\"title\">\n        <ws-data-search\n          ref=\"filters\"\n          :filters=\"filters\"\n          :loading=\"loading\"\n          @search=\"dataSearch\"\n          :showMore=\"true\"\n        ></ws-data-search>\n      </template>\n      <template slot=\"operation\">\n        <div>\n          <el-dropdown\n            trigger=\"click\"\n            size=\"mini\"\n            type=\"primary\"\n            v-for=\"(item, index) in commandList\"\n            :key=\"index\"\n            :v-permission=\"item.permission\"\n            style=\"margin-right:10px;\"\n            @command=\"handleCommand($event, item)\"\n          >\n            <el-button type=\"primary\">{{ item.titleName }} <i class=\"el-icon-arrow-down\"></i> </el-button>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"select\">按选择{{ item.opt }}</el-dropdown-item>\n              <el-dropdown-item command=\"query\">按条件{{ item.opt }}</el-dropdown-item>\n              <el-dropdown-item command=\"input\">按录入{{ item.opt }}</el-dropdown-item>\n              <el-dropdown-item command=\"scene\" v-if=\"item.type === 'certificate'\"\n                >按场景{{ item.opt }}</el-dropdown-item\n              >\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n        <el-button\n          type=\"primary\"\n          size=\"mini\"\n          icon=\"\"\n          v-permission=\"payConfirmPermission\"\n          v-if=\"payConfirmShow\"\n          @click=\"handlePayConfirm\"\n          >{{ confirmTitle }}</el-button\n        >\n        <el-button\n          type=\"primary\"\n          size=\"mini\"\n          icon=\"el-icon-download\"\n          v-if=\"payConfirmShow\"\n          v-permission=\"uploadPermission\"\n          @click=\"handleMulDownload\"\n          >下载导入模板</el-button\n        >\n        <el-button type=\"primary\" size=\"mini\" v-if=\"bankDataShow\" @click=\"handleProvisionInfo\">月底计提</el-button>\n        <el-button\n          type=\"primary\"\n          size=\"mini\"\n          icon=\"el-icon-download\"\n          v-if=\"payConfirmShow\"\n          v-permission=\"uploadPermission\"\n          @click=\"handleImport\"\n          :loading=\"importing\"\n          >{{ importBtnName }}</el-button\n        >\n        <!-- <el-button type=\"primary\" size=\"mini\" icon=\"\" v-permission=\"generateCertificatePermission\" @click=\"handleMulOpt\"\n          >生成凭证</el-button\n        >\n        <el-button type=\"primary\" size=\"mini\" icon=\"\" v-permission=\"\" @click=\"conditionCertificateCreate\"\n          >按查询条件生成凭证</el-button\n        >\n        <el-button\n          type=\"primary\"\n          size=\"mini\"\n          v-if=\"payConfirmShow\"\n          icon=\"\"\n          permission=\"fap:accounting:business:head:delete\"\n          @click=\"batchDelete\"\n          >批量删除</el-button\n        > -->\n        <el-button\n          type=\"primary\"\n          :plain=\"true\"\n          size=\"mini\"\n          icon=\"el-icon-bottom\"\n          v-permission=\"downloadPermission\"\n          @click=\"handleExport\"\n        >\n          导 出\n        </el-button>\n        <input ref=\"file\" type=\"file\" class=\"hide\" @change=\"fileChange\" />\n        <el-dialog\n          title=\"批量生成凭证\"\n          :visible.sync=\"showConditionDialog\"\n          width=\"700px\"\n          class=\"confirm-form\"\n          :close-on-click-modal=\"false\"\n        >\n          请确认是否按所选的查询条件批量生成凭证\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button size=\"mini\" @click=\"showConditionDialog = false\">取 消</el-button>\n            <el-button type=\"primary\" size=\"mini\" @click=\"conditionHandleMulOpt\">\n              确 认\n            </el-button>\n          </div>\n        </el-dialog>\n      </template>\n    </ws-list-panel>\n    <el-dialog\n      title=\"明细\"\n      :center=\"true\"\n      :visible.sync=\"showDetailDialog\"\n      width=\"1300px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <CostListView :dialogDataId=\"dialogDataId\" ref=\"costListView\" />\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showDetailDialog = false\" type=\"primary\">关 闭</el-button>\n      </div>\n    </el-dialog>\n    <el-dialog\n      title=\"凭证\"\n      :center=\"true\"\n      :visible.sync=\"showCertificateDialog\"\n      width=\"1300px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <CostCertificateListView />\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showCertificateDialog = false\" type=\"primary\">关 闭</el-button>\n      </div>\n    </el-dialog>\n    <el-dialog\n      title=\"核销信息\"\n      :center=\"true\"\n      :visible.sync=\"showWriteOffDialog\"\n      width=\"1300px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <CostWriteOffListView :dialogDataId=\"writeOffDataId\" ref=\"costWriteOffListView\" />\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showWriteOffDialog = false\" type=\"primary\">关 闭</el-button>\n      </div>\n    </el-dialog>\n    <el-dialog\n      :title=\"confirmTitle\"\n      :visible.sync=\"showConfirmDialog\"\n      width=\"750px\"\n      class=\"confirm-form-dialog\"\n      :close-on-click-modal=\"false\"\n    >\n      <ws-form-wrapper :cols=\"2\">\n        <el-form :model=\"form\" ref=\"form\" :rules=\"rules\" label-position=\"left\" inline label-width=\"100px\" size=\"mini\">\n          <el-form-item label=\"用途\" prop=\"purposeType\">\n            <el-select\n              size=\"mini\"\n              v-model=\"confirmForm.purposeType\"\n              placeholder=\"请选择\"\n              style=\"width: 178px\"\n              @change=\"changePurposeType\"\n            >\n              <el-option v-for=\"item in purposeTypes\" :key=\"item.orderNo\" :label=\"item.text\" :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"收付单号\" prop=\"businessNo\">\n            <el-select\n              size=\"mini\"\n              v-model=\"confirmForm.businessNo\"\n              placeholder=\"请选择\"\n              style=\"width: 178px\"\n              filterable\n              @change=\"changeOrderNo\"\n            >\n              <el-option v-for=\"item in orderNoOptions\" :key=\"item.id\" :label=\"item.businessNo\" :value=\"item\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"收付单金额\" prop=\"amount\">\n            <el-input size=\"mini\" v-model=\"confirmForm.amount\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"收付单余额\" prop=\"amount\">\n            <el-input size=\"mini\" v-model=\"confirmForm.remainAmount\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"收付日期\" prop=\"receiptTime\">\n            <el-date-picker\n              size=\"mini\"\n              v-model=\"confirmForm.receiptTime\"\n              :disabled=\"true\"\n              type=\"date\"\n              style=\"width: 178px\"\n            />\n          </el-form-item>\n          <el-form-item label=\"会计日期\" prop=\"accountTime\">\n            <el-date-picker size=\"mini\" v-model=\"confirmForm.accountTime\" type=\"date\" style=\"width: 178px\" />\n          </el-form-item>\n          <el-form-item label=\"公司\" prop=\"companyName\">\n            <el-input size=\"mini\" v-model=\"confirmForm.companyName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"账户\" prop=\"bankAccountNumber\">\n            <el-input size=\"mini\" v-model=\"confirmForm.bankAccountNumber\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"账户名称\" prop=\"bankAccountName\">\n            <el-input size=\"mini\" v-model=\"confirmForm.bankAccountName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"账户银行\" prop=\"bankName\">\n            <el-input size=\"mini\" v-model=\"confirmForm.bankName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"备注\" class=\"span-2\">\n            <el-input\n              class=\"mark-input\"\n              size=\"mini\"\n              type=\"textarea\"\n              :disabled=\"true\"\n              :rows=\"1\"\n              v-model=\"confirmForm.remark\"\n              style=\"width: 580px\"\n            ></el-input>\n          </el-form-item>\n          <el-divider content-position=\"left\"> 收付明细</el-divider>\n          <el-form-item label=\"原结算金额\">\n            <el-input size=\"mini\" v-model=\"confirmForm.remainAmountSum\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"未结算金额\">\n            <el-input size=\"mini\" v-model=\"confirmForm.paymentAmountSum\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"总含税金额\">\n            <el-input size=\"mini\" v-model=\"confirmForm.amountTotal\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"税金\">\n            <el-input size=\"mini\" v-model=\"confirmForm.taxAmountTotal\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"不含税金额\">\n            <el-input size=\"mini\" v-model=\"confirmForm.amountExcludingTaxTotal\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"其他金额\">\n            <el-input size=\"mini\" v-model=\"confirmForm.otherAmountTotal\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <!-- <el-form-item label=\"容差\">\n            <el-input size=\"mini\" v-model=\"form.remark\" :disabled=\"true\"></el-input>\n          </el-form-item> -->\n        </el-form>\n        <ws-list-panel\n          :loading=\"loading\"\n          :data=\"payConfirmList\"\n          :columns=\"PayColumns\"\n          :selection=\"false\"\n          :showPage=\"false\"\n          :disableHiddenCols=\"true\"\n        >\n        </ws-list-panel>\n      </ws-form-wrapper>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showConfirmDialog = false\">取 消</el-button>\n        <el-button type=\"primary\" size=\"mini\" :loading=\"confirmLoading\" @click=\"doHandleConfirm\">\n          确 认\n        </el-button>\n      </div>\n    </el-dialog>\n    <el-dialog\n      :title=\"this.correctType == 1 ? '冲正确认' : '冲销确认'\"\n      :visible.sync=\"showCorrentDialog\"\n      width=\"700px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <template>\n        <span style=\"color:red\">*</span><span>会计日期：</span>\n        <el-date-picker\n          v-model=\"form.accountTime\"\n          type=\"date\"\n          value-format=\"timestamp\"\n          :clearable=\"false\"\n          placeholder=\"选择日期\"\n        >\n        </el-date-picker> </template\n      ><br /><br />\n      请确认是否对此业务单据号[{{ this.form.businessNo }}]进行{{ this.correctType === '1' ? '冲正' : '冲销' }}\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showCorrentDialog = false\">取 消</el-button>\n        <el-button type=\"primary\" size=\"mini\" @click=\"doHandleCorrent\" v-permission=\"correctPermission\">\n          确 认\n        </el-button>\n      </div>\n    </el-dialog>\n    <el-dialog\n      title=\"删除确认\"\n      :visible.sync=\"showDeleteDialog\"\n      width=\"700px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <P style=\"text-align:center\">请确认是否删除</P>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showDeleteDialog = false\">取 消</el-button>\n        <el-button type=\"primary\" size=\"mini\" @click=\"doHandleDelete\" permission=\"\">\n          确 认\n        </el-button>\n      </div>\n    </el-dialog>\n    <el-dialog :title=\"commandTitle + '录入内容'\" :visible.sync=\"commandDialog\" width=\"400px\">\n      <el-input type=\"textarea\" :rows=\"15\" placeholder=\"请输入内容\" v-model=\"commandTextarea\"></el-input>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"handleCancel\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleInput\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog :title=\"'选择场景生成凭证'\" :visible.sync=\"sceneDialog\" width=\"400px\">\n      <el-form label-position=\"left\" label-width=\"80px\">\n        <el-form-item label=\"选择场景\">\n          <el-select size=\"mini\" style=\"width:270px\" filterable v-model=\"sceneId\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in sceneConfigList\"\n              :key=\"item.sceneId\"\n              :label=\"item.sceneName + '(' + item.sceneId + ')'\"\n              :value=\"item.sceneId\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"录入内容\">\n          <el-input type=\"textarea\" :rows=\"15\" placeholder=\"请输入单据列表\" v-model=\"commandTextarea\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"sceneDialog = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleSceneCertificate\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog :title=\"commandTitle + '录入内容'\" :visible.sync=\"hubCommandDialog\" width=\"400px\">\n      <el-form\n        ref=\"changeStatusForm\"\n        :model=\"hubchangeForm\"\n        :rules=\"hubchangeRules\"\n        label-position=\"left\"\n        label-width=\"80px\"\n      >\n        <el-form-item label=\"会计日期\" prop=\"hubaccountTime\">\n          <el-date-picker\n            v-model=\"hubchangeForm.hubaccountTime\"\n            type=\"date\"\n            value-format=\"timestamp\"\n            :clearable=\"false\"\n            placeholder=\"选择日期\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"录入内容\" prop=\"textarea\" v-if=\"buttonType === 'input'\">\n          <el-input type=\"textarea\" :rows=\"15\" placeholder=\"请输入内容\" v-model=\"hubchangeForm.textarea\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"hubhandleCancel\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"hubhandleInput\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog title=\"请选择计提月份\" :visible.sync=\"provisionFormDialog\" width=\"500px\">\n      <el-form :model=\"provisionForm\" label-position=\"left\" label-width=\"80px\">\n        <el-form-item label=\"会计月份\">\n          <el-date-picker\n            v-model=\"provisionForm.accountMonth\"\n            type=\"month\"\n            value-format=\"yyyy-MM\"\n            :clearable=\"false\"\n            placeholder=\"会计月份\"\n          >\n          </el-date-picker>\n          <el-button @click=\"getProvisionInfo\">查看计提信息</el-button>\n        </el-form-item>\n        <el-form-item label=\"计提信息\" class=\"span-2\">\n          <el-input\n            class=\"mark-input\"\n            size=\"mini\"\n            type=\"textarea\"\n            :disabled=\"false\"\n            :rows=\"5\"\n            v-model=\"provisionForm.info\"\n            style=\"width: 350px\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"provisionFormCancel\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"doProvision\">确定计提</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog\n      title=\"修改单据\"\n      :center=\"true\"\n      :visible.sync=\"showEditDetailDialog\"\n      width=\"1300px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <ws-form-wrapper :cols=\"2\">\n        <el-form\n          :model=\"detailForm\"\n          ref=\"detailForm\"\n          :rules=\"detailrules\"\n          label-position=\"left\"\n          inline\n          class=\"detail-form\"\n          label-width=\"100px\"\n          size=\"mini\"\n        >\n          <el-form-item label=\"业务单据号\" prop=\"businessNo\">\n            <el-input size=\"mini\" v-model=\"detailForm.businessNo\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"业务类型\" prop=\"businessTypeName\">\n            <el-input size=\"mini\" v-model=\"detailForm.businessTypeName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"冲正序号\" prop=\"correctingNo\">\n            <el-input\n              size=\"mini\"\n              type=\"text\"\n              v-model=\"detailForm.correctingNo\"\n              :disabled=\"this.form.id !== ''\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"单据类型\" prop=\"orderTypeName\">\n            <el-input size=\"mini\" v-model=\"detailForm.orderTypeName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"公司\" prop=\"companyName\">\n            <el-input size=\"mini\" v-model=\"detailForm.companyName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"往来单位1\" prop=\"contactUnit1\">\n            <el-select size=\"mini\" filterable v-model=\"detailForm.contactUnit1\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in contactUnitOptions\"\n                :key=\"item.unitCode\"\n                :label=\"item.unitName\"\n                :value=\"item.unitCode\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"往来单位2\">\n            <el-select size=\"mini\" filterable v-model=\"detailForm.contactUnit2\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in contactUnitOptions\"\n                :key=\"item.unitCode\"\n                :label=\"item.unitName\"\n                :value=\"item.unitCode\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"会计日期\" prop=\"accountTime\">\n            <el-date-picker\n              size=\"mini\"\n              v-model=\"detailForm.accountTime\"\n              :clearable=\"false\"\n              placeholder=\"选择日期\"\n              style=\"width: 178px\"\n            >\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"含税金额\" prop=\"amount\">\n            <el-input size=\"mini\" v-model=\"detailForm.amount\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"税金\" prop=\"amountTax\">\n            <el-input size=\"mini\" v-model=\"detailForm.amountTax\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"不含税金额\" prop=\"amountExcludingTax\">\n            <el-input size=\"mini\" v-model=\"detailForm.amountExcludingTax\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"我方账户\" prop=\"weAccountId\">\n            <el-select size=\"mini\" filterable v-model=\"detailForm.weAccountId\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in ascriptionFlagOptions1\"\n                :key=\"item.unitCode\"\n                :label=\"`${item.accountId}(${item.accountName})`\"\n                :value=\"item.accountId\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"对方账户\" prop=\"accountId\">\n            <el-select size=\"mini\" filterable v-model=\"detailForm.accountId\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in ascriptionFlagOptions2\"\n                :key=\"item.unitCode\"\n                :label=\"`${item.accountId}(${item.accountName})`\"\n                :value=\"item.accountId\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"关联单号\" prop=\"associateNo\">\n            <div class=\"el-input el-input--mini\">\n              <input\n                size=\"mini\"\n                v-model.lazy=\"detailForm.associateNo\"\n                placeholder=\"请输入关联单号\"\n                class=\"el-input__inner\"\n              />\n            </div>\n          </el-form-item>\n          <el-form-item label=\"备注\" prop=\"summary\">\n            <div class=\"el-input el-input--mini\">\n              <textarea\n                size=\"mini\"\n                v-model.lazy=\"detailForm.summary\"\n                placeholder=\"请输入备注\"\n                class=\"el-textarea__inner\"\n              ></textarea>\n            </div>\n          </el-form-item>\n        </el-form>\n      </ws-form-wrapper>\n      <el-table :data=\"detailFormList\" size=\"mini\" border stripe height=\"200px\" style=\"width: 100%\">\n        <template v-for=\"item in detailFormColumns\">\n          <el-table-column\n            :show-overflow-tooltip=\"true\"\n            :key=\"item.property\"\n            :prop=\"item.property\"\n            :label=\"item.title\"\n            :width=\"item.width || undefined\"\n            v-if=\"!item.hidden\"\n          >\n            <template slot-scope=\"scope\">\n              <span v-if=\"!item.type\">{{ scope.row[item.property] }}</span>\n              <span v-else-if=\"item.type === 'number'\">{{ scope.row[item.property] | amountFilter }}</span>\n              <el-input\n                v-else-if=\"item.type === 'textarea'\"\n                size=\"mini\"\n                type=\"textarea\"\n                v-model=\"scope.row[item.property]\"\n              ></el-input>\n              <el-select\n                v-else-if=\"item.type === 'select'\"\n                size=\"mini\"\n                v-model=\"scope.row[item.property]\"\n                filterable\n                clearable\n                class=\"type-select\"\n                @select=\"handleSelectItem(scope.row, item)\"\n              >\n                <el-option\n                  v-for=\"option in item.selectOption || []\"\n                  :key=\"option[item.selectKey]\"\n                  :label=\"`${option[item.selectValue]}(${option[item.selectKey]})`\"\n                  :value=\"option[item.selectKey]\"\n                ></el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n        </template>\n      </el-table>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showEditDetailDialog = false\" type=\"primary\" plain>取 消</el-button>\n        <el-button size=\"mini\" @click=\"editSave\" type=\"primary\">确 认</el-button>\n      </div>\n    </el-dialog>\n    <!-- <iframe :src=\"payDiaLog\" frameborder=\"0\"></iframe> -->\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport { purposeTypes, getFileName, accountFlags, paymentFlags, paymentCheckFlags, YesNoNum, clientCodes } from '@/utils/dict' // orderOptions\nimport { kiloSplit, dateFormat, getParamsUrl } from '@/utils/utils'\nimport moment from 'moment'\nimport api from '@/utils/api'\nimport CostListView from '@/views/CostPay/CostListView'\nimport CostCertificateListView from '@/views/CostPay/CostCertificateListView'\nimport CostWriteOffListView from '@/views/CostPay/CostWriteOffListView'\nexport default {\n  name: 'cost-list',\n  components: {\n    CostListView,\n    CostCertificateListView,\n    CostWriteOffListView\n  },\n  props: [\n    // 'optColumn',\n    'payConfirmPermission', // 收付确认\n    'generateCertificatePermission', // 生成凭证\n    'uploadPermission', // 导入\n    'downloadPermission', // 导出\n    'correctPermission', // 冲正\n    'deletePermission', // 删除\n    'provisionPermission', // 计提\n    'orderTypeCodes',\n    'businessTypeCodes',\n    'fundDirect',\n    'businessScope',\n    'isShowEditOpt' // 显示修改按钮\n  ],\n  data () {\n    return {\n      accountFlags,\n      commandTitle: '',\n      commandDialog: false,\n      sceneDialog: false,\n      sceneId: '',\n      sceneConfigList: [],\n      hubCommandDialog: false,\n      hubaccountTime: '',\n      commandTextarea: '',\n      commandType: '', // 按钮类型\n      buttonType: '', // 下拉选择类型\n      provisionFormDialog: false, // 月底计提提示框\n      provisionForm: {\n        accountMonth: '',\n        info: '',\n        fundDirect: ''\n      },\n      commandList: [\n        {\n          titleName: '删除',\n          opt: '删除',\n          type: 'delete',\n          permission: 'deletePermission'\n        },\n        {\n          titleName: '生成凭证',\n          opt: '生成凭证',\n          type: 'certificate',\n          permission: 'generateCertificatePermission'\n        },\n        {\n          titleName: '冲销',\n          opt: '冲销',\n          type: 'writeOff',\n          permission: 'correctPermission'\n        },\n        {\n          titleName: '冲正',\n          opt: '冲正',\n          type: 'correct',\n          permission: 'correctPermission'\n        }\n      ],\n      hubchangeForm: {\n        hubaccountTime: '',\n        textarea: ''\n      },\n      hubchangeRules: {\n        hubaccountTime: [{ required: true, message: '必填', trigger: 'change' }],\n        textarea: [{ required: true, message: '必填', trigger: 'blur' }]\n      },\n      purposeTypes,\n      actions: [],\n      deleteIds: [],\n      importing: false,\n      importDisplay: false,\n      payConfirmShow: false,\n      bankDataShow: false,\n      confirmForm: {\n        purposeType: '',\n        businessNo: '',\n        amount: '',\n        companyName: '',\n        bankAccountNumber: '',\n        bankAccountName: '',\n        remark: '',\n        amountTotal: '',\n        taxAmountTotal: '',\n        orderTypeCode: '',\n        amountExcludingTaxTotal: '',\n        otherAmountTotal: '',\n        receiptTime: '',\n        accountTime: '',\n        remainAmountSum: '',\n        paymentAmountSum: '',\n        remainAmount: '',\n        id: ''\n      },\n      form: {\n        businessNo: '',\n        orderTypeCode: '',\n        accountTime: ''\n      },\n      rules: {\n        purposeType: [{ required: true, message: '请选择', trigger: 'blur' }],\n        receiptPaymentNo: [{ required: true, message: '请选择', trigger: 'blur' }],\n        amount: [{ required: true, message: '请输入', trigger: 'blur' }],\n        remainAmount: [{ required: true, message: '请输入', trigger: 'blur' }],\n        companyName: [{ required: true, message: '请填写', trigger: 'blur' }],\n        bankAccountNumber: [{ required: true, message: '请选择', trigger: 'blur' }],\n        bankAccountName: [{ required: true, message: '请选择', trigger: 'blur' }],\n        receiptTime: [{ required: true, message: '请选择', trigger: 'blur' }],\n        accountTime: [{ required: true, message: '请选择', trigger: 'blur' }],\n        amountTotal: [{ required: true, message: '请输入', trigger: 'blur' }],\n        taxAmountTotal: [{ required: true, message: '请填写', trigger: 'blur' }],\n        bankName: [{ required: true, message: '请填写', trigger: 'blur' }],\n        amountExcludingTaxTotal: [{ required: true, message: '请输入', trigger: 'blur' }],\n        otherAmountTotal: [{ required: true, message: '请填写', trigger: 'blur' }]\n      },\n      loading: false,\n      confirmLoading: false,\n      refleshCb: () => {},\n      selectOptions: [],\n      showConditionDialog: false,\n      columns: [\n        {\n          title: '业务类型',\n          property: 'businessTypeName'\n        },\n        {\n          title: '单据类型',\n          property: 'orderTypeName'\n        },\n        {\n          title: '公司代码',\n          property: 'companyCode'\n        },\n        {\n          title: '公司名称',\n          property: 'companyName'\n        },\n        {\n          title: '往来单位代码',\n          property: 'contactUnit1',\n          width: 120\n        },\n        {\n          title: '往来单位名称',\n          property: 'contactUnitName1',\n          width: 120\n        },\n        {\n          title: '业务单据号',\n          property: 'businessNo',\n          width: 140\n        },\n        {\n          title: '冲正序号',\n          property: 'correctingNo'\n        },\n        // {\n        //   title: '收付单号',\n        //   property: 'settlementNo',\n        //   detail: true,\n        //   width: 120\n        // },\n        {\n          title: '核销方单号',\n          property: 'writeOffNo',\n          width: 120\n        },\n        {\n          title: '核销方序号',\n          property: 'writeOffCorrectingNo',\n          width: 120\n        },\n        {\n          title: '被核销方单号',\n          property: 'writtenOffNo',\n          width: 120\n        },\n        {\n          title: '被核销方序号',\n          property: 'writtenOffCorrectingNo',\n          width: 120\n        },\n        {\n          title: '关联单号',\n          property: 'associateNo',\n          width: 120\n        },\n        {\n          title: '结算单号',\n          property: 'settlementNo',\n          width: 120\n        },\n        {\n          title: '冲正有效标记',\n          property: 'correctingFlag',\n          width: 100,\n          formatter: function (val) {\n            return val.correctingFlag === 0 ? '否' : '是'\n          }\n        },\n        {\n          title: '税务单号',\n          property: 'taxNo',\n          hidden: true\n        },\n        {\n          title: '币种',\n          property: 'currency'\n        },\n        {\n          title: '含税金额',\n          property: 'amount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amount !== '') {\n              // return val.amount01\n              return kiloSplit(val.amount)\n            }\n          }\n        },\n        {\n          title: '税金',\n          property: 'amountTax',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amountTax !== '') {\n              // return val.amount01\n              return kiloSplit(val.amountTax)\n            }\n          }\n        },\n        {\n          title: '不含税金额',\n          property: 'amountExcludingTax',\n          type: 'number',\n          width: 130,\n          formatter: function (val) {\n            if (val.amountExcludingTax !== '') {\n              // return val.amount01\n              return kiloSplit(val.amountExcludingTax)\n            }\n          }\n        },\n        {\n          title: '其他金额',\n          property: 'otherAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.otherAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.otherAmount)\n            }\n          }\n        },\n        {\n          title: '结算金额',\n          property: 'settlementAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.settlementAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.settlementAmount)\n            }\n          }\n        },\n        {\n          property: 'businessTime',\n          title: '业务时间',\n          formatter: function (row) {\n            return row.businessTime === undefined ? '' : dateFormat('yyyy-MM-dd hh:mm:ss', new Date(row.businessTime))\n          },\n          width: 100\n        },\n        {\n          property: 'accountTime',\n          title: '会计日期',\n          formatter: function (row) {\n            return row.accountTime === undefined ? '' : dateFormat('yyyy-MM-dd', new Date(row.accountTime))\n          },\n          width: 100\n        },\n        {\n          property: 'paymentFlag',\n          title: '收付标记',\n          formatter: function (val) {\n            if (val.paymentFlag === 0) {\n              return '未收付'\n            }\n            if (val.paymentFlag === 1) {\n              return '已收付'\n            }\n            if (val.paymentFlag === 2) {\n              return '部分收付'\n            }\n            return ''\n          }\n        },\n        {\n          property: 'paymentTime',\n          title: '收付时间',\n          formatter: function (row) {\n            return row.paymentFlag === 0 || row.paymentTime === undefined\n              ? ''\n              : dateFormat('yyyy-MM-dd hh:mm:ss', new Date(row.paymentTime))\n          },\n          width: 100\n        },\n        {\n          property: 'accountFlag',\n          title: '挂账标记 ',\n          width: 100,\n          formatter: function (val) {\n            for (var i = 0; i < accountFlags.length; i++) {\n              if (accountFlags[i].value === val.accountFlag) {\n                return accountFlags[i].text\n              }\n            }\n            return ''\n          }\n        },\n        {\n          property: 'taxAccountFlag',\n          title: '税务记账标记',\n          hidden: true,\n          width: 100,\n          formatter: function (val) {\n            if (val.taxAccountFlag === 0) {\n              return '未记账'\n            }\n            if (val.taxAccountFlag === 1) {\n              return '已记账'\n            }\n            if (val.taxAccountFlag === 2) {\n              return '出错'\n            }\n            return ''\n          }\n        },\n        {\n          title: '我方账户',\n          property: 'weAccountId'\n        },\n        {\n          title: '我方账户名称',\n          property: 'weAccountName'\n        },\n        {\n          title: '我方银行信息',\n          property: 'weBankInfo'\n        },\n        {\n          title: '收付方账户',\n          width: 100,\n          property: 'accountId'\n        },\n        {\n          title: '收付方账户名称',\n          property: 'accountName'\n        },\n        {\n          title: '收付方银行信息',\n          property: 'accountBankName'\n        },\n        {\n          title: '说明',\n          property: 'summary'\n        },\n        {\n          title: '错误信息',\n          property: 'errorMsg'\n        },\n        {\n          property: 'taxAccountTime',\n          title: '税务时间',\n          formatter: 'datetime',\n          hidden: true,\n          datetimeFormat: 'YYYY-MM-DD HH:mm:ss',\n          width: 100\n        },\n        {\n          property: 'formerAccountTime',\n          title: '原会计日期',\n          formatter: function (row) {\n            return row.formerAccountTime === undefined ? '' : dateFormat('yyyy-MM-dd', new Date(row.formerAccountTime))\n          },\n          width: 100\n        },\n        {\n          property: 'clientCode',\n          title: '来源',\n          width: 100,\n          formatter: function (val) {\n            if (val.clientCode === 'FSS') {\n              return '综合结算'\n            }\n            if (val.clientCode === 'FM') {\n              return '费控'\n            }\n            if (val.clientCode === 'HLY') {\n              return '汇联易'\n            }\n            if (val.clientCode === 'HANDWORK') {\n              return '手工导入'\n            }\n            if (val.clientCode === 'ASSET') {\n              return '资产'\n            }\n            if (val.clientCode === 'EBS') {\n              return 'EBS导入'\n            }\n            if (val.clientCode === 'BANK') {\n              return '银企直联'\n            }\n            return val.clientCode\n          }\n        },\n        {\n          title: '归档号',\n          property: 'filingNo'\n        },\n        {\n          title: '付款校验状态',\n          property: 'paymentCheckFlag',\n          hidden: true,\n          width: 100,\n          formatter: function (val) {\n            if (val.paymentCheckFlag === 0) {\n              return '待校验'\n            }\n            if (val.paymentCheckFlag === 1) {\n              return '失败'\n            }\n            if (val.paymentCheckFlag === 2) {\n              return '成功'\n            }\n            return ''\n          }\n        },\n        {\n          title: '付款校验失败原因',\n          property: 'paymentCheckErrorMsg',\n          hidden: true,\n          width: 100\n        },\n        {\n          title: '银企付款状态',\n          property: 'approvalStatusCode',\n          formatter: function (val) {\n            if (val.approvalStatusCode === 0) {\n              return '未付款'\n            }\n            if (val.approvalStatusCode === 1) {\n              return '付款中'\n            }\n            if (val.approvalStatusCode === 4) {\n              return '付款成功'\n            }\n            if (val.approvalStatusCode === 5) {\n              return '付款失败'\n            }\n            return val.approvalStatusCode\n          }\n        },\n        {\n          property: 'operation',\n          title: '操作',\n          width: 200,\n          fixed: 'right',\n          actions: [\n            { name: 'detail-click-dialog', permission: '', title: '明细' },\n            { name: 'certificate-click', permission: '', title: '凭证' },\n            { name: 'detail-click-writeoff', permission: '', title: '查看核销' },\n            { name: 'edit-click', permission: '', title: '修改', show: v => v.correctingNo > 1 && this.isShowEditOpt && v.correctingFlag === 1 }\n          ]\n        }\n      ],\n      payConfirmList: [],\n      PayColumns: [\n        {\n          title: '单据类型',\n          property: 'orderTypeName'\n        },\n        {\n          title: '业务单据号',\n          property: 'businessNo'\n        },\n        {\n          title: '含税金额',\n          property: 'amount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amount !== '') {\n              // return val.amount01\n              return kiloSplit(val.amount)\n            }\n          }\n        },\n        {\n          title: '税金',\n          property: 'amountTax',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amountTax !== '') {\n              // return val.amount01\n              return kiloSplit(val.amountTax)\n            }\n          }\n        },\n        {\n          title: '不含税金额',\n          property: 'amountExcludingTax',\n          type: 'number',\n          width: 130,\n          formatter: function (val) {\n            if (val.amountExcludingTax !== '') {\n              // return val.amount01\n              return kiloSplit(val.amountExcludingTax)\n            }\n          }\n        },\n        {\n          title: '其他金额',\n          property: 'otherAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.otherAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.otherAmount)\n            }\n          }\n        },\n        {\n          title: '原结算金额',\n          property: 'remainAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.remainAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.remainAmount)\n            }\n          }\n        },\n        {\n          title: '未结算金额',\n          property: 'paymentAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.paymentAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.paymentAmount)\n            }\n          }\n        }\n      ],\n      pageNum: 1,\n      pageSize: 10,\n      showConfirmDialog: false,\n      showCorrentDialog: false,\n      showDetailDialog: false,\n      showWriteOffDialog: false,\n      showCertificateDialog: false,\n      showDeleteDialog: false,\n      correctType: '1',\n      filters: [\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-a601-cdd5fba86f3b',\n          title: '业务类型',\n          name: 'businessTypeCode',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: [],\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'businessTypeName',\n          optionsValueProp: 'businessTypeCode',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n          title: '单据类型',\n          name: 'orderTypeCode',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: [],\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'orderTypeName',\n          optionsValueProp: 'orderTypeCode',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        {\n          type: 'input',\n          id: '14169248-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '公司名称',\n          name: 'companyName',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'input',\n          id: '14169248-ae2a-4dd8-ba58-bdc1637b55e2',\n          title: '往来单位名称',\n          name: 'contactUnitName1',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'input',\n          id: '16969248-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '业务单据号',\n          name: 'businessNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n          title: '冲正有效标记',\n          name: 'correctingFlag',\n          default: 1,\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: YesNoNum,\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'text',\n          optionsValueProp: 'value',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        // {\n        //   type: 'daterange',\n        //   id: 'da9c99d3-05b5-45a7-ad67-5d938fa90109',\n        //   title: '创建日期',\n        //   name: 'sysCtimeRange',\n        //   desc: '',\n        //   span: 1,\n        //   dependencyKey: '',\n        //   dependencyValue: [],\n        //   required: false,\n        //   jumpRule: '',\n        //   clickableInList: false,\n        //   color: '',\n        //   autoFillControls: [],\n        //   autoFillApi: '',\n        //   readonly: false,\n        //   readonlyWhileCreate: false,\n        //   hidden: false,\n        //   hiddenWhileCreate: false,\n        //   validateError: {},\n        //   regex: '',\n        //   listReadonlyList: [],\n        //   dateFormat: '',\n        //   defaultDateDefine: true,\n        //   defaultDateUnit: ['days', 'days'],\n        //   defaultDateNum: [0, 0],\n        //   dateRangeType: 'daterange',\n        //   disabled: false,\n        //   clearable: true,\n        //   hideDisabled: false\n        // },\n        {\n          type: 'daterange',\n          id: 'da9c99d3-05b5-45a7-ad67-5d938fa90109',\n          title: '会计日期',\n          name: 'accountTimeRange',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          dateFormat: '',\n          defaultDateDefine: true,\n          defaultDateUnit: ['days', 'days'],\n          defaultDateNum: [0, 0],\n          dateRangeType: 'daterange',\n          disabled: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n          title: '挂账标记',\n          name: 'accountFlag',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: accountFlags,\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'text',\n          optionsValueProp: 'value',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        {\n          type: 'input',\n          id: '16969248-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '结算单号',\n          name: 'settlementNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'number',\n          id: 'ebbcee0d-9aa5-4c20-8257-584511ae503f',\n          title: '含税金额',\n          name: 'amountRange',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: [],\n          regex: '',\n          placeholder: '请输入',\n          disabled: false,\n          precision: 0,\n          controls: false,\n          max: 999999999,\n          min: -999999999,\n          listReadonlyList: {},\n          hideDisabled: true,\n          clearable: true,\n          isRange: true\n        },\n        {\n          type: 'daterange',\n          id: 'da9c99d3-05b5-45a7-ad67-5d938fa90109',\n          title: '收付时间',\n          name: 'paymentTimeRange',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          dateFormat: '',\n          defaultDateDefine: true,\n          defaultDateUnit: ['days', 'days'],\n          defaultDateNum: [0, 0],\n          dateRangeType: 'daterange',\n          disabled: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n          title: '收付标记',\n          name: 'paymentFlag',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: paymentFlags,\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'text',\n          optionsValueProp: 'value',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        // {\n        //   type: 'select',\n        //   id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n        //   title: '收付记账标记',\n        //   name: 'paymentAccountFlag',\n        //   default: '',\n        //   desc: '',\n        //   span: 1,\n        //   dependencyKey: '',\n        //   dependencyValue: [],\n        //   required: false,\n        //   jumpRule: '',\n        //   color: '',\n        //   autoFillControls: [],\n        //   autoFillApi: '',\n        //   readonly: false,\n        //   readonlyWhileCreate: false,\n        //   hidden: false,\n        //   hiddenWhileCreate: false,\n        //   regex: '',\n        //   optionsType: 'local',\n        //   options: accountFlags,\n        //   optionsUrl: '',\n        //   optionsParams: [],\n        //   optionsTextProp: 'text',\n        //   optionsValueProp: 'value',\n        //   multiple: false,\n        //   disabled: false,\n        //   clearable: true,\n        //   placeholder: '请选择',\n        //   validateError: [],\n        //   listReadonlyList: {},\n        //   hideDisabled: true\n        // },\n        // {\n        //   type: 'select',\n        //   id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n        //   title: '税务记账标记',\n        //   name: 'taxAccountFlag',\n        //   default: '',\n        //   desc: '',\n        //   span: 1,\n        //   dependencyKey: '',\n        //   dependencyValue: [],\n        //   required: false,\n        //   jumpRule: '',\n        //   color: '',\n        //   autoFillControls: [],\n        //   autoFillApi: '',\n        //   readonly: false,\n        //   readonlyWhileCreate: false,\n        //   hidden: false,\n        //   hiddenWhileCreate: false,\n        //   regex: '',\n        //   optionsType: 'local',\n        //   options: accountFlags,\n        //   optionsUrl: '',\n        //   optionsParams: [],\n        //   optionsTextProp: 'text',\n        //   optionsValueProp: 'value',\n        //   multiple: false,\n        //   disabled: false,\n        //   clearable: true,\n        //   placeholder: '请选择',\n        //   validateError: [],\n        //   listReadonlyList: {},\n        //   hideDisabled: true\n        // },\n        {\n          type: 'input',\n          id: '14160148-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '核销方单号',\n          name: 'writeOffNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'input',\n          id: '16969248-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '被核销方单号',\n          name: 'writtenOffNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1812-412e-a601-cdd5fba85swq',\n          title: '来源',\n          name: 'clientCode',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: clientCodes,\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'text',\n          optionsValueProp: 'value',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        {\n          type: 'input',\n          id: '16969248-cd5a-4dd8-sd58-bdc1637a84rz',\n          title: '归档号',\n          name: 'filingNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'input',\n          id: '14160148-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '关联单号',\n          name: 'associateNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-sxza-cdd5fba53f3c',\n          title: '付款校验状态',\n          name: 'paymentCheckFlag',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: paymentCheckFlags,\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'text',\n          optionsValueProp: 'value',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        }\n      ],\n      handleRow: {},\n      dialogDataId: {},\n      writeOffDataId: {},\n      orderNoOptions: [],\n      showEditDetailDialog: false,\n      detailFormNew: {\n        businessNo: '',\n        businessTypeName: '',\n        orderTypeName: '',\n        companyName: '',\n        contactUnit1: '',\n        contactUnitName1: '',\n        contactUnit2: '',\n        contactUnitName2: '',\n        accountTime: '',\n        amount: 0,\n        amountTax: 0,\n        amountExcludingTax: 0,\n        weAccountId: '',\n        accountId: '',\n        associateNo: '',\n        summary: ''\n      },\n      detailForm: {},\n      detailrules: {\n        correctingNo: [{ required: true, message: '请输入', trigger: 'blur' }],\n        businessNo: [{ required: true, message: '请输入', trigger: 'blur' }],\n        businessTypeName: [{ required: true, message: '请输入', trigger: 'blur' }],\n        orderTypeName: [{ required: true, message: '请输入', trigger: 'blur' }],\n        companyName: [{ required: true, message: '请输入', trigger: 'blur' }],\n        contactUnit1: [{ required: true, message: '请输入', trigger: 'blur' }],\n        contactUnit2: [{ required: true, message: '请输入', trigger: 'blur' }]\n      },\n      detailFormList: [],\n      contactUnitOptions: [],\n      ascriptionFlagOptions1: [],\n      ascriptionFlagOptions2: [],\n      feeTypeOption: [],\n      costCenterDataOption: [],\n      productDataOption: [],\n      sceneOptions: []\n    }\n  },\n  filters: {\n    amountFilter (value) {\n      if (value === '') return ''\n      if (value !== '') {\n        return kiloSplit(value)\n      }\n      return value\n    }\n  },\n  computed: {\n    ...mapState('costList', ['list', 'total', 'DialogList']),\n    pageSource () {\n      if (this.$route.path.indexOf('assets/business') !== -1) {\n        return 'assetsBusiness'\n      }\n      return 'null'\n    },\n    importBtnName () {\n      if (this.businessScope === 'writeoff') {\n        return '导入核销关系'\n      } else {\n        return '导入业务单据'\n      }\n    },\n    confirmTitle () {\n      // if (this.$route.path.indexOf('payment') !== -1) {\n      //   return '付款确认'\n      // } else if (this.$route.path.indexOf('receipt') !== -1) {\n      //   return '收款确认'\n      // } else {\n      //   return '收付确认'\n      // }\n      return '收付确认'\n    },\n    feeTypeOptions () {\n      return this.feeTypeOption\n    },\n    costCenterDatas () {\n      return this.costCenterDataOption\n    },\n    productDatas () {\n      return this.productDataOption\n    },\n    detailFormColumns () {\n      return [\n        {\n          title: '业务明细号',\n          property: 'entryNo'\n        },\n        {\n          title: '成本中心',\n          property: 'costCenterCode',\n          nameProperty: 'costCenterName',\n          type: 'select',\n          selectOption: this.costCenterDatas,\n          selectKey: 'costCenterCode',\n          selectValue: 'costCenterName',\n          width: '140px'\n        },\n        {\n          title: '费用类型',\n          property: 'feeTypeCode',\n          nameProperty: 'feeTypeName',\n          type: 'select',\n          selectOption: this.feeTypeOptions,\n          selectKey: 'feeTypeCode',\n          selectValue: 'feeTypeName'\n        },\n        {\n          title: '产品',\n          property: 'productCode',\n          nameProperty: 'productName',\n          type: 'select',\n          selectOption: this.productDatas,\n          selectKey: 'productCode',\n          selectValue: 'productName',\n          width: '140px'\n        },\n        {\n          title: '含税金额',\n          property: 'amount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amount !== '') {\n              return kiloSplit(val.amount)\n            }\n            return 0\n          }\n        },\n        {\n          title: '不含税金额',\n          property: 'amountExcludingTax',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amountExcludingTax !== '') {\n              return kiloSplit(val.amountExcludingTax)\n            }\n            return 0\n          }\n        },\n        {\n          title: '税金',\n          property: 'amountTax',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amountTax !== '') {\n              // return val.amount01\n              return kiloSplit(val.amountTax)\n            }\n            return 0\n          }\n        },\n        {\n          title: '其他金额',\n          property: 'otherAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.otherAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.otherAmount)\n            }\n            return 0\n          }\n        },\n        {\n          title: '公司',\n          property: 'companyCode'\n        },\n        {\n          title: '往来单位1',\n          property: 'contactUnit1'\n        },\n        {\n          title: '往来单位2',\n          property: 'contactUnit2'\n        },\n        {\n          title: '说明',\n          property: 'summary',\n          type: 'textarea',\n          width: '160px'\n        }\n      ]\n    }\n  },\n  watch: {\n    commandDialog (cur, old) {\n      if (!cur) {\n        this.commandTextarea = ''\n      }\n    },\n    hubCommandDialog (cur, old) {\n      if (!cur) {\n        this.hubchangeForm.textarea = ''\n      }\n    }\n  },\n  methods: {\n    ...mapActions('costCertificateListView', ['searchDialogData']),\n    ...mapActions('costList', ['search', 'createCertificate']),\n    ...mapActions('certificateTest', [\n      'getFeeType',\n      'costCenterData',\n      'companySectionData',\n      'contactUnitData',\n      'getAscriptionFlag1',\n      'getAscriptionFlag2',\n      'purposeData',\n      'productData',\n      'sceneData'\n    ]),\n    // 判断哪个事件\n    handleCommand (command, item) {\n      console.log('command', command)\n      console.log('item.type', item.type)\n      this.buttonType = command\n      this.commandType = item.type\n      this.commandOpt = item.opt\n      if (item.type === 'writeOff' || item.type === 'correct') {\n        this.hubCommandOpt(item)\n      } else if (item.type === 'delete' || item.type === 'certificate') {\n        this.unhubCommandOpt(item)\n      }\n    },\n    // 删除操作 and 生成凭证\n    unhubCommandOpt (item) {\n      let url = ''\n      let param = {}\n      let opt = ''\n      if (this.buttonType === 'select') {\n        if (this.selectOptions.length === 0) {\n          this.$message.warning('请选择数据')\n          return\n        }\n        let idArr = []\n        this.selectOptions.forEach(v => {\n          idArr.push(v.id)\n        })\n        url = api.businessBySelect\n        param = { ids: idArr }\n        opt = '选择'\n      } else if (this.buttonType === 'query') {\n        let data = {}\n        data.filter = this.$refs.filters.getValue()\n        data.filter.fundDirect = this.fundDirect\n        data.filter.businessScope = this.businessScope\n        url = api.businessbyParam\n        param = { filter: { ...data.filter } }\n        opt = '条件'\n      } else if (this.buttonType === 'input') {\n        this.commandTitle = item.titleName\n        this.commandDialog = true\n        url = api.businessbyInput\n        param = {\n          itemText: this.commandTextarea\n        }\n        return\n      } else if (this.buttonType === 'scene') {\n        this.commandTitle = item.titleName\n        this.sceneDialog = true\n        url = api.businessbyInput\n        this.sceneData().then(res => {\n          this.sceneConfigList = res.result || []\n        })\n        return\n      }\n      this.$confirm('是否按' + opt + '批量' + item.titleName + '?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$http\n          .post(url, {\n            ...param,\n            type: item.type\n          })\n          .then(res => {\n            if (res.code === 0) {\n              this.$message.success(res.message)\n              this.handleSearch()\n            } else {\n              this.$message.warning(res.message)\n            }\n          })\n          .catch(e => {\n            console.log(e)\n          })\n      })\n    },\n    // 冲销 and 冲正\n    hubCommandOpt (item) {\n      if (this.buttonType === 'select') {\n        if (this.selectOptions.length === 0) {\n          this.$message.warning('请选择数据')\n          return\n        }\n      }\n      this.commandTitle = item.titleName\n      this.hubCommandDialog = true\n    },\n    handleCancel () {\n      this.commandDialog = false\n    },\n    handleInput () {\n      this.$confirm('是否按录入批量' + this.commandOpt + '?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$http\n          .post(api.businessbyInput, {\n            itemText: this.commandTextarea,\n            type: this.commandType\n          })\n          .then(res => {\n            if (res.code === 0) {\n              this.$message.success(res.message)\n              this.handleSearch()\n            } else {\n              this.$message.warning(res.message)\n            }\n          })\n          .finally(() => {\n            this.commandDialog = false\n          })\n      })\n    },\n    handleSceneCertificate () {\n      if (!this.sceneId) {\n        this.$message.warning('场景不可为空')\n        return\n      }\n      if (!this.commandTextarea) {\n        this.$message.warning('录入内容不可为空')\n        return\n      }\n      this.$confirm('是否按场景批量' + this.commandOpt + '?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$http\n          .post(api.businessbyInput, {\n            itemText: this.commandTextarea,\n            type: this.commandType,\n            sceneId: this.sceneId\n          })\n          .then(res => {\n            if (res.code === 0) {\n              this.$message.success(res.message)\n              this.handleSearch()\n            } else {\n              this.$message.warning(res.message)\n            }\n          })\n          .finally(() => {\n            this.sceneDialog = false\n          })\n      })\n    },\n    hubhandleCancel () {\n      this.hubCommandDialog = false\n    },\n    provisionFormCancel () {\n      this.provisionFormDialog = false\n    },\n    getProvisionInfo () {\n      this.$http\n        .post(api.getProvisionInfo, {\n          accountMonth: this.provisionForm.accountMonth,\n          orderTypeCode: this.fundDirect === 'payment' ? 'bankPayment' : 'bankReceive'\n        })\n        .then(res => {\n          if (res.code === 0) {\n            this.provisionForm.info = res.message\n          } else {\n            this.$message.warning(res.message)\n          }\n        })\n    },\n    doProvision () {\n      this.$http\n        .post(api.doPovision, {\n          accountMonth: this.provisionForm.accountMonth,\n          orderTypeCode: this.fundDirect === 'payment' ? 'bankPayment' : 'bankReceive'\n        })\n        .then(res => {\n          this.provisionFormDialog = false\n          if (res.code === 0) {\n            this.$message.success(res.message)\n          } else {\n            this.$message.warning(res.message)\n          }\n        })\n    },\n    hubhandleInput () {\n      let url = ''\n      let param = {}\n      let opt = ''\n      if (this.buttonType === 'select') {\n        let idArr = []\n        this.selectOptions.forEach(v => {\n          idArr.push(v.id)\n        })\n        url = api.businessBySelect\n        param = { ids: idArr }\n        opt = '选择'\n      } else if (this.buttonType === 'query') {\n        let data = {}\n        data.filter = this.$refs.filters.getValue()\n        data.filter.fundDirect = this.fundDirect\n        data.filter.businessScope = this.businessScope\n        url = api.businessbyParam\n        param = { filter: { ...data.filter } }\n        opt = '条件'\n      } else if (this.buttonType === 'input') {\n        url = api.businessbyInput\n        param = {\n          itemText: this.hubchangeForm.textarea\n        }\n        opt = '录入'\n      }\n      this.$confirm('是否按' + opt + '批量' + this.commandOpt + '?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$http\n          .post(url, {\n            ...param,\n            type: this.commandType,\n            accountTime: this.hubchangeForm.hubaccountTime\n          })\n          .then(res => {\n            if (res.code === 0) {\n              this.$message.success(res.message)\n              this.handleSearch()\n            } else {\n              this.$message.warning(res.message)\n            }\n          })\n          .finally(() => {\n            this.hubCommandDialog = false\n          })\n      })\n    },\n    handleCurrentChange (pageNum) {\n      this.pageNum = pageNum\n      this.handleSearch()\n    },\n    handleSizeChange (pageSize) {\n      this.pageSize = pageSize\n      this.handleSearch()\n    },\n    editDetailClick (row) {\n      this.$nextTick(() => {\n        for (let key in this.detailFormNew) {\n          this.detailForm[key] = this.detailFormNew[key]\n        }\n        this.detailFormList = []\n        this.showEditDetailDialog = true\n        this.getList(row.id, row.sysCtime)\n      })\n      this.contactUnitData().then(res => {\n        this.contactUnitOptions = res.result || []\n      })\n      this.getAscriptionFlag1().then(res => {\n        this.ascriptionFlagOptions1 = res.result || []\n      })\n      this.getAscriptionFlag2().then(res => {\n        this.ascriptionFlagOptions2 = res.result || []\n      })\n      this.getFeeType().then(res => {\n        this.feeTypeOption = res.result || []\n      })\n      this.costCenterData().then(res => {\n        this.costCenterDataOption = res.result || []\n      })\n      this.productData().then(res => {\n        this.productDataOption = res.result || []\n      })\n    },\n    handleSelectItem (row, col) {\n      row[col.nameProperty] = col.selectOption.find(v => v[col.selectKey] === row[col.property])[col.selectValue] || ''\n    },\n    editSave () {\n      this.$refs['detailForm'].validate(valid => {\n        if (valid) {\n          if (this.detailForm.contactUnit1) {\n            this.detailForm.contactUnitName1 =\n              this.contactUnitOptions.find(v => v.unitCode === this.detailForm.contactUnit1).unitName || ''\n          }\n          if (this.detailForm.contactUnit2) {\n            this.detailForm.contactUnitName2 =\n              this.contactUnitOptions.find(v => v.unitCode === this.detailForm.contactUnit2).unitName || ''\n          }\n          this.$http\n            .post(api.updateBusiness, {\n              entries: this.detailFormList,\n              head: this.detailForm\n            })\n            .then(res => {\n              this.showEditDetailDialog = false\n              if (res.code === 0) {\n                this.$message.success(res.message)\n              }\n            })\n        }\n      })\n    },\n    getList (id, sysCtime) {\n      this.$http\n        .post(api.costDetailSearch, {\n          id: id,\n          sysCtime: sysCtime\n        })\n        .then(res => {\n          if (res.code === 0) {\n            for (let key in res.result.head) {\n              if (key !== 'entryList' && key !== 'certificateList') {\n                this.$set(this.form, key, res.result.head[key])\n              }\n            }\n            this.detailForm = res.result.head\n            this.detailFormList = res.result.entries\n            console.log(this.listData, 'listData')\n          } else {\n            this.$message.warning(res.message)\n          }\n        })\n    },\n    handleDetail (row) {\n      // this.$router.push(`/fap_receiptpayment_list/${val.settlementNo}`)\n      this.dialogDataId = {\n        id: row.id,\n        sysCtime: row.sysCtime\n      }\n      console.log(this.dialogDataId, 'ididididid')\n      this.showDetailDialog = true\n      this.$nextTick(() => {\n        this.$refs.costListView.clickMe(this.dialogDataId)\n      })\n    },\n    writeOffDetail (row) {\n      this.writeOffDataId = {\n        id: row.id,\n        sysCtime: row.sysCtime\n      }\n      this.showWriteOffDialog = true\n      this.$nextTick(() => {\n        this.$refs.costWriteOffListView.clickMe(this.writeOffDataId)\n      })\n    },\n    handleDetailGoto (row) {\n      if (row.settlementNo !== '') {\n        this.$router.push(`/$define/fap_receiptpayment_list?orderNo=${row.settlementNo}`)\n      }\n    },\n    handleCertificateDetail (row) {\n      // this.$router.push(`/costCertificateList/${row.businessNo}/${row.sysCtime}`)\n      this.searchDialogData({ id: row.id, sysCtime: row.sysCtime })\n      this.showCertificateDialog = true\n    },\n    deleteClick (row) {\n      this.deleteIds = []\n      let obj = {\n        id: row.id,\n        businessNo: row.businessNo,\n        correctingNo: row.correctingNo,\n        orderTypeCode: row.orderTypeCode\n      }\n      this.deleteIds.push(obj)\n      this.showDeleteDialog = true\n    },\n    batchDelete () {\n      if (this.selectOptions.length === 0) {\n        this.$message.warning('请选择数据')\n        return\n      }\n      let clientSelect = this.selectOptions.find(v => v.clientCode !== 'HANDWORK')\n      if (clientSelect) {\n        this.$message.warning('请选择手工导入的数据(来源为HANDWORK)')\n        return\n      }\n      let correctingSelect = this.selectOptions.find(v => v.correctingNo !== 1)\n      if (correctingSelect) {\n        this.$message.warning('选择的数据冲正序号不等于1,表示该数据已经冲正或冲销,不允许删除')\n        return\n      }\n      this.deleteIds = []\n      this.selectOptions.forEach(item => {\n        let obj = {\n          id: item.id,\n          businessNo: item.businessNo,\n          correctingNo: item.correctingNo,\n          orderTypeCode: item.orderTypeCode\n        }\n        this.deleteIds.push(obj)\n      })\n      this.showDeleteDialog = true\n      console.log(this.deleteIds, 'deleteIds')\n    },\n    doHandleDelete () {\n      this.showDeleteDialog = false\n      this.$http.post(api.businessDelete, this.deleteIds).then(res => {\n        if (res.code === 0) {\n          this.$message.success(res.message)\n        } else {\n          this.$message.warning(res.message)\n        }\n        this.handleSearch()\n      })\n    },\n    dataSearch () {\n      this.pageNum = 1\n      this.handleSearch()\n    },\n    handleSearch () {\n      if (!this.getParams().filter.accountTimeRange && this.getParams().filter.businessNo === '') {\n        this.$message.warning('会计日期/业务单据号，不可同时为空')\n        return\n      }\n      this.loading = true\n      this.search(this.getParams())\n        .then(() => {\n          this.loading = false\n        })\n        .catch(() => {\n          this.loading = false\n        })\n    },\n    conditionCertificateCreate () {\n      this.showConditionDialog = true\n    },\n    conditionHandleMulOpt () {\n      let data = {}\n      data.filter = this.$refs.filters.getValue()\n      data.filter.fundDirect = this.fundDirect\n      data.filter.businessScope = this.businessScope\n      data.pager = {\n        pageNum: this.pageNum,\n        pageSize: this.pageSize\n      }\n      this.$http.post(api.certificateCreateByCondition, data).then(res => {\n        if (res.code === 0) {\n          this.$message.success(res.message)\n          this.refleshCb()\n        } else {\n          this.$message.warning(res.message)\n        }\n        this.showConditionDialog = false\n      })\n    },\n    handleExport () {\n      let data = {}\n      data.filter = this.$refs.filters.getValue()\n      data.filter.fundDirect = this.fundDirect\n      data.filter.businessScope = this.businessScope\n      data.filter.fileName = getFileName(this.fundDirect)\n      this.$message.warning('正在下载，请稍后...')\n      window.open(api.costPayListExport + getParamsUrl(data.filter), '_self')\n    },\n    initConfirmForm () {\n      for (let key in this.confirmForm) {\n        this.confirmForm[key] = ''\n      }\n    },\n    handleConfirm (row, index, col, action, cb) {\n      this.initConfirmForm()\n      this.showConfirmDialog = true\n      this.orderNoOptions = []\n      // this.form.sysCtime = new Date(row.sysCtime)\n      // this.form.paymentTime = new Date()\n      // this.form.id = row.id\n      this.payConfirmList = [row]\n    },\n    changePurposeType () {\n      let purposeType = this.confirmForm.purposeType\n      let companyCode = this.payConfirmList[0].companyCode\n      this.$http.post(`${api.getPaymentOrderList}?purposeType=${purposeType}&companyCode=${companyCode}`).then(res => {\n        this.orderNoOptions = res.result\n        console.log(res, 'purposeTypepurposeTypepurposeTypepurposeType')\n      })\n    },\n    changeOrderNo (row) {\n      this.confirmForm.businessNo = row.businessNo\n      this.confirmForm.amount = row.amount\n      this.confirmForm.remainAmount = row.remainAmount\n      this.confirmForm.companyName = row.companyName\n      this.confirmForm.bankAccountNumber = row.accountId\n      this.confirmForm.bankAccountName = row.accountName\n      this.confirmForm.bankName = row.accountBankName\n      this.confirmForm.remark = row.remark\n      this.confirmForm.id = row.id\n      this.confirmForm.receiptTime = row.businessTime\n    },\n    doHandleConfirm (row, index, col, action, cb) {\n      let params = []\n      this.payConfirmList.forEach(item => {\n        let pushItem = {}\n        pushItem.receiptPaymentNo = this.confirmForm.businessNo\n        pushItem.receiptPaymentId = this.confirmForm.id\n        pushItem.businessNo = item.businessNo\n        pushItem.orderTypeCode = item.orderTypeCode\n        pushItem.businessId = item.id\n        pushItem.orderTypeName = item.orderTypeName\n        pushItem.accountTime = moment(this.confirmForm.accountTime).valueOf()\n        params.push(pushItem)\n      })\n      this.confirmLoading = true\n      this.$http\n        .post(api.paymentConfirm, params)\n        .then(res => {\n          if (res.code === 0) {\n            this.$message.success(res.message)\n          } else {\n            this.$message.warning(res.message)\n          }\n          this.confirmLoading = false\n          this.showConfirmDialog = false\n          this.handleSearch()\n        })\n        .catch(() => {\n          this.confirmLoading = false\n        })\n    },\n    doHandleCorrent () {\n      this.showCorrentDialog = false\n      let url = ''\n      if (this.correctType === '1') {\n        url = api.businessCorrent\n      } else {\n        url = api.businessWriteOff\n      }\n      this.$http.post(url, this.form).then(res => {\n        if (res.code === 0) {\n          this.$message.success(res.message)\n        } else {\n          this.$message.warning(res.message)\n        }\n        this.handleSearch()\n      })\n    },\n    getParams () {\n      let data = {}\n      data.filter = this.$refs.filters.getValue()\n      data.filter.fundDirect = this.fundDirect\n      data.filter.businessScope = this.businessScope\n      data.pager = {\n        pageNum: this.pageNum,\n        pageSize: this.pageSize\n      }\n      return data\n    },\n    handleMulOpt () {\n      if (this.selectOptions.length === 0) {\n        this.$message.warning('请选择数据')\n        return\n      }\n      let businessNoArr = []\n      this.selectOptions.forEach(item => {\n        let pushItem = {}\n        pushItem.businessNo = item.businessNo\n        pushItem.sysCtime = item.sysCtime\n        pushItem.orderTypeCode = item.orderTypeCode\n        pushItem.correctingNo = item.correctingNo\n        pushItem.id = item.id\n        businessNoArr.push(pushItem)\n      })\n      console.log(businessNoArr)\n      this.createCertificate(businessNoArr)\n      this.$message.success('凭证生成中,请稍候查看数据')\n    },\n    handlePayConfirm () {\n      if (this.selectOptions.length === 0) {\n        this.$message.warning('请选择数据')\n        return\n      }\n      let cantSelect = this.selectOptions.find(v => v.paymentFlag === 1)\n      if (cantSelect) {\n        this.$message.warning('选择的数据已收付，请重新选择')\n        return\n      }\n      let cantSelectCorrectingFlag = this.selectOptions.find(v => v.correctingFlag !== 1)\n      if (cantSelectCorrectingFlag) {\n        this.$message.warning('选择的数据冲正有效为否，请重新选择')\n        return\n      }\n      for (let key in this.confirmForm) {\n        this.confirmForm[key] = ''\n      }\n      let businessNoList = []\n      let companySet = new Set()\n      this.selectOptions.forEach(item => {\n        businessNoList.push(item.businessNo)\n        companySet.add(item.companyCode)\n      })\n      if (companySet.size !== 1) {\n        this.$message.warning('所选数据公司不一致，请重新选择')\n        return\n      }\n      const data = new FormData()\n      let strParam = businessNoList.toString()\n      console.log(strParam, 'strParam')\n      data.append('businessNoList', strParam)\n      this.$http.post(api.remainAmountSum, data).then(res => {\n        if (res.code === 0) {\n          this.confirmForm.remainAmountSum = res.result.remainAmountSum.toFixed(2)\n          this.confirmForm.paymentAmountSum = res.result.paymentAmountSum.toFixed(2)\n          let entryList = res.result.entryList\n          this.selectOptions.forEach(item => {\n            entryList.forEach(entry => {\n              if (item.businessNo === entry.businessNo) {\n                item.paymentAmount = entry.paymentAmount\n              }\n            })\n          })\n        }\n        this.showConfirmDialog = true\n      })\n\n      this.confirmForm.amountTotal = this.calAmountlFromSelection('amount')\n      this.confirmForm.taxAmountTotal = this.calAmountlFromSelection('amountTax')\n      this.confirmForm.amountExcludingTaxTotal = this.calAmountlFromSelection('amountExcludingTax')\n      this.confirmForm.otherAmountTotal = this.calAmountlFromSelection('otherAmount')\n      this.payConfirmList = this.selectOptions\n      // this.selection\n    },\n    handleMulDownload () {\n      if (this.businessScope === 'business') {\n        window.open(\n          'https://common-1252347619.cosgz.myqcloud.com/template/3b6d7776-290c-481f-969d-1efd64adda4d.xlsx',\n          '_self'\n        )\n      } else if (this.businessScope === 'writeoff') {\n        window.open(\n          'https://common-1252347619.cosgz.myqcloud.com/common/dfbd078f-6334-43f0-b958-ce799b857359.xlsx',\n          '_self'\n        )\n      }\n    },\n    handleImport () {\n      this.$refs.file.click()\n    },\n    handleProvisionInfo () {\n      this.provisionForm.info = ''\n      this.provisionFormDialog = true\n    },\n    fileChange (e) {\n      const fileInput = e.target\n      const data = new FormData()\n      data.append('file', fileInput.files[0])\n      data.append('fundDirect', this.fundDirect)\n      data.append('businessScope', this.businessScope)\n      let url = api.handworkUpload\n      if (this.businessScope === 'writeoff') {\n        url = api.writeoffOrderImport\n      }\n      this.$http\n        .post(url, data)\n        .then(res => {\n          if (res.code === 0) {\n            this.$message.success(res.message)\n            this.refleshCb()\n          } else {\n            this.$message.warning(res.message)\n          }\n        })\n        .finally(() => {\n          e.target.value = ''\n        })\n    },\n    calAmountlFromSelection (amount) {\n      let totalAmount = 0\n      totalAmount = this.selectOptions.reduce((pre, curr) => {\n        if (typeof curr[amount] === 'number') {\n          if (!curr[amount]) {\n            curr[amount] = 0\n          }\n          return parseFloat((pre + curr[amount]).toFixed(2))\n        } else {\n          return pre\n        }\n      }, 0)\n      return totalAmount.toFixed(2)\n    },\n    handleSelection (selection, action) {\n      this.selectOptions = selection\n    },\n    selectRadio (selection) {\n      this.correctType = selection\n    },\n    getCostList () {\n      this.init()\n      if (this.$refs.filters) {\n        if (new Date().getDate() < 13) {\n          this.$refs.filters.model.accountTimeRange = [\n            moment()\n              .subtract(1, 'months')\n              .startOf('month')\n              .format('YYYY-MM-DD'),\n            moment()\n              .subtract(1, 'months')\n              .endOf('month')\n              .format('YYYY-MM-DD')\n          ]\n        } else {\n          this.$refs.filters.model.accountTimeRange = [\n            moment()\n              .startOf('month')\n              .format('YYYY-MM-DD'),\n            moment().format('YYYY-MM-DD')\n          ]\n        }\n      }\n      this.handleSearch()\n    },\n    setFilters () {\n      const val = this.filters\n      const orderTypeCodeFilters = val.find(x => x.name === 'orderTypeCode')\n      orderTypeCodeFilters.options = this.orderTypeCodes\n      const businessTypeCodeFilters = val.find(x => x.name === 'businessTypeCode')\n      businessTypeCodeFilters.options = this.businessTypeCodes\n      if (this.pageSource !== 'assetsBusiness' && this.businessScope === 'business') {\n        this.payConfirmShow = true\n      } else if (this.businessScope === 'writeoff') {\n        this.payConfirmShow = true\n      } else {\n        this.payConfirmShow = false\n      }\n      if (this.businessScope === 'receiptPayment') {\n        this.bankDataShow = true\n      } else {\n        this.bankDataShow = false\n      }\n    },\n    init () {\n      this.$watch(val => {\n        this.setFilters()\n      })\n    }\n  },\n  beforeRouteUpdate (to, from, next) {\n    next()\n  }\n}\n</script>\n<style scoped>\n.el-dropdown-menu__item {\n  line-height: 30px;\n}\n</style>\n<style lang=\"scss\">\n.cost-list {\n  .el-dialog__body {\n    max-height: 550px;\n    overflow: auto;\n  }\n  .confirm-form-dialog {\n    div.panel-header.clearfix,\n    .panel-header .table-header {\n      height: 0px;\n      padding: 0px;\n    }\n  }\n  .detail-form {\n    .el-input {\n      width: 200px;\n    }\n  }\n}\n</style>\n\n```\n","source":"_posts/日志/添加多选框.md","raw":"---\ntitle: 应付管理自定义表单添加多选框\ndate: 2022-6-22 17:20:19\ncover: \ntags:\n- 日志\n---\n\n```javascript\n<template>\n  <div class=\"cost-list\">\n    <ws-list-panel\n      :loading=\"loading\"\n      :data=\"list\"\n      :columns=\"columns\"\n      :selection=\"true\"\n      :page-num=\"pageNum\"\n      :page-size=\"pageSize\"\n      :total=\"total\"\n      :pageSizes=\"[10]\"\n      :reset=\"false\"\n      @size-change=\"handleSizeChange\"\n      @detail-click=\"handleDetailGoto\"\n      @detail-click-dialog=\"handleDetail\"\n      @detail-click-writeoff=\"writeOffDetail\"\n      @edit-click=\"editDetailClick\"\n      @certificate-click=\"handleCertificateDetail\"\n      @current-change=\"handleCurrentChange\"\n      @handleConfirm=\"handleConfirm\"\n      @selection-change=\"handleSelection\"\n    >\n      <template slot=\"title\">\n        <ws-data-search\n          ref=\"filters\"\n          :filters=\"filters\"\n          :loading=\"loading\"\n          @search=\"dataSearch\"\n          :showMore=\"true\"\n        ></ws-data-search>\n      </template>\n      <template slot=\"operation\">\n        <div>\n          <el-dropdown\n            trigger=\"click\"\n            size=\"mini\"\n            type=\"primary\"\n            v-for=\"(item, index) in commandList\"\n            :key=\"index\"\n            :v-permission=\"item.permission\"\n            style=\"margin-right:10px;\"\n            @command=\"handleCommand($event, item)\"\n          >\n            <el-button type=\"primary\">{{ item.titleName }} <i class=\"el-icon-arrow-down\"></i> </el-button>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"select\">按选择{{ item.opt }}</el-dropdown-item>\n              <el-dropdown-item command=\"query\">按条件{{ item.opt }}</el-dropdown-item>\n              <el-dropdown-item command=\"input\">按录入{{ item.opt }}</el-dropdown-item>\n              <el-dropdown-item command=\"scene\" v-if=\"item.type === 'certificate'\"\n                >按场景{{ item.opt }}</el-dropdown-item\n              >\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n        <el-button\n          type=\"primary\"\n          size=\"mini\"\n          icon=\"\"\n          v-permission=\"payConfirmPermission\"\n          v-if=\"payConfirmShow\"\n          @click=\"handlePayConfirm\"\n          >{{ confirmTitle }}</el-button\n        >\n        <el-button\n          type=\"primary\"\n          size=\"mini\"\n          icon=\"el-icon-download\"\n          v-if=\"payConfirmShow\"\n          v-permission=\"uploadPermission\"\n          @click=\"handleMulDownload\"\n          >下载导入模板</el-button\n        >\n        <el-button type=\"primary\" size=\"mini\" v-if=\"bankDataShow\" @click=\"handleProvisionInfo\">月底计提</el-button>\n        <el-button\n          type=\"primary\"\n          size=\"mini\"\n          icon=\"el-icon-download\"\n          v-if=\"payConfirmShow\"\n          v-permission=\"uploadPermission\"\n          @click=\"handleImport\"\n          :loading=\"importing\"\n          >{{ importBtnName }}</el-button\n        >\n        <!-- <el-button type=\"primary\" size=\"mini\" icon=\"\" v-permission=\"generateCertificatePermission\" @click=\"handleMulOpt\"\n          >生成凭证</el-button\n        >\n        <el-button type=\"primary\" size=\"mini\" icon=\"\" v-permission=\"\" @click=\"conditionCertificateCreate\"\n          >按查询条件生成凭证</el-button\n        >\n        <el-button\n          type=\"primary\"\n          size=\"mini\"\n          v-if=\"payConfirmShow\"\n          icon=\"\"\n          permission=\"fap:accounting:business:head:delete\"\n          @click=\"batchDelete\"\n          >批量删除</el-button\n        > -->\n        <el-button\n          type=\"primary\"\n          :plain=\"true\"\n          size=\"mini\"\n          icon=\"el-icon-bottom\"\n          v-permission=\"downloadPermission\"\n          @click=\"handleExport\"\n        >\n          导 出\n        </el-button>\n        <input ref=\"file\" type=\"file\" class=\"hide\" @change=\"fileChange\" />\n        <el-dialog\n          title=\"批量生成凭证\"\n          :visible.sync=\"showConditionDialog\"\n          width=\"700px\"\n          class=\"confirm-form\"\n          :close-on-click-modal=\"false\"\n        >\n          请确认是否按所选的查询条件批量生成凭证\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button size=\"mini\" @click=\"showConditionDialog = false\">取 消</el-button>\n            <el-button type=\"primary\" size=\"mini\" @click=\"conditionHandleMulOpt\">\n              确 认\n            </el-button>\n          </div>\n        </el-dialog>\n      </template>\n    </ws-list-panel>\n    <el-dialog\n      title=\"明细\"\n      :center=\"true\"\n      :visible.sync=\"showDetailDialog\"\n      width=\"1300px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <CostListView :dialogDataId=\"dialogDataId\" ref=\"costListView\" />\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showDetailDialog = false\" type=\"primary\">关 闭</el-button>\n      </div>\n    </el-dialog>\n    <el-dialog\n      title=\"凭证\"\n      :center=\"true\"\n      :visible.sync=\"showCertificateDialog\"\n      width=\"1300px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <CostCertificateListView />\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showCertificateDialog = false\" type=\"primary\">关 闭</el-button>\n      </div>\n    </el-dialog>\n    <el-dialog\n      title=\"核销信息\"\n      :center=\"true\"\n      :visible.sync=\"showWriteOffDialog\"\n      width=\"1300px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <CostWriteOffListView :dialogDataId=\"writeOffDataId\" ref=\"costWriteOffListView\" />\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showWriteOffDialog = false\" type=\"primary\">关 闭</el-button>\n      </div>\n    </el-dialog>\n    <el-dialog\n      :title=\"confirmTitle\"\n      :visible.sync=\"showConfirmDialog\"\n      width=\"750px\"\n      class=\"confirm-form-dialog\"\n      :close-on-click-modal=\"false\"\n    >\n      <ws-form-wrapper :cols=\"2\">\n        <el-form :model=\"form\" ref=\"form\" :rules=\"rules\" label-position=\"left\" inline label-width=\"100px\" size=\"mini\">\n          <el-form-item label=\"用途\" prop=\"purposeType\">\n            <el-select\n              size=\"mini\"\n              v-model=\"confirmForm.purposeType\"\n              placeholder=\"请选择\"\n              style=\"width: 178px\"\n              @change=\"changePurposeType\"\n            >\n              <el-option v-for=\"item in purposeTypes\" :key=\"item.orderNo\" :label=\"item.text\" :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"收付单号\" prop=\"businessNo\">\n            <el-select\n              size=\"mini\"\n              v-model=\"confirmForm.businessNo\"\n              placeholder=\"请选择\"\n              style=\"width: 178px\"\n              filterable\n              @change=\"changeOrderNo\"\n            >\n              <el-option v-for=\"item in orderNoOptions\" :key=\"item.id\" :label=\"item.businessNo\" :value=\"item\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"收付单金额\" prop=\"amount\">\n            <el-input size=\"mini\" v-model=\"confirmForm.amount\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"收付单余额\" prop=\"amount\">\n            <el-input size=\"mini\" v-model=\"confirmForm.remainAmount\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"收付日期\" prop=\"receiptTime\">\n            <el-date-picker\n              size=\"mini\"\n              v-model=\"confirmForm.receiptTime\"\n              :disabled=\"true\"\n              type=\"date\"\n              style=\"width: 178px\"\n            />\n          </el-form-item>\n          <el-form-item label=\"会计日期\" prop=\"accountTime\">\n            <el-date-picker size=\"mini\" v-model=\"confirmForm.accountTime\" type=\"date\" style=\"width: 178px\" />\n          </el-form-item>\n          <el-form-item label=\"公司\" prop=\"companyName\">\n            <el-input size=\"mini\" v-model=\"confirmForm.companyName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"账户\" prop=\"bankAccountNumber\">\n            <el-input size=\"mini\" v-model=\"confirmForm.bankAccountNumber\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"账户名称\" prop=\"bankAccountName\">\n            <el-input size=\"mini\" v-model=\"confirmForm.bankAccountName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"账户银行\" prop=\"bankName\">\n            <el-input size=\"mini\" v-model=\"confirmForm.bankName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"备注\" class=\"span-2\">\n            <el-input\n              class=\"mark-input\"\n              size=\"mini\"\n              type=\"textarea\"\n              :disabled=\"true\"\n              :rows=\"1\"\n              v-model=\"confirmForm.remark\"\n              style=\"width: 580px\"\n            ></el-input>\n          </el-form-item>\n          <el-divider content-position=\"left\"> 收付明细</el-divider>\n          <el-form-item label=\"原结算金额\">\n            <el-input size=\"mini\" v-model=\"confirmForm.remainAmountSum\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"未结算金额\">\n            <el-input size=\"mini\" v-model=\"confirmForm.paymentAmountSum\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"总含税金额\">\n            <el-input size=\"mini\" v-model=\"confirmForm.amountTotal\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"税金\">\n            <el-input size=\"mini\" v-model=\"confirmForm.taxAmountTotal\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"不含税金额\">\n            <el-input size=\"mini\" v-model=\"confirmForm.amountExcludingTaxTotal\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"其他金额\">\n            <el-input size=\"mini\" v-model=\"confirmForm.otherAmountTotal\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <!-- <el-form-item label=\"容差\">\n            <el-input size=\"mini\" v-model=\"form.remark\" :disabled=\"true\"></el-input>\n          </el-form-item> -->\n        </el-form>\n        <ws-list-panel\n          :loading=\"loading\"\n          :data=\"payConfirmList\"\n          :columns=\"PayColumns\"\n          :selection=\"false\"\n          :showPage=\"false\"\n          :disableHiddenCols=\"true\"\n        >\n        </ws-list-panel>\n      </ws-form-wrapper>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showConfirmDialog = false\">取 消</el-button>\n        <el-button type=\"primary\" size=\"mini\" :loading=\"confirmLoading\" @click=\"doHandleConfirm\">\n          确 认\n        </el-button>\n      </div>\n    </el-dialog>\n    <el-dialog\n      :title=\"this.correctType == 1 ? '冲正确认' : '冲销确认'\"\n      :visible.sync=\"showCorrentDialog\"\n      width=\"700px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <template>\n        <span style=\"color:red\">*</span><span>会计日期：</span>\n        <el-date-picker\n          v-model=\"form.accountTime\"\n          type=\"date\"\n          value-format=\"timestamp\"\n          :clearable=\"false\"\n          placeholder=\"选择日期\"\n        >\n        </el-date-picker> </template\n      ><br /><br />\n      请确认是否对此业务单据号[{{ this.form.businessNo }}]进行{{ this.correctType === '1' ? '冲正' : '冲销' }}\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showCorrentDialog = false\">取 消</el-button>\n        <el-button type=\"primary\" size=\"mini\" @click=\"doHandleCorrent\" v-permission=\"correctPermission\">\n          确 认\n        </el-button>\n      </div>\n    </el-dialog>\n    <el-dialog\n      title=\"删除确认\"\n      :visible.sync=\"showDeleteDialog\"\n      width=\"700px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <P style=\"text-align:center\">请确认是否删除</P>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showDeleteDialog = false\">取 消</el-button>\n        <el-button type=\"primary\" size=\"mini\" @click=\"doHandleDelete\" permission=\"\">\n          确 认\n        </el-button>\n      </div>\n    </el-dialog>\n    <el-dialog :title=\"commandTitle + '录入内容'\" :visible.sync=\"commandDialog\" width=\"400px\">\n      <el-input type=\"textarea\" :rows=\"15\" placeholder=\"请输入内容\" v-model=\"commandTextarea\"></el-input>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"handleCancel\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleInput\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog :title=\"'选择场景生成凭证'\" :visible.sync=\"sceneDialog\" width=\"400px\">\n      <el-form label-position=\"left\" label-width=\"80px\">\n        <el-form-item label=\"选择场景\">\n          <el-select size=\"mini\" style=\"width:270px\" filterable v-model=\"sceneId\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in sceneConfigList\"\n              :key=\"item.sceneId\"\n              :label=\"item.sceneName + '(' + item.sceneId + ')'\"\n              :value=\"item.sceneId\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"录入内容\">\n          <el-input type=\"textarea\" :rows=\"15\" placeholder=\"请输入单据列表\" v-model=\"commandTextarea\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"sceneDialog = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleSceneCertificate\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog :title=\"commandTitle + '录入内容'\" :visible.sync=\"hubCommandDialog\" width=\"400px\">\n      <el-form\n        ref=\"changeStatusForm\"\n        :model=\"hubchangeForm\"\n        :rules=\"hubchangeRules\"\n        label-position=\"left\"\n        label-width=\"80px\"\n      >\n        <el-form-item label=\"会计日期\" prop=\"hubaccountTime\">\n          <el-date-picker\n            v-model=\"hubchangeForm.hubaccountTime\"\n            type=\"date\"\n            value-format=\"timestamp\"\n            :clearable=\"false\"\n            placeholder=\"选择日期\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"录入内容\" prop=\"textarea\" v-if=\"buttonType === 'input'\">\n          <el-input type=\"textarea\" :rows=\"15\" placeholder=\"请输入内容\" v-model=\"hubchangeForm.textarea\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"hubhandleCancel\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"hubhandleInput\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog title=\"请选择计提月份\" :visible.sync=\"provisionFormDialog\" width=\"500px\">\n      <el-form :model=\"provisionForm\" label-position=\"left\" label-width=\"80px\">\n        <el-form-item label=\"会计月份\">\n          <el-date-picker\n            v-model=\"provisionForm.accountMonth\"\n            type=\"month\"\n            value-format=\"yyyy-MM\"\n            :clearable=\"false\"\n            placeholder=\"会计月份\"\n          >\n          </el-date-picker>\n          <el-button @click=\"getProvisionInfo\">查看计提信息</el-button>\n        </el-form-item>\n        <el-form-item label=\"计提信息\" class=\"span-2\">\n          <el-input\n            class=\"mark-input\"\n            size=\"mini\"\n            type=\"textarea\"\n            :disabled=\"false\"\n            :rows=\"5\"\n            v-model=\"provisionForm.info\"\n            style=\"width: 350px\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"provisionFormCancel\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"doProvision\">确定计提</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog\n      title=\"修改单据\"\n      :center=\"true\"\n      :visible.sync=\"showEditDetailDialog\"\n      width=\"1300px\"\n      class=\"confirm-form\"\n      :close-on-click-modal=\"false\"\n    >\n      <ws-form-wrapper :cols=\"2\">\n        <el-form\n          :model=\"detailForm\"\n          ref=\"detailForm\"\n          :rules=\"detailrules\"\n          label-position=\"left\"\n          inline\n          class=\"detail-form\"\n          label-width=\"100px\"\n          size=\"mini\"\n        >\n          <el-form-item label=\"业务单据号\" prop=\"businessNo\">\n            <el-input size=\"mini\" v-model=\"detailForm.businessNo\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"业务类型\" prop=\"businessTypeName\">\n            <el-input size=\"mini\" v-model=\"detailForm.businessTypeName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"冲正序号\" prop=\"correctingNo\">\n            <el-input\n              size=\"mini\"\n              type=\"text\"\n              v-model=\"detailForm.correctingNo\"\n              :disabled=\"this.form.id !== ''\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"单据类型\" prop=\"orderTypeName\">\n            <el-input size=\"mini\" v-model=\"detailForm.orderTypeName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"公司\" prop=\"companyName\">\n            <el-input size=\"mini\" v-model=\"detailForm.companyName\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"往来单位1\" prop=\"contactUnit1\">\n            <el-select size=\"mini\" filterable v-model=\"detailForm.contactUnit1\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in contactUnitOptions\"\n                :key=\"item.unitCode\"\n                :label=\"item.unitName\"\n                :value=\"item.unitCode\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"往来单位2\">\n            <el-select size=\"mini\" filterable v-model=\"detailForm.contactUnit2\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in contactUnitOptions\"\n                :key=\"item.unitCode\"\n                :label=\"item.unitName\"\n                :value=\"item.unitCode\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"会计日期\" prop=\"accountTime\">\n            <el-date-picker\n              size=\"mini\"\n              v-model=\"detailForm.accountTime\"\n              :clearable=\"false\"\n              placeholder=\"选择日期\"\n              style=\"width: 178px\"\n            >\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"含税金额\" prop=\"amount\">\n            <el-input size=\"mini\" v-model=\"detailForm.amount\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"税金\" prop=\"amountTax\">\n            <el-input size=\"mini\" v-model=\"detailForm.amountTax\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"不含税金额\" prop=\"amountExcludingTax\">\n            <el-input size=\"mini\" v-model=\"detailForm.amountExcludingTax\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"我方账户\" prop=\"weAccountId\">\n            <el-select size=\"mini\" filterable v-model=\"detailForm.weAccountId\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in ascriptionFlagOptions1\"\n                :key=\"item.unitCode\"\n                :label=\"`${item.accountId}(${item.accountName})`\"\n                :value=\"item.accountId\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"对方账户\" prop=\"accountId\">\n            <el-select size=\"mini\" filterable v-model=\"detailForm.accountId\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in ascriptionFlagOptions2\"\n                :key=\"item.unitCode\"\n                :label=\"`${item.accountId}(${item.accountName})`\"\n                :value=\"item.accountId\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"关联单号\" prop=\"associateNo\">\n            <div class=\"el-input el-input--mini\">\n              <input\n                size=\"mini\"\n                v-model.lazy=\"detailForm.associateNo\"\n                placeholder=\"请输入关联单号\"\n                class=\"el-input__inner\"\n              />\n            </div>\n          </el-form-item>\n          <el-form-item label=\"备注\" prop=\"summary\">\n            <div class=\"el-input el-input--mini\">\n              <textarea\n                size=\"mini\"\n                v-model.lazy=\"detailForm.summary\"\n                placeholder=\"请输入备注\"\n                class=\"el-textarea__inner\"\n              ></textarea>\n            </div>\n          </el-form-item>\n        </el-form>\n      </ws-form-wrapper>\n      <el-table :data=\"detailFormList\" size=\"mini\" border stripe height=\"200px\" style=\"width: 100%\">\n        <template v-for=\"item in detailFormColumns\">\n          <el-table-column\n            :show-overflow-tooltip=\"true\"\n            :key=\"item.property\"\n            :prop=\"item.property\"\n            :label=\"item.title\"\n            :width=\"item.width || undefined\"\n            v-if=\"!item.hidden\"\n          >\n            <template slot-scope=\"scope\">\n              <span v-if=\"!item.type\">{{ scope.row[item.property] }}</span>\n              <span v-else-if=\"item.type === 'number'\">{{ scope.row[item.property] | amountFilter }}</span>\n              <el-input\n                v-else-if=\"item.type === 'textarea'\"\n                size=\"mini\"\n                type=\"textarea\"\n                v-model=\"scope.row[item.property]\"\n              ></el-input>\n              <el-select\n                v-else-if=\"item.type === 'select'\"\n                size=\"mini\"\n                v-model=\"scope.row[item.property]\"\n                filterable\n                clearable\n                class=\"type-select\"\n                @select=\"handleSelectItem(scope.row, item)\"\n              >\n                <el-option\n                  v-for=\"option in item.selectOption || []\"\n                  :key=\"option[item.selectKey]\"\n                  :label=\"`${option[item.selectValue]}(${option[item.selectKey]})`\"\n                  :value=\"option[item.selectKey]\"\n                ></el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n        </template>\n      </el-table>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"showEditDetailDialog = false\" type=\"primary\" plain>取 消</el-button>\n        <el-button size=\"mini\" @click=\"editSave\" type=\"primary\">确 认</el-button>\n      </div>\n    </el-dialog>\n    <!-- <iframe :src=\"payDiaLog\" frameborder=\"0\"></iframe> -->\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport { purposeTypes, getFileName, accountFlags, paymentFlags, paymentCheckFlags, YesNoNum, clientCodes } from '@/utils/dict' // orderOptions\nimport { kiloSplit, dateFormat, getParamsUrl } from '@/utils/utils'\nimport moment from 'moment'\nimport api from '@/utils/api'\nimport CostListView from '@/views/CostPay/CostListView'\nimport CostCertificateListView from '@/views/CostPay/CostCertificateListView'\nimport CostWriteOffListView from '@/views/CostPay/CostWriteOffListView'\nexport default {\n  name: 'cost-list',\n  components: {\n    CostListView,\n    CostCertificateListView,\n    CostWriteOffListView\n  },\n  props: [\n    // 'optColumn',\n    'payConfirmPermission', // 收付确认\n    'generateCertificatePermission', // 生成凭证\n    'uploadPermission', // 导入\n    'downloadPermission', // 导出\n    'correctPermission', // 冲正\n    'deletePermission', // 删除\n    'provisionPermission', // 计提\n    'orderTypeCodes',\n    'businessTypeCodes',\n    'fundDirect',\n    'businessScope',\n    'isShowEditOpt' // 显示修改按钮\n  ],\n  data () {\n    return {\n      accountFlags,\n      commandTitle: '',\n      commandDialog: false,\n      sceneDialog: false,\n      sceneId: '',\n      sceneConfigList: [],\n      hubCommandDialog: false,\n      hubaccountTime: '',\n      commandTextarea: '',\n      commandType: '', // 按钮类型\n      buttonType: '', // 下拉选择类型\n      provisionFormDialog: false, // 月底计提提示框\n      provisionForm: {\n        accountMonth: '',\n        info: '',\n        fundDirect: ''\n      },\n      commandList: [\n        {\n          titleName: '删除',\n          opt: '删除',\n          type: 'delete',\n          permission: 'deletePermission'\n        },\n        {\n          titleName: '生成凭证',\n          opt: '生成凭证',\n          type: 'certificate',\n          permission: 'generateCertificatePermission'\n        },\n        {\n          titleName: '冲销',\n          opt: '冲销',\n          type: 'writeOff',\n          permission: 'correctPermission'\n        },\n        {\n          titleName: '冲正',\n          opt: '冲正',\n          type: 'correct',\n          permission: 'correctPermission'\n        }\n      ],\n      hubchangeForm: {\n        hubaccountTime: '',\n        textarea: ''\n      },\n      hubchangeRules: {\n        hubaccountTime: [{ required: true, message: '必填', trigger: 'change' }],\n        textarea: [{ required: true, message: '必填', trigger: 'blur' }]\n      },\n      purposeTypes,\n      actions: [],\n      deleteIds: [],\n      importing: false,\n      importDisplay: false,\n      payConfirmShow: false,\n      bankDataShow: false,\n      confirmForm: {\n        purposeType: '',\n        businessNo: '',\n        amount: '',\n        companyName: '',\n        bankAccountNumber: '',\n        bankAccountName: '',\n        remark: '',\n        amountTotal: '',\n        taxAmountTotal: '',\n        orderTypeCode: '',\n        amountExcludingTaxTotal: '',\n        otherAmountTotal: '',\n        receiptTime: '',\n        accountTime: '',\n        remainAmountSum: '',\n        paymentAmountSum: '',\n        remainAmount: '',\n        id: ''\n      },\n      form: {\n        businessNo: '',\n        orderTypeCode: '',\n        accountTime: ''\n      },\n      rules: {\n        purposeType: [{ required: true, message: '请选择', trigger: 'blur' }],\n        receiptPaymentNo: [{ required: true, message: '请选择', trigger: 'blur' }],\n        amount: [{ required: true, message: '请输入', trigger: 'blur' }],\n        remainAmount: [{ required: true, message: '请输入', trigger: 'blur' }],\n        companyName: [{ required: true, message: '请填写', trigger: 'blur' }],\n        bankAccountNumber: [{ required: true, message: '请选择', trigger: 'blur' }],\n        bankAccountName: [{ required: true, message: '请选择', trigger: 'blur' }],\n        receiptTime: [{ required: true, message: '请选择', trigger: 'blur' }],\n        accountTime: [{ required: true, message: '请选择', trigger: 'blur' }],\n        amountTotal: [{ required: true, message: '请输入', trigger: 'blur' }],\n        taxAmountTotal: [{ required: true, message: '请填写', trigger: 'blur' }],\n        bankName: [{ required: true, message: '请填写', trigger: 'blur' }],\n        amountExcludingTaxTotal: [{ required: true, message: '请输入', trigger: 'blur' }],\n        otherAmountTotal: [{ required: true, message: '请填写', trigger: 'blur' }]\n      },\n      loading: false,\n      confirmLoading: false,\n      refleshCb: () => {},\n      selectOptions: [],\n      showConditionDialog: false,\n      columns: [\n        {\n          title: '业务类型',\n          property: 'businessTypeName'\n        },\n        {\n          title: '单据类型',\n          property: 'orderTypeName'\n        },\n        {\n          title: '公司代码',\n          property: 'companyCode'\n        },\n        {\n          title: '公司名称',\n          property: 'companyName'\n        },\n        {\n          title: '往来单位代码',\n          property: 'contactUnit1',\n          width: 120\n        },\n        {\n          title: '往来单位名称',\n          property: 'contactUnitName1',\n          width: 120\n        },\n        {\n          title: '业务单据号',\n          property: 'businessNo',\n          width: 140\n        },\n        {\n          title: '冲正序号',\n          property: 'correctingNo'\n        },\n        // {\n        //   title: '收付单号',\n        //   property: 'settlementNo',\n        //   detail: true,\n        //   width: 120\n        // },\n        {\n          title: '核销方单号',\n          property: 'writeOffNo',\n          width: 120\n        },\n        {\n          title: '核销方序号',\n          property: 'writeOffCorrectingNo',\n          width: 120\n        },\n        {\n          title: '被核销方单号',\n          property: 'writtenOffNo',\n          width: 120\n        },\n        {\n          title: '被核销方序号',\n          property: 'writtenOffCorrectingNo',\n          width: 120\n        },\n        {\n          title: '关联单号',\n          property: 'associateNo',\n          width: 120\n        },\n        {\n          title: '结算单号',\n          property: 'settlementNo',\n          width: 120\n        },\n        {\n          title: '冲正有效标记',\n          property: 'correctingFlag',\n          width: 100,\n          formatter: function (val) {\n            return val.correctingFlag === 0 ? '否' : '是'\n          }\n        },\n        {\n          title: '税务单号',\n          property: 'taxNo',\n          hidden: true\n        },\n        {\n          title: '币种',\n          property: 'currency'\n        },\n        {\n          title: '含税金额',\n          property: 'amount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amount !== '') {\n              // return val.amount01\n              return kiloSplit(val.amount)\n            }\n          }\n        },\n        {\n          title: '税金',\n          property: 'amountTax',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amountTax !== '') {\n              // return val.amount01\n              return kiloSplit(val.amountTax)\n            }\n          }\n        },\n        {\n          title: '不含税金额',\n          property: 'amountExcludingTax',\n          type: 'number',\n          width: 130,\n          formatter: function (val) {\n            if (val.amountExcludingTax !== '') {\n              // return val.amount01\n              return kiloSplit(val.amountExcludingTax)\n            }\n          }\n        },\n        {\n          title: '其他金额',\n          property: 'otherAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.otherAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.otherAmount)\n            }\n          }\n        },\n        {\n          title: '结算金额',\n          property: 'settlementAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.settlementAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.settlementAmount)\n            }\n          }\n        },\n        {\n          property: 'businessTime',\n          title: '业务时间',\n          formatter: function (row) {\n            return row.businessTime === undefined ? '' : dateFormat('yyyy-MM-dd hh:mm:ss', new Date(row.businessTime))\n          },\n          width: 100\n        },\n        {\n          property: 'accountTime',\n          title: '会计日期',\n          formatter: function (row) {\n            return row.accountTime === undefined ? '' : dateFormat('yyyy-MM-dd', new Date(row.accountTime))\n          },\n          width: 100\n        },\n        {\n          property: 'paymentFlag',\n          title: '收付标记',\n          formatter: function (val) {\n            if (val.paymentFlag === 0) {\n              return '未收付'\n            }\n            if (val.paymentFlag === 1) {\n              return '已收付'\n            }\n            if (val.paymentFlag === 2) {\n              return '部分收付'\n            }\n            return ''\n          }\n        },\n        {\n          property: 'paymentTime',\n          title: '收付时间',\n          formatter: function (row) {\n            return row.paymentFlag === 0 || row.paymentTime === undefined\n              ? ''\n              : dateFormat('yyyy-MM-dd hh:mm:ss', new Date(row.paymentTime))\n          },\n          width: 100\n        },\n        {\n          property: 'accountFlag',\n          title: '挂账标记 ',\n          width: 100,\n          formatter: function (val) {\n            for (var i = 0; i < accountFlags.length; i++) {\n              if (accountFlags[i].value === val.accountFlag) {\n                return accountFlags[i].text\n              }\n            }\n            return ''\n          }\n        },\n        {\n          property: 'taxAccountFlag',\n          title: '税务记账标记',\n          hidden: true,\n          width: 100,\n          formatter: function (val) {\n            if (val.taxAccountFlag === 0) {\n              return '未记账'\n            }\n            if (val.taxAccountFlag === 1) {\n              return '已记账'\n            }\n            if (val.taxAccountFlag === 2) {\n              return '出错'\n            }\n            return ''\n          }\n        },\n        {\n          title: '我方账户',\n          property: 'weAccountId'\n        },\n        {\n          title: '我方账户名称',\n          property: 'weAccountName'\n        },\n        {\n          title: '我方银行信息',\n          property: 'weBankInfo'\n        },\n        {\n          title: '收付方账户',\n          width: 100,\n          property: 'accountId'\n        },\n        {\n          title: '收付方账户名称',\n          property: 'accountName'\n        },\n        {\n          title: '收付方银行信息',\n          property: 'accountBankName'\n        },\n        {\n          title: '说明',\n          property: 'summary'\n        },\n        {\n          title: '错误信息',\n          property: 'errorMsg'\n        },\n        {\n          property: 'taxAccountTime',\n          title: '税务时间',\n          formatter: 'datetime',\n          hidden: true,\n          datetimeFormat: 'YYYY-MM-DD HH:mm:ss',\n          width: 100\n        },\n        {\n          property: 'formerAccountTime',\n          title: '原会计日期',\n          formatter: function (row) {\n            return row.formerAccountTime === undefined ? '' : dateFormat('yyyy-MM-dd', new Date(row.formerAccountTime))\n          },\n          width: 100\n        },\n        {\n          property: 'clientCode',\n          title: '来源',\n          width: 100,\n          formatter: function (val) {\n            if (val.clientCode === 'FSS') {\n              return '综合结算'\n            }\n            if (val.clientCode === 'FM') {\n              return '费控'\n            }\n            if (val.clientCode === 'HLY') {\n              return '汇联易'\n            }\n            if (val.clientCode === 'HANDWORK') {\n              return '手工导入'\n            }\n            if (val.clientCode === 'ASSET') {\n              return '资产'\n            }\n            if (val.clientCode === 'EBS') {\n              return 'EBS导入'\n            }\n            if (val.clientCode === 'BANK') {\n              return '银企直联'\n            }\n            return val.clientCode\n          }\n        },\n        {\n          title: '归档号',\n          property: 'filingNo'\n        },\n        {\n          title: '付款校验状态',\n          property: 'paymentCheckFlag',\n          hidden: true,\n          width: 100,\n          formatter: function (val) {\n            if (val.paymentCheckFlag === 0) {\n              return '待校验'\n            }\n            if (val.paymentCheckFlag === 1) {\n              return '失败'\n            }\n            if (val.paymentCheckFlag === 2) {\n              return '成功'\n            }\n            return ''\n          }\n        },\n        {\n          title: '付款校验失败原因',\n          property: 'paymentCheckErrorMsg',\n          hidden: true,\n          width: 100\n        },\n        {\n          title: '银企付款状态',\n          property: 'approvalStatusCode',\n          formatter: function (val) {\n            if (val.approvalStatusCode === 0) {\n              return '未付款'\n            }\n            if (val.approvalStatusCode === 1) {\n              return '付款中'\n            }\n            if (val.approvalStatusCode === 4) {\n              return '付款成功'\n            }\n            if (val.approvalStatusCode === 5) {\n              return '付款失败'\n            }\n            return val.approvalStatusCode\n          }\n        },\n        {\n          property: 'operation',\n          title: '操作',\n          width: 200,\n          fixed: 'right',\n          actions: [\n            { name: 'detail-click-dialog', permission: '', title: '明细' },\n            { name: 'certificate-click', permission: '', title: '凭证' },\n            { name: 'detail-click-writeoff', permission: '', title: '查看核销' },\n            { name: 'edit-click', permission: '', title: '修改', show: v => v.correctingNo > 1 && this.isShowEditOpt && v.correctingFlag === 1 }\n          ]\n        }\n      ],\n      payConfirmList: [],\n      PayColumns: [\n        {\n          title: '单据类型',\n          property: 'orderTypeName'\n        },\n        {\n          title: '业务单据号',\n          property: 'businessNo'\n        },\n        {\n          title: '含税金额',\n          property: 'amount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amount !== '') {\n              // return val.amount01\n              return kiloSplit(val.amount)\n            }\n          }\n        },\n        {\n          title: '税金',\n          property: 'amountTax',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amountTax !== '') {\n              // return val.amount01\n              return kiloSplit(val.amountTax)\n            }\n          }\n        },\n        {\n          title: '不含税金额',\n          property: 'amountExcludingTax',\n          type: 'number',\n          width: 130,\n          formatter: function (val) {\n            if (val.amountExcludingTax !== '') {\n              // return val.amount01\n              return kiloSplit(val.amountExcludingTax)\n            }\n          }\n        },\n        {\n          title: '其他金额',\n          property: 'otherAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.otherAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.otherAmount)\n            }\n          }\n        },\n        {\n          title: '原结算金额',\n          property: 'remainAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.remainAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.remainAmount)\n            }\n          }\n        },\n        {\n          title: '未结算金额',\n          property: 'paymentAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.paymentAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.paymentAmount)\n            }\n          }\n        }\n      ],\n      pageNum: 1,\n      pageSize: 10,\n      showConfirmDialog: false,\n      showCorrentDialog: false,\n      showDetailDialog: false,\n      showWriteOffDialog: false,\n      showCertificateDialog: false,\n      showDeleteDialog: false,\n      correctType: '1',\n      filters: [\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-a601-cdd5fba86f3b',\n          title: '业务类型',\n          name: 'businessTypeCode',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: [],\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'businessTypeName',\n          optionsValueProp: 'businessTypeCode',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n          title: '单据类型',\n          name: 'orderTypeCode',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: [],\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'orderTypeName',\n          optionsValueProp: 'orderTypeCode',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        {\n          type: 'input',\n          id: '14169248-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '公司名称',\n          name: 'companyName',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'input',\n          id: '14169248-ae2a-4dd8-ba58-bdc1637b55e2',\n          title: '往来单位名称',\n          name: 'contactUnitName1',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'input',\n          id: '16969248-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '业务单据号',\n          name: 'businessNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n          title: '冲正有效标记',\n          name: 'correctingFlag',\n          default: 1,\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: YesNoNum,\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'text',\n          optionsValueProp: 'value',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        // {\n        //   type: 'daterange',\n        //   id: 'da9c99d3-05b5-45a7-ad67-5d938fa90109',\n        //   title: '创建日期',\n        //   name: 'sysCtimeRange',\n        //   desc: '',\n        //   span: 1,\n        //   dependencyKey: '',\n        //   dependencyValue: [],\n        //   required: false,\n        //   jumpRule: '',\n        //   clickableInList: false,\n        //   color: '',\n        //   autoFillControls: [],\n        //   autoFillApi: '',\n        //   readonly: false,\n        //   readonlyWhileCreate: false,\n        //   hidden: false,\n        //   hiddenWhileCreate: false,\n        //   validateError: {},\n        //   regex: '',\n        //   listReadonlyList: [],\n        //   dateFormat: '',\n        //   defaultDateDefine: true,\n        //   defaultDateUnit: ['days', 'days'],\n        //   defaultDateNum: [0, 0],\n        //   dateRangeType: 'daterange',\n        //   disabled: false,\n        //   clearable: true,\n        //   hideDisabled: false\n        // },\n        {\n          type: 'daterange',\n          id: 'da9c99d3-05b5-45a7-ad67-5d938fa90109',\n          title: '会计日期',\n          name: 'accountTimeRange',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          dateFormat: '',\n          defaultDateDefine: true,\n          defaultDateUnit: ['days', 'days'],\n          defaultDateNum: [0, 0],\n          dateRangeType: 'daterange',\n          disabled: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n          title: '挂账标记',\n          name: 'accountFlag',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: accountFlags,\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'text',\n          optionsValueProp: 'value',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        {\n          type: 'input',\n          id: '16969248-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '结算单号',\n          name: 'settlementNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'number',\n          id: 'ebbcee0d-9aa5-4c20-8257-584511ae503f',\n          title: '含税金额',\n          name: 'amountRange',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: [],\n          regex: '',\n          placeholder: '请输入',\n          disabled: false,\n          precision: 0,\n          controls: false,\n          max: 999999999,\n          min: -999999999,\n          listReadonlyList: {},\n          hideDisabled: true,\n          clearable: true,\n          isRange: true\n        },\n        {\n          type: 'daterange',\n          id: 'da9c99d3-05b5-45a7-ad67-5d938fa90109',\n          title: '收付时间',\n          name: 'paymentTimeRange',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          dateFormat: '',\n          defaultDateDefine: true,\n          defaultDateUnit: ['days', 'days'],\n          defaultDateNum: [0, 0],\n          dateRangeType: 'daterange',\n          disabled: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n          title: '收付标记',\n          name: 'paymentFlag',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: paymentFlags,\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'text',\n          optionsValueProp: 'value',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        // {\n        //   type: 'select',\n        //   id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n        //   title: '收付记账标记',\n        //   name: 'paymentAccountFlag',\n        //   default: '',\n        //   desc: '',\n        //   span: 1,\n        //   dependencyKey: '',\n        //   dependencyValue: [],\n        //   required: false,\n        //   jumpRule: '',\n        //   color: '',\n        //   autoFillControls: [],\n        //   autoFillApi: '',\n        //   readonly: false,\n        //   readonlyWhileCreate: false,\n        //   hidden: false,\n        //   hiddenWhileCreate: false,\n        //   regex: '',\n        //   optionsType: 'local',\n        //   options: accountFlags,\n        //   optionsUrl: '',\n        //   optionsParams: [],\n        //   optionsTextProp: 'text',\n        //   optionsValueProp: 'value',\n        //   multiple: false,\n        //   disabled: false,\n        //   clearable: true,\n        //   placeholder: '请选择',\n        //   validateError: [],\n        //   listReadonlyList: {},\n        //   hideDisabled: true\n        // },\n        // {\n        //   type: 'select',\n        //   id: '134b7fb4-1878-412e-a601-cdd5fba85f3b',\n        //   title: '税务记账标记',\n        //   name: 'taxAccountFlag',\n        //   default: '',\n        //   desc: '',\n        //   span: 1,\n        //   dependencyKey: '',\n        //   dependencyValue: [],\n        //   required: false,\n        //   jumpRule: '',\n        //   color: '',\n        //   autoFillControls: [],\n        //   autoFillApi: '',\n        //   readonly: false,\n        //   readonlyWhileCreate: false,\n        //   hidden: false,\n        //   hiddenWhileCreate: false,\n        //   regex: '',\n        //   optionsType: 'local',\n        //   options: accountFlags,\n        //   optionsUrl: '',\n        //   optionsParams: [],\n        //   optionsTextProp: 'text',\n        //   optionsValueProp: 'value',\n        //   multiple: false,\n        //   disabled: false,\n        //   clearable: true,\n        //   placeholder: '请选择',\n        //   validateError: [],\n        //   listReadonlyList: {},\n        //   hideDisabled: true\n        // },\n        {\n          type: 'input',\n          id: '14160148-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '核销方单号',\n          name: 'writeOffNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'input',\n          id: '16969248-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '被核销方单号',\n          name: 'writtenOffNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1812-412e-a601-cdd5fba85swq',\n          title: '来源',\n          name: 'clientCode',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: clientCodes,\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'text',\n          optionsValueProp: 'value',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        },\n        {\n          type: 'input',\n          id: '16969248-cd5a-4dd8-sd58-bdc1637a84rz',\n          title: '归档号',\n          name: 'filingNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'input',\n          id: '14160148-cd5a-4dd8-ba58-bdc1637a55e2',\n          title: '关联单号',\n          name: 'associateNo',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          clickableInList: false,\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          validateError: {},\n          regex: '',\n          listReadonlyList: [],\n          placeholder: '请输入',\n          disabled: false,\n          quickEdit: false,\n          _editing: false,\n          secret: false,\n          clearable: true,\n          hideDisabled: false\n        },\n        {\n          type: 'select',\n          id: '134b7fb4-1878-412e-sxza-cdd5fba53f3c',\n          title: '付款校验状态',\n          name: 'paymentCheckFlag',\n          default: '',\n          desc: '',\n          span: 1,\n          dependencyKey: '',\n          dependencyValue: [],\n          required: false,\n          jumpRule: '',\n          color: '',\n          autoFillControls: [],\n          autoFillApi: '',\n          readonly: false,\n          readonlyWhileCreate: false,\n          hidden: false,\n          hiddenWhileCreate: false,\n          regex: '',\n          optionsType: 'local',\n          options: paymentCheckFlags,\n          optionsUrl: '',\n          optionsParams: [],\n          optionsTextProp: 'text',\n          optionsValueProp: 'value',\n          multiple: false,\n          disabled: false,\n          clearable: true,\n          placeholder: '请选择',\n          validateError: [],\n          listReadonlyList: {},\n          hideDisabled: true\n        }\n      ],\n      handleRow: {},\n      dialogDataId: {},\n      writeOffDataId: {},\n      orderNoOptions: [],\n      showEditDetailDialog: false,\n      detailFormNew: {\n        businessNo: '',\n        businessTypeName: '',\n        orderTypeName: '',\n        companyName: '',\n        contactUnit1: '',\n        contactUnitName1: '',\n        contactUnit2: '',\n        contactUnitName2: '',\n        accountTime: '',\n        amount: 0,\n        amountTax: 0,\n        amountExcludingTax: 0,\n        weAccountId: '',\n        accountId: '',\n        associateNo: '',\n        summary: ''\n      },\n      detailForm: {},\n      detailrules: {\n        correctingNo: [{ required: true, message: '请输入', trigger: 'blur' }],\n        businessNo: [{ required: true, message: '请输入', trigger: 'blur' }],\n        businessTypeName: [{ required: true, message: '请输入', trigger: 'blur' }],\n        orderTypeName: [{ required: true, message: '请输入', trigger: 'blur' }],\n        companyName: [{ required: true, message: '请输入', trigger: 'blur' }],\n        contactUnit1: [{ required: true, message: '请输入', trigger: 'blur' }],\n        contactUnit2: [{ required: true, message: '请输入', trigger: 'blur' }]\n      },\n      detailFormList: [],\n      contactUnitOptions: [],\n      ascriptionFlagOptions1: [],\n      ascriptionFlagOptions2: [],\n      feeTypeOption: [],\n      costCenterDataOption: [],\n      productDataOption: [],\n      sceneOptions: []\n    }\n  },\n  filters: {\n    amountFilter (value) {\n      if (value === '') return ''\n      if (value !== '') {\n        return kiloSplit(value)\n      }\n      return value\n    }\n  },\n  computed: {\n    ...mapState('costList', ['list', 'total', 'DialogList']),\n    pageSource () {\n      if (this.$route.path.indexOf('assets/business') !== -1) {\n        return 'assetsBusiness'\n      }\n      return 'null'\n    },\n    importBtnName () {\n      if (this.businessScope === 'writeoff') {\n        return '导入核销关系'\n      } else {\n        return '导入业务单据'\n      }\n    },\n    confirmTitle () {\n      // if (this.$route.path.indexOf('payment') !== -1) {\n      //   return '付款确认'\n      // } else if (this.$route.path.indexOf('receipt') !== -1) {\n      //   return '收款确认'\n      // } else {\n      //   return '收付确认'\n      // }\n      return '收付确认'\n    },\n    feeTypeOptions () {\n      return this.feeTypeOption\n    },\n    costCenterDatas () {\n      return this.costCenterDataOption\n    },\n    productDatas () {\n      return this.productDataOption\n    },\n    detailFormColumns () {\n      return [\n        {\n          title: '业务明细号',\n          property: 'entryNo'\n        },\n        {\n          title: '成本中心',\n          property: 'costCenterCode',\n          nameProperty: 'costCenterName',\n          type: 'select',\n          selectOption: this.costCenterDatas,\n          selectKey: 'costCenterCode',\n          selectValue: 'costCenterName',\n          width: '140px'\n        },\n        {\n          title: '费用类型',\n          property: 'feeTypeCode',\n          nameProperty: 'feeTypeName',\n          type: 'select',\n          selectOption: this.feeTypeOptions,\n          selectKey: 'feeTypeCode',\n          selectValue: 'feeTypeName'\n        },\n        {\n          title: '产品',\n          property: 'productCode',\n          nameProperty: 'productName',\n          type: 'select',\n          selectOption: this.productDatas,\n          selectKey: 'productCode',\n          selectValue: 'productName',\n          width: '140px'\n        },\n        {\n          title: '含税金额',\n          property: 'amount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amount !== '') {\n              return kiloSplit(val.amount)\n            }\n            return 0\n          }\n        },\n        {\n          title: '不含税金额',\n          property: 'amountExcludingTax',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amountExcludingTax !== '') {\n              return kiloSplit(val.amountExcludingTax)\n            }\n            return 0\n          }\n        },\n        {\n          title: '税金',\n          property: 'amountTax',\n          type: 'number',\n          formatter: function (val) {\n            if (val.amountTax !== '') {\n              // return val.amount01\n              return kiloSplit(val.amountTax)\n            }\n            return 0\n          }\n        },\n        {\n          title: '其他金额',\n          property: 'otherAmount',\n          type: 'number',\n          formatter: function (val) {\n            if (val.otherAmount !== '') {\n              // return val.amount01\n              return kiloSplit(val.otherAmount)\n            }\n            return 0\n          }\n        },\n        {\n          title: '公司',\n          property: 'companyCode'\n        },\n        {\n          title: '往来单位1',\n          property: 'contactUnit1'\n        },\n        {\n          title: '往来单位2',\n          property: 'contactUnit2'\n        },\n        {\n          title: '说明',\n          property: 'summary',\n          type: 'textarea',\n          width: '160px'\n        }\n      ]\n    }\n  },\n  watch: {\n    commandDialog (cur, old) {\n      if (!cur) {\n        this.commandTextarea = ''\n      }\n    },\n    hubCommandDialog (cur, old) {\n      if (!cur) {\n        this.hubchangeForm.textarea = ''\n      }\n    }\n  },\n  methods: {\n    ...mapActions('costCertificateListView', ['searchDialogData']),\n    ...mapActions('costList', ['search', 'createCertificate']),\n    ...mapActions('certificateTest', [\n      'getFeeType',\n      'costCenterData',\n      'companySectionData',\n      'contactUnitData',\n      'getAscriptionFlag1',\n      'getAscriptionFlag2',\n      'purposeData',\n      'productData',\n      'sceneData'\n    ]),\n    // 判断哪个事件\n    handleCommand (command, item) {\n      console.log('command', command)\n      console.log('item.type', item.type)\n      this.buttonType = command\n      this.commandType = item.type\n      this.commandOpt = item.opt\n      if (item.type === 'writeOff' || item.type === 'correct') {\n        this.hubCommandOpt(item)\n      } else if (item.type === 'delete' || item.type === 'certificate') {\n        this.unhubCommandOpt(item)\n      }\n    },\n    // 删除操作 and 生成凭证\n    unhubCommandOpt (item) {\n      let url = ''\n      let param = {}\n      let opt = ''\n      if (this.buttonType === 'select') {\n        if (this.selectOptions.length === 0) {\n          this.$message.warning('请选择数据')\n          return\n        }\n        let idArr = []\n        this.selectOptions.forEach(v => {\n          idArr.push(v.id)\n        })\n        url = api.businessBySelect\n        param = { ids: idArr }\n        opt = '选择'\n      } else if (this.buttonType === 'query') {\n        let data = {}\n        data.filter = this.$refs.filters.getValue()\n        data.filter.fundDirect = this.fundDirect\n        data.filter.businessScope = this.businessScope\n        url = api.businessbyParam\n        param = { filter: { ...data.filter } }\n        opt = '条件'\n      } else if (this.buttonType === 'input') {\n        this.commandTitle = item.titleName\n        this.commandDialog = true\n        url = api.businessbyInput\n        param = {\n          itemText: this.commandTextarea\n        }\n        return\n      } else if (this.buttonType === 'scene') {\n        this.commandTitle = item.titleName\n        this.sceneDialog = true\n        url = api.businessbyInput\n        this.sceneData().then(res => {\n          this.sceneConfigList = res.result || []\n        })\n        return\n      }\n      this.$confirm('是否按' + opt + '批量' + item.titleName + '?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$http\n          .post(url, {\n            ...param,\n            type: item.type\n          })\n          .then(res => {\n            if (res.code === 0) {\n              this.$message.success(res.message)\n              this.handleSearch()\n            } else {\n              this.$message.warning(res.message)\n            }\n          })\n          .catch(e => {\n            console.log(e)\n          })\n      })\n    },\n    // 冲销 and 冲正\n    hubCommandOpt (item) {\n      if (this.buttonType === 'select') {\n        if (this.selectOptions.length === 0) {\n          this.$message.warning('请选择数据')\n          return\n        }\n      }\n      this.commandTitle = item.titleName\n      this.hubCommandDialog = true\n    },\n    handleCancel () {\n      this.commandDialog = false\n    },\n    handleInput () {\n      this.$confirm('是否按录入批量' + this.commandOpt + '?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$http\n          .post(api.businessbyInput, {\n            itemText: this.commandTextarea,\n            type: this.commandType\n          })\n          .then(res => {\n            if (res.code === 0) {\n              this.$message.success(res.message)\n              this.handleSearch()\n            } else {\n              this.$message.warning(res.message)\n            }\n          })\n          .finally(() => {\n            this.commandDialog = false\n          })\n      })\n    },\n    handleSceneCertificate () {\n      if (!this.sceneId) {\n        this.$message.warning('场景不可为空')\n        return\n      }\n      if (!this.commandTextarea) {\n        this.$message.warning('录入内容不可为空')\n        return\n      }\n      this.$confirm('是否按场景批量' + this.commandOpt + '?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$http\n          .post(api.businessbyInput, {\n            itemText: this.commandTextarea,\n            type: this.commandType,\n            sceneId: this.sceneId\n          })\n          .then(res => {\n            if (res.code === 0) {\n              this.$message.success(res.message)\n              this.handleSearch()\n            } else {\n              this.$message.warning(res.message)\n            }\n          })\n          .finally(() => {\n            this.sceneDialog = false\n          })\n      })\n    },\n    hubhandleCancel () {\n      this.hubCommandDialog = false\n    },\n    provisionFormCancel () {\n      this.provisionFormDialog = false\n    },\n    getProvisionInfo () {\n      this.$http\n        .post(api.getProvisionInfo, {\n          accountMonth: this.provisionForm.accountMonth,\n          orderTypeCode: this.fundDirect === 'payment' ? 'bankPayment' : 'bankReceive'\n        })\n        .then(res => {\n          if (res.code === 0) {\n            this.provisionForm.info = res.message\n          } else {\n            this.$message.warning(res.message)\n          }\n        })\n    },\n    doProvision () {\n      this.$http\n        .post(api.doPovision, {\n          accountMonth: this.provisionForm.accountMonth,\n          orderTypeCode: this.fundDirect === 'payment' ? 'bankPayment' : 'bankReceive'\n        })\n        .then(res => {\n          this.provisionFormDialog = false\n          if (res.code === 0) {\n            this.$message.success(res.message)\n          } else {\n            this.$message.warning(res.message)\n          }\n        })\n    },\n    hubhandleInput () {\n      let url = ''\n      let param = {}\n      let opt = ''\n      if (this.buttonType === 'select') {\n        let idArr = []\n        this.selectOptions.forEach(v => {\n          idArr.push(v.id)\n        })\n        url = api.businessBySelect\n        param = { ids: idArr }\n        opt = '选择'\n      } else if (this.buttonType === 'query') {\n        let data = {}\n        data.filter = this.$refs.filters.getValue()\n        data.filter.fundDirect = this.fundDirect\n        data.filter.businessScope = this.businessScope\n        url = api.businessbyParam\n        param = { filter: { ...data.filter } }\n        opt = '条件'\n      } else if (this.buttonType === 'input') {\n        url = api.businessbyInput\n        param = {\n          itemText: this.hubchangeForm.textarea\n        }\n        opt = '录入'\n      }\n      this.$confirm('是否按' + opt + '批量' + this.commandOpt + '?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$http\n          .post(url, {\n            ...param,\n            type: this.commandType,\n            accountTime: this.hubchangeForm.hubaccountTime\n          })\n          .then(res => {\n            if (res.code === 0) {\n              this.$message.success(res.message)\n              this.handleSearch()\n            } else {\n              this.$message.warning(res.message)\n            }\n          })\n          .finally(() => {\n            this.hubCommandDialog = false\n          })\n      })\n    },\n    handleCurrentChange (pageNum) {\n      this.pageNum = pageNum\n      this.handleSearch()\n    },\n    handleSizeChange (pageSize) {\n      this.pageSize = pageSize\n      this.handleSearch()\n    },\n    editDetailClick (row) {\n      this.$nextTick(() => {\n        for (let key in this.detailFormNew) {\n          this.detailForm[key] = this.detailFormNew[key]\n        }\n        this.detailFormList = []\n        this.showEditDetailDialog = true\n        this.getList(row.id, row.sysCtime)\n      })\n      this.contactUnitData().then(res => {\n        this.contactUnitOptions = res.result || []\n      })\n      this.getAscriptionFlag1().then(res => {\n        this.ascriptionFlagOptions1 = res.result || []\n      })\n      this.getAscriptionFlag2().then(res => {\n        this.ascriptionFlagOptions2 = res.result || []\n      })\n      this.getFeeType().then(res => {\n        this.feeTypeOption = res.result || []\n      })\n      this.costCenterData().then(res => {\n        this.costCenterDataOption = res.result || []\n      })\n      this.productData().then(res => {\n        this.productDataOption = res.result || []\n      })\n    },\n    handleSelectItem (row, col) {\n      row[col.nameProperty] = col.selectOption.find(v => v[col.selectKey] === row[col.property])[col.selectValue] || ''\n    },\n    editSave () {\n      this.$refs['detailForm'].validate(valid => {\n        if (valid) {\n          if (this.detailForm.contactUnit1) {\n            this.detailForm.contactUnitName1 =\n              this.contactUnitOptions.find(v => v.unitCode === this.detailForm.contactUnit1).unitName || ''\n          }\n          if (this.detailForm.contactUnit2) {\n            this.detailForm.contactUnitName2 =\n              this.contactUnitOptions.find(v => v.unitCode === this.detailForm.contactUnit2).unitName || ''\n          }\n          this.$http\n            .post(api.updateBusiness, {\n              entries: this.detailFormList,\n              head: this.detailForm\n            })\n            .then(res => {\n              this.showEditDetailDialog = false\n              if (res.code === 0) {\n                this.$message.success(res.message)\n              }\n            })\n        }\n      })\n    },\n    getList (id, sysCtime) {\n      this.$http\n        .post(api.costDetailSearch, {\n          id: id,\n          sysCtime: sysCtime\n        })\n        .then(res => {\n          if (res.code === 0) {\n            for (let key in res.result.head) {\n              if (key !== 'entryList' && key !== 'certificateList') {\n                this.$set(this.form, key, res.result.head[key])\n              }\n            }\n            this.detailForm = res.result.head\n            this.detailFormList = res.result.entries\n            console.log(this.listData, 'listData')\n          } else {\n            this.$message.warning(res.message)\n          }\n        })\n    },\n    handleDetail (row) {\n      // this.$router.push(`/fap_receiptpayment_list/${val.settlementNo}`)\n      this.dialogDataId = {\n        id: row.id,\n        sysCtime: row.sysCtime\n      }\n      console.log(this.dialogDataId, 'ididididid')\n      this.showDetailDialog = true\n      this.$nextTick(() => {\n        this.$refs.costListView.clickMe(this.dialogDataId)\n      })\n    },\n    writeOffDetail (row) {\n      this.writeOffDataId = {\n        id: row.id,\n        sysCtime: row.sysCtime\n      }\n      this.showWriteOffDialog = true\n      this.$nextTick(() => {\n        this.$refs.costWriteOffListView.clickMe(this.writeOffDataId)\n      })\n    },\n    handleDetailGoto (row) {\n      if (row.settlementNo !== '') {\n        this.$router.push(`/$define/fap_receiptpayment_list?orderNo=${row.settlementNo}`)\n      }\n    },\n    handleCertificateDetail (row) {\n      // this.$router.push(`/costCertificateList/${row.businessNo}/${row.sysCtime}`)\n      this.searchDialogData({ id: row.id, sysCtime: row.sysCtime })\n      this.showCertificateDialog = true\n    },\n    deleteClick (row) {\n      this.deleteIds = []\n      let obj = {\n        id: row.id,\n        businessNo: row.businessNo,\n        correctingNo: row.correctingNo,\n        orderTypeCode: row.orderTypeCode\n      }\n      this.deleteIds.push(obj)\n      this.showDeleteDialog = true\n    },\n    batchDelete () {\n      if (this.selectOptions.length === 0) {\n        this.$message.warning('请选择数据')\n        return\n      }\n      let clientSelect = this.selectOptions.find(v => v.clientCode !== 'HANDWORK')\n      if (clientSelect) {\n        this.$message.warning('请选择手工导入的数据(来源为HANDWORK)')\n        return\n      }\n      let correctingSelect = this.selectOptions.find(v => v.correctingNo !== 1)\n      if (correctingSelect) {\n        this.$message.warning('选择的数据冲正序号不等于1,表示该数据已经冲正或冲销,不允许删除')\n        return\n      }\n      this.deleteIds = []\n      this.selectOptions.forEach(item => {\n        let obj = {\n          id: item.id,\n          businessNo: item.businessNo,\n          correctingNo: item.correctingNo,\n          orderTypeCode: item.orderTypeCode\n        }\n        this.deleteIds.push(obj)\n      })\n      this.showDeleteDialog = true\n      console.log(this.deleteIds, 'deleteIds')\n    },\n    doHandleDelete () {\n      this.showDeleteDialog = false\n      this.$http.post(api.businessDelete, this.deleteIds).then(res => {\n        if (res.code === 0) {\n          this.$message.success(res.message)\n        } else {\n          this.$message.warning(res.message)\n        }\n        this.handleSearch()\n      })\n    },\n    dataSearch () {\n      this.pageNum = 1\n      this.handleSearch()\n    },\n    handleSearch () {\n      if (!this.getParams().filter.accountTimeRange && this.getParams().filter.businessNo === '') {\n        this.$message.warning('会计日期/业务单据号，不可同时为空')\n        return\n      }\n      this.loading = true\n      this.search(this.getParams())\n        .then(() => {\n          this.loading = false\n        })\n        .catch(() => {\n          this.loading = false\n        })\n    },\n    conditionCertificateCreate () {\n      this.showConditionDialog = true\n    },\n    conditionHandleMulOpt () {\n      let data = {}\n      data.filter = this.$refs.filters.getValue()\n      data.filter.fundDirect = this.fundDirect\n      data.filter.businessScope = this.businessScope\n      data.pager = {\n        pageNum: this.pageNum,\n        pageSize: this.pageSize\n      }\n      this.$http.post(api.certificateCreateByCondition, data).then(res => {\n        if (res.code === 0) {\n          this.$message.success(res.message)\n          this.refleshCb()\n        } else {\n          this.$message.warning(res.message)\n        }\n        this.showConditionDialog = false\n      })\n    },\n    handleExport () {\n      let data = {}\n      data.filter = this.$refs.filters.getValue()\n      data.filter.fundDirect = this.fundDirect\n      data.filter.businessScope = this.businessScope\n      data.filter.fileName = getFileName(this.fundDirect)\n      this.$message.warning('正在下载，请稍后...')\n      window.open(api.costPayListExport + getParamsUrl(data.filter), '_self')\n    },\n    initConfirmForm () {\n      for (let key in this.confirmForm) {\n        this.confirmForm[key] = ''\n      }\n    },\n    handleConfirm (row, index, col, action, cb) {\n      this.initConfirmForm()\n      this.showConfirmDialog = true\n      this.orderNoOptions = []\n      // this.form.sysCtime = new Date(row.sysCtime)\n      // this.form.paymentTime = new Date()\n      // this.form.id = row.id\n      this.payConfirmList = [row]\n    },\n    changePurposeType () {\n      let purposeType = this.confirmForm.purposeType\n      let companyCode = this.payConfirmList[0].companyCode\n      this.$http.post(`${api.getPaymentOrderList}?purposeType=${purposeType}&companyCode=${companyCode}`).then(res => {\n        this.orderNoOptions = res.result\n        console.log(res, 'purposeTypepurposeTypepurposeTypepurposeType')\n      })\n    },\n    changeOrderNo (row) {\n      this.confirmForm.businessNo = row.businessNo\n      this.confirmForm.amount = row.amount\n      this.confirmForm.remainAmount = row.remainAmount\n      this.confirmForm.companyName = row.companyName\n      this.confirmForm.bankAccountNumber = row.accountId\n      this.confirmForm.bankAccountName = row.accountName\n      this.confirmForm.bankName = row.accountBankName\n      this.confirmForm.remark = row.remark\n      this.confirmForm.id = row.id\n      this.confirmForm.receiptTime = row.businessTime\n    },\n    doHandleConfirm (row, index, col, action, cb) {\n      let params = []\n      this.payConfirmList.forEach(item => {\n        let pushItem = {}\n        pushItem.receiptPaymentNo = this.confirmForm.businessNo\n        pushItem.receiptPaymentId = this.confirmForm.id\n        pushItem.businessNo = item.businessNo\n        pushItem.orderTypeCode = item.orderTypeCode\n        pushItem.businessId = item.id\n        pushItem.orderTypeName = item.orderTypeName\n        pushItem.accountTime = moment(this.confirmForm.accountTime).valueOf()\n        params.push(pushItem)\n      })\n      this.confirmLoading = true\n      this.$http\n        .post(api.paymentConfirm, params)\n        .then(res => {\n          if (res.code === 0) {\n            this.$message.success(res.message)\n          } else {\n            this.$message.warning(res.message)\n          }\n          this.confirmLoading = false\n          this.showConfirmDialog = false\n          this.handleSearch()\n        })\n        .catch(() => {\n          this.confirmLoading = false\n        })\n    },\n    doHandleCorrent () {\n      this.showCorrentDialog = false\n      let url = ''\n      if (this.correctType === '1') {\n        url = api.businessCorrent\n      } else {\n        url = api.businessWriteOff\n      }\n      this.$http.post(url, this.form).then(res => {\n        if (res.code === 0) {\n          this.$message.success(res.message)\n        } else {\n          this.$message.warning(res.message)\n        }\n        this.handleSearch()\n      })\n    },\n    getParams () {\n      let data = {}\n      data.filter = this.$refs.filters.getValue()\n      data.filter.fundDirect = this.fundDirect\n      data.filter.businessScope = this.businessScope\n      data.pager = {\n        pageNum: this.pageNum,\n        pageSize: this.pageSize\n      }\n      return data\n    },\n    handleMulOpt () {\n      if (this.selectOptions.length === 0) {\n        this.$message.warning('请选择数据')\n        return\n      }\n      let businessNoArr = []\n      this.selectOptions.forEach(item => {\n        let pushItem = {}\n        pushItem.businessNo = item.businessNo\n        pushItem.sysCtime = item.sysCtime\n        pushItem.orderTypeCode = item.orderTypeCode\n        pushItem.correctingNo = item.correctingNo\n        pushItem.id = item.id\n        businessNoArr.push(pushItem)\n      })\n      console.log(businessNoArr)\n      this.createCertificate(businessNoArr)\n      this.$message.success('凭证生成中,请稍候查看数据')\n    },\n    handlePayConfirm () {\n      if (this.selectOptions.length === 0) {\n        this.$message.warning('请选择数据')\n        return\n      }\n      let cantSelect = this.selectOptions.find(v => v.paymentFlag === 1)\n      if (cantSelect) {\n        this.$message.warning('选择的数据已收付，请重新选择')\n        return\n      }\n      let cantSelectCorrectingFlag = this.selectOptions.find(v => v.correctingFlag !== 1)\n      if (cantSelectCorrectingFlag) {\n        this.$message.warning('选择的数据冲正有效为否，请重新选择')\n        return\n      }\n      for (let key in this.confirmForm) {\n        this.confirmForm[key] = ''\n      }\n      let businessNoList = []\n      let companySet = new Set()\n      this.selectOptions.forEach(item => {\n        businessNoList.push(item.businessNo)\n        companySet.add(item.companyCode)\n      })\n      if (companySet.size !== 1) {\n        this.$message.warning('所选数据公司不一致，请重新选择')\n        return\n      }\n      const data = new FormData()\n      let strParam = businessNoList.toString()\n      console.log(strParam, 'strParam')\n      data.append('businessNoList', strParam)\n      this.$http.post(api.remainAmountSum, data).then(res => {\n        if (res.code === 0) {\n          this.confirmForm.remainAmountSum = res.result.remainAmountSum.toFixed(2)\n          this.confirmForm.paymentAmountSum = res.result.paymentAmountSum.toFixed(2)\n          let entryList = res.result.entryList\n          this.selectOptions.forEach(item => {\n            entryList.forEach(entry => {\n              if (item.businessNo === entry.businessNo) {\n                item.paymentAmount = entry.paymentAmount\n              }\n            })\n          })\n        }\n        this.showConfirmDialog = true\n      })\n\n      this.confirmForm.amountTotal = this.calAmountlFromSelection('amount')\n      this.confirmForm.taxAmountTotal = this.calAmountlFromSelection('amountTax')\n      this.confirmForm.amountExcludingTaxTotal = this.calAmountlFromSelection('amountExcludingTax')\n      this.confirmForm.otherAmountTotal = this.calAmountlFromSelection('otherAmount')\n      this.payConfirmList = this.selectOptions\n      // this.selection\n    },\n    handleMulDownload () {\n      if (this.businessScope === 'business') {\n        window.open(\n          'https://common-1252347619.cosgz.myqcloud.com/template/3b6d7776-290c-481f-969d-1efd64adda4d.xlsx',\n          '_self'\n        )\n      } else if (this.businessScope === 'writeoff') {\n        window.open(\n          'https://common-1252347619.cosgz.myqcloud.com/common/dfbd078f-6334-43f0-b958-ce799b857359.xlsx',\n          '_self'\n        )\n      }\n    },\n    handleImport () {\n      this.$refs.file.click()\n    },\n    handleProvisionInfo () {\n      this.provisionForm.info = ''\n      this.provisionFormDialog = true\n    },\n    fileChange (e) {\n      const fileInput = e.target\n      const data = new FormData()\n      data.append('file', fileInput.files[0])\n      data.append('fundDirect', this.fundDirect)\n      data.append('businessScope', this.businessScope)\n      let url = api.handworkUpload\n      if (this.businessScope === 'writeoff') {\n        url = api.writeoffOrderImport\n      }\n      this.$http\n        .post(url, data)\n        .then(res => {\n          if (res.code === 0) {\n            this.$message.success(res.message)\n            this.refleshCb()\n          } else {\n            this.$message.warning(res.message)\n          }\n        })\n        .finally(() => {\n          e.target.value = ''\n        })\n    },\n    calAmountlFromSelection (amount) {\n      let totalAmount = 0\n      totalAmount = this.selectOptions.reduce((pre, curr) => {\n        if (typeof curr[amount] === 'number') {\n          if (!curr[amount]) {\n            curr[amount] = 0\n          }\n          return parseFloat((pre + curr[amount]).toFixed(2))\n        } else {\n          return pre\n        }\n      }, 0)\n      return totalAmount.toFixed(2)\n    },\n    handleSelection (selection, action) {\n      this.selectOptions = selection\n    },\n    selectRadio (selection) {\n      this.correctType = selection\n    },\n    getCostList () {\n      this.init()\n      if (this.$refs.filters) {\n        if (new Date().getDate() < 13) {\n          this.$refs.filters.model.accountTimeRange = [\n            moment()\n              .subtract(1, 'months')\n              .startOf('month')\n              .format('YYYY-MM-DD'),\n            moment()\n              .subtract(1, 'months')\n              .endOf('month')\n              .format('YYYY-MM-DD')\n          ]\n        } else {\n          this.$refs.filters.model.accountTimeRange = [\n            moment()\n              .startOf('month')\n              .format('YYYY-MM-DD'),\n            moment().format('YYYY-MM-DD')\n          ]\n        }\n      }\n      this.handleSearch()\n    },\n    setFilters () {\n      const val = this.filters\n      const orderTypeCodeFilters = val.find(x => x.name === 'orderTypeCode')\n      orderTypeCodeFilters.options = this.orderTypeCodes\n      const businessTypeCodeFilters = val.find(x => x.name === 'businessTypeCode')\n      businessTypeCodeFilters.options = this.businessTypeCodes\n      if (this.pageSource !== 'assetsBusiness' && this.businessScope === 'business') {\n        this.payConfirmShow = true\n      } else if (this.businessScope === 'writeoff') {\n        this.payConfirmShow = true\n      } else {\n        this.payConfirmShow = false\n      }\n      if (this.businessScope === 'receiptPayment') {\n        this.bankDataShow = true\n      } else {\n        this.bankDataShow = false\n      }\n    },\n    init () {\n      this.$watch(val => {\n        this.setFilters()\n      })\n    }\n  },\n  beforeRouteUpdate (to, from, next) {\n    next()\n  }\n}\n</script>\n<style scoped>\n.el-dropdown-menu__item {\n  line-height: 30px;\n}\n</style>\n<style lang=\"scss\">\n.cost-list {\n  .el-dialog__body {\n    max-height: 550px;\n    overflow: auto;\n  }\n  .confirm-form-dialog {\n    div.panel-header.clearfix,\n    .panel-header .table-header {\n      height: 0px;\n      padding: 0px;\n    }\n  }\n  .detail-form {\n    .el-input {\n      width: 200px;\n    }\n  }\n}\n</style>\n\n```\n","slug":"日志/添加多选框","published":1,"updated":"2022-06-22T09:20:49.822Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl4wkcpc8000b0o2m380997mq","content":"<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br><span class=\"line\">496</span><br><span class=\"line\">497</span><br><span class=\"line\">498</span><br><span class=\"line\">499</span><br><span class=\"line\">500</span><br><span class=\"line\">501</span><br><span class=\"line\">502</span><br><span class=\"line\">503</span><br><span class=\"line\">504</span><br><span class=\"line\">505</span><br><span class=\"line\">506</span><br><span class=\"line\">507</span><br><span class=\"line\">508</span><br><span class=\"line\">509</span><br><span class=\"line\">510</span><br><span class=\"line\">511</span><br><span class=\"line\">512</span><br><span class=\"line\">513</span><br><span class=\"line\">514</span><br><span class=\"line\">515</span><br><span class=\"line\">516</span><br><span class=\"line\">517</span><br><span class=\"line\">518</span><br><span class=\"line\">519</span><br><span class=\"line\">520</span><br><span class=\"line\">521</span><br><span class=\"line\">522</span><br><span class=\"line\">523</span><br><span class=\"line\">524</span><br><span class=\"line\">525</span><br><span class=\"line\">526</span><br><span class=\"line\">527</span><br><span class=\"line\">528</span><br><span class=\"line\">529</span><br><span class=\"line\">530</span><br><span class=\"line\">531</span><br><span class=\"line\">532</span><br><span class=\"line\">533</span><br><span class=\"line\">534</span><br><span class=\"line\">535</span><br><span class=\"line\">536</span><br><span class=\"line\">537</span><br><span class=\"line\">538</span><br><span class=\"line\">539</span><br><span class=\"line\">540</span><br><span class=\"line\">541</span><br><span class=\"line\">542</span><br><span class=\"line\">543</span><br><span class=\"line\">544</span><br><span class=\"line\">545</span><br><span class=\"line\">546</span><br><span class=\"line\">547</span><br><span class=\"line\">548</span><br><span class=\"line\">549</span><br><span class=\"line\">550</span><br><span class=\"line\">551</span><br><span class=\"line\">552</span><br><span class=\"line\">553</span><br><span class=\"line\">554</span><br><span class=\"line\">555</span><br><span class=\"line\">556</span><br><span class=\"line\">557</span><br><span class=\"line\">558</span><br><span class=\"line\">559</span><br><span class=\"line\">560</span><br><span class=\"line\">561</span><br><span class=\"line\">562</span><br><span class=\"line\">563</span><br><span class=\"line\">564</span><br><span class=\"line\">565</span><br><span class=\"line\">566</span><br><span class=\"line\">567</span><br><span class=\"line\">568</span><br><span class=\"line\">569</span><br><span class=\"line\">570</span><br><span class=\"line\">571</span><br><span class=\"line\">572</span><br><span class=\"line\">573</span><br><span class=\"line\">574</span><br><span class=\"line\">575</span><br><span class=\"line\">576</span><br><span class=\"line\">577</span><br><span class=\"line\">578</span><br><span class=\"line\">579</span><br><span class=\"line\">580</span><br><span class=\"line\">581</span><br><span class=\"line\">582</span><br><span class=\"line\">583</span><br><span class=\"line\">584</span><br><span class=\"line\">585</span><br><span class=\"line\">586</span><br><span class=\"line\">587</span><br><span class=\"line\">588</span><br><span class=\"line\">589</span><br><span class=\"line\">590</span><br><span class=\"line\">591</span><br><span class=\"line\">592</span><br><span class=\"line\">593</span><br><span class=\"line\">594</span><br><span class=\"line\">595</span><br><span class=\"line\">596</span><br><span class=\"line\">597</span><br><span class=\"line\">598</span><br><span class=\"line\">599</span><br><span class=\"line\">600</span><br><span class=\"line\">601</span><br><span class=\"line\">602</span><br><span class=\"line\">603</span><br><span class=\"line\">604</span><br><span class=\"line\">605</span><br><span class=\"line\">606</span><br><span class=\"line\">607</span><br><span class=\"line\">608</span><br><span class=\"line\">609</span><br><span class=\"line\">610</span><br><span class=\"line\">611</span><br><span class=\"line\">612</span><br><span class=\"line\">613</span><br><span class=\"line\">614</span><br><span class=\"line\">615</span><br><span class=\"line\">616</span><br><span class=\"line\">617</span><br><span class=\"line\">618</span><br><span class=\"line\">619</span><br><span class=\"line\">620</span><br><span class=\"line\">621</span><br><span class=\"line\">622</span><br><span class=\"line\">623</span><br><span class=\"line\">624</span><br><span class=\"line\">625</span><br><span class=\"line\">626</span><br><span class=\"line\">627</span><br><span class=\"line\">628</span><br><span class=\"line\">629</span><br><span class=\"line\">630</span><br><span class=\"line\">631</span><br><span class=\"line\">632</span><br><span class=\"line\">633</span><br><span class=\"line\">634</span><br><span class=\"line\">635</span><br><span class=\"line\">636</span><br><span class=\"line\">637</span><br><span class=\"line\">638</span><br><span class=\"line\">639</span><br><span class=\"line\">640</span><br><span class=\"line\">641</span><br><span class=\"line\">642</span><br><span class=\"line\">643</span><br><span class=\"line\">644</span><br><span class=\"line\">645</span><br><span class=\"line\">646</span><br><span class=\"line\">647</span><br><span class=\"line\">648</span><br><span class=\"line\">649</span><br><span class=\"line\">650</span><br><span class=\"line\">651</span><br><span class=\"line\">652</span><br><span class=\"line\">653</span><br><span class=\"line\">654</span><br><span class=\"line\">655</span><br><span class=\"line\">656</span><br><span class=\"line\">657</span><br><span class=\"line\">658</span><br><span class=\"line\">659</span><br><span class=\"line\">660</span><br><span class=\"line\">661</span><br><span class=\"line\">662</span><br><span class=\"line\">663</span><br><span class=\"line\">664</span><br><span class=\"line\">665</span><br><span class=\"line\">666</span><br><span class=\"line\">667</span><br><span class=\"line\">668</span><br><span class=\"line\">669</span><br><span class=\"line\">670</span><br><span class=\"line\">671</span><br><span class=\"line\">672</span><br><span class=\"line\">673</span><br><span class=\"line\">674</span><br><span class=\"line\">675</span><br><span class=\"line\">676</span><br><span class=\"line\">677</span><br><span class=\"line\">678</span><br><span class=\"line\">679</span><br><span class=\"line\">680</span><br><span class=\"line\">681</span><br><span class=\"line\">682</span><br><span class=\"line\">683</span><br><span class=\"line\">684</span><br><span class=\"line\">685</span><br><span class=\"line\">686</span><br><span class=\"line\">687</span><br><span class=\"line\">688</span><br><span class=\"line\">689</span><br><span class=\"line\">690</span><br><span class=\"line\">691</span><br><span class=\"line\">692</span><br><span class=\"line\">693</span><br><span class=\"line\">694</span><br><span class=\"line\">695</span><br><span class=\"line\">696</span><br><span class=\"line\">697</span><br><span class=\"line\">698</span><br><span class=\"line\">699</span><br><span class=\"line\">700</span><br><span class=\"line\">701</span><br><span class=\"line\">702</span><br><span class=\"line\">703</span><br><span class=\"line\">704</span><br><span class=\"line\">705</span><br><span class=\"line\">706</span><br><span class=\"line\">707</span><br><span class=\"line\">708</span><br><span class=\"line\">709</span><br><span class=\"line\">710</span><br><span class=\"line\">711</span><br><span class=\"line\">712</span><br><span class=\"line\">713</span><br><span class=\"line\">714</span><br><span class=\"line\">715</span><br><span class=\"line\">716</span><br><span class=\"line\">717</span><br><span class=\"line\">718</span><br><span class=\"line\">719</span><br><span class=\"line\">720</span><br><span class=\"line\">721</span><br><span class=\"line\">722</span><br><span class=\"line\">723</span><br><span class=\"line\">724</span><br><span class=\"line\">725</span><br><span class=\"line\">726</span><br><span class=\"line\">727</span><br><span class=\"line\">728</span><br><span class=\"line\">729</span><br><span class=\"line\">730</span><br><span class=\"line\">731</span><br><span class=\"line\">732</span><br><span class=\"line\">733</span><br><span class=\"line\">734</span><br><span class=\"line\">735</span><br><span class=\"line\">736</span><br><span class=\"line\">737</span><br><span class=\"line\">738</span><br><span class=\"line\">739</span><br><span class=\"line\">740</span><br><span class=\"line\">741</span><br><span class=\"line\">742</span><br><span class=\"line\">743</span><br><span class=\"line\">744</span><br><span class=\"line\">745</span><br><span class=\"line\">746</span><br><span class=\"line\">747</span><br><span class=\"line\">748</span><br><span class=\"line\">749</span><br><span class=\"line\">750</span><br><span class=\"line\">751</span><br><span class=\"line\">752</span><br><span class=\"line\">753</span><br><span class=\"line\">754</span><br><span class=\"line\">755</span><br><span class=\"line\">756</span><br><span class=\"line\">757</span><br><span class=\"line\">758</span><br><span class=\"line\">759</span><br><span class=\"line\">760</span><br><span class=\"line\">761</span><br><span class=\"line\">762</span><br><span class=\"line\">763</span><br><span class=\"line\">764</span><br><span class=\"line\">765</span><br><span class=\"line\">766</span><br><span class=\"line\">767</span><br><span class=\"line\">768</span><br><span class=\"line\">769</span><br><span class=\"line\">770</span><br><span class=\"line\">771</span><br><span class=\"line\">772</span><br><span class=\"line\">773</span><br><span class=\"line\">774</span><br><span class=\"line\">775</span><br><span class=\"line\">776</span><br><span class=\"line\">777</span><br><span class=\"line\">778</span><br><span class=\"line\">779</span><br><span class=\"line\">780</span><br><span class=\"line\">781</span><br><span class=\"line\">782</span><br><span class=\"line\">783</span><br><span class=\"line\">784</span><br><span class=\"line\">785</span><br><span class=\"line\">786</span><br><span class=\"line\">787</span><br><span class=\"line\">788</span><br><span class=\"line\">789</span><br><span class=\"line\">790</span><br><span class=\"line\">791</span><br><span class=\"line\">792</span><br><span class=\"line\">793</span><br><span class=\"line\">794</span><br><span class=\"line\">795</span><br><span class=\"line\">796</span><br><span class=\"line\">797</span><br><span class=\"line\">798</span><br><span class=\"line\">799</span><br><span class=\"line\">800</span><br><span class=\"line\">801</span><br><span class=\"line\">802</span><br><span class=\"line\">803</span><br><span class=\"line\">804</span><br><span class=\"line\">805</span><br><span class=\"line\">806</span><br><span class=\"line\">807</span><br><span class=\"line\">808</span><br><span class=\"line\">809</span><br><span class=\"line\">810</span><br><span class=\"line\">811</span><br><span class=\"line\">812</span><br><span class=\"line\">813</span><br><span class=\"line\">814</span><br><span class=\"line\">815</span><br><span class=\"line\">816</span><br><span class=\"line\">817</span><br><span class=\"line\">818</span><br><span class=\"line\">819</span><br><span class=\"line\">820</span><br><span class=\"line\">821</span><br><span class=\"line\">822</span><br><span class=\"line\">823</span><br><span class=\"line\">824</span><br><span class=\"line\">825</span><br><span class=\"line\">826</span><br><span class=\"line\">827</span><br><span class=\"line\">828</span><br><span class=\"line\">829</span><br><span class=\"line\">830</span><br><span class=\"line\">831</span><br><span class=\"line\">832</span><br><span class=\"line\">833</span><br><span class=\"line\">834</span><br><span class=\"line\">835</span><br><span class=\"line\">836</span><br><span class=\"line\">837</span><br><span class=\"line\">838</span><br><span class=\"line\">839</span><br><span class=\"line\">840</span><br><span class=\"line\">841</span><br><span class=\"line\">842</span><br><span class=\"line\">843</span><br><span class=\"line\">844</span><br><span class=\"line\">845</span><br><span class=\"line\">846</span><br><span class=\"line\">847</span><br><span class=\"line\">848</span><br><span class=\"line\">849</span><br><span class=\"line\">850</span><br><span class=\"line\">851</span><br><span class=\"line\">852</span><br><span class=\"line\">853</span><br><span class=\"line\">854</span><br><span class=\"line\">855</span><br><span class=\"line\">856</span><br><span class=\"line\">857</span><br><span class=\"line\">858</span><br><span class=\"line\">859</span><br><span class=\"line\">860</span><br><span class=\"line\">861</span><br><span class=\"line\">862</span><br><span class=\"line\">863</span><br><span class=\"line\">864</span><br><span class=\"line\">865</span><br><span class=\"line\">866</span><br><span class=\"line\">867</span><br><span class=\"line\">868</span><br><span class=\"line\">869</span><br><span class=\"line\">870</span><br><span class=\"line\">871</span><br><span class=\"line\">872</span><br><span class=\"line\">873</span><br><span class=\"line\">874</span><br><span class=\"line\">875</span><br><span class=\"line\">876</span><br><span class=\"line\">877</span><br><span class=\"line\">878</span><br><span class=\"line\">879</span><br><span class=\"line\">880</span><br><span class=\"line\">881</span><br><span class=\"line\">882</span><br><span class=\"line\">883</span><br><span class=\"line\">884</span><br><span class=\"line\">885</span><br><span class=\"line\">886</span><br><span class=\"line\">887</span><br><span class=\"line\">888</span><br><span class=\"line\">889</span><br><span class=\"line\">890</span><br><span class=\"line\">891</span><br><span class=\"line\">892</span><br><span class=\"line\">893</span><br><span class=\"line\">894</span><br><span class=\"line\">895</span><br><span class=\"line\">896</span><br><span class=\"line\">897</span><br><span class=\"line\">898</span><br><span class=\"line\">899</span><br><span class=\"line\">900</span><br><span class=\"line\">901</span><br><span class=\"line\">902</span><br><span class=\"line\">903</span><br><span class=\"line\">904</span><br><span class=\"line\">905</span><br><span class=\"line\">906</span><br><span class=\"line\">907</span><br><span class=\"line\">908</span><br><span class=\"line\">909</span><br><span class=\"line\">910</span><br><span class=\"line\">911</span><br><span class=\"line\">912</span><br><span class=\"line\">913</span><br><span class=\"line\">914</span><br><span class=\"line\">915</span><br><span class=\"line\">916</span><br><span class=\"line\">917</span><br><span class=\"line\">918</span><br><span class=\"line\">919</span><br><span class=\"line\">920</span><br><span class=\"line\">921</span><br><span class=\"line\">922</span><br><span class=\"line\">923</span><br><span class=\"line\">924</span><br><span class=\"line\">925</span><br><span class=\"line\">926</span><br><span class=\"line\">927</span><br><span class=\"line\">928</span><br><span class=\"line\">929</span><br><span class=\"line\">930</span><br><span class=\"line\">931</span><br><span class=\"line\">932</span><br><span class=\"line\">933</span><br><span class=\"line\">934</span><br><span class=\"line\">935</span><br><span class=\"line\">936</span><br><span class=\"line\">937</span><br><span class=\"line\">938</span><br><span class=\"line\">939</span><br><span class=\"line\">940</span><br><span class=\"line\">941</span><br><span class=\"line\">942</span><br><span class=\"line\">943</span><br><span class=\"line\">944</span><br><span class=\"line\">945</span><br><span class=\"line\">946</span><br><span class=\"line\">947</span><br><span class=\"line\">948</span><br><span class=\"line\">949</span><br><span class=\"line\">950</span><br><span class=\"line\">951</span><br><span class=\"line\">952</span><br><span class=\"line\">953</span><br><span class=\"line\">954</span><br><span class=\"line\">955</span><br><span class=\"line\">956</span><br><span class=\"line\">957</span><br><span class=\"line\">958</span><br><span class=\"line\">959</span><br><span class=\"line\">960</span><br><span class=\"line\">961</span><br><span class=\"line\">962</span><br><span class=\"line\">963</span><br><span class=\"line\">964</span><br><span class=\"line\">965</span><br><span class=\"line\">966</span><br><span class=\"line\">967</span><br><span class=\"line\">968</span><br><span class=\"line\">969</span><br><span class=\"line\">970</span><br><span class=\"line\">971</span><br><span class=\"line\">972</span><br><span class=\"line\">973</span><br><span class=\"line\">974</span><br><span class=\"line\">975</span><br><span class=\"line\">976</span><br><span class=\"line\">977</span><br><span class=\"line\">978</span><br><span class=\"line\">979</span><br><span class=\"line\">980</span><br><span class=\"line\">981</span><br><span class=\"line\">982</span><br><span class=\"line\">983</span><br><span class=\"line\">984</span><br><span class=\"line\">985</span><br><span class=\"line\">986</span><br><span class=\"line\">987</span><br><span class=\"line\">988</span><br><span class=\"line\">989</span><br><span class=\"line\">990</span><br><span class=\"line\">991</span><br><span class=\"line\">992</span><br><span class=\"line\">993</span><br><span class=\"line\">994</span><br><span class=\"line\">995</span><br><span class=\"line\">996</span><br><span class=\"line\">997</span><br><span class=\"line\">998</span><br><span class=\"line\">999</span><br><span class=\"line\">1000</span><br><span class=\"line\">1001</span><br><span class=\"line\">1002</span><br><span class=\"line\">1003</span><br><span class=\"line\">1004</span><br><span class=\"line\">1005</span><br><span class=\"line\">1006</span><br><span class=\"line\">1007</span><br><span class=\"line\">1008</span><br><span class=\"line\">1009</span><br><span class=\"line\">1010</span><br><span class=\"line\">1011</span><br><span class=\"line\">1012</span><br><span class=\"line\">1013</span><br><span class=\"line\">1014</span><br><span class=\"line\">1015</span><br><span class=\"line\">1016</span><br><span class=\"line\">1017</span><br><span class=\"line\">1018</span><br><span class=\"line\">1019</span><br><span class=\"line\">1020</span><br><span class=\"line\">1021</span><br><span class=\"line\">1022</span><br><span class=\"line\">1023</span><br><span class=\"line\">1024</span><br><span class=\"line\">1025</span><br><span class=\"line\">1026</span><br><span class=\"line\">1027</span><br><span class=\"line\">1028</span><br><span class=\"line\">1029</span><br><span class=\"line\">1030</span><br><span class=\"line\">1031</span><br><span class=\"line\">1032</span><br><span class=\"line\">1033</span><br><span class=\"line\">1034</span><br><span class=\"line\">1035</span><br><span class=\"line\">1036</span><br><span class=\"line\">1037</span><br><span class=\"line\">1038</span><br><span class=\"line\">1039</span><br><span class=\"line\">1040</span><br><span class=\"line\">1041</span><br><span class=\"line\">1042</span><br><span class=\"line\">1043</span><br><span class=\"line\">1044</span><br><span class=\"line\">1045</span><br><span class=\"line\">1046</span><br><span class=\"line\">1047</span><br><span class=\"line\">1048</span><br><span class=\"line\">1049</span><br><span class=\"line\">1050</span><br><span class=\"line\">1051</span><br><span class=\"line\">1052</span><br><span class=\"line\">1053</span><br><span class=\"line\">1054</span><br><span class=\"line\">1055</span><br><span class=\"line\">1056</span><br><span class=\"line\">1057</span><br><span class=\"line\">1058</span><br><span class=\"line\">1059</span><br><span class=\"line\">1060</span><br><span class=\"line\">1061</span><br><span class=\"line\">1062</span><br><span class=\"line\">1063</span><br><span class=\"line\">1064</span><br><span class=\"line\">1065</span><br><span class=\"line\">1066</span><br><span class=\"line\">1067</span><br><span class=\"line\">1068</span><br><span class=\"line\">1069</span><br><span class=\"line\">1070</span><br><span class=\"line\">1071</span><br><span class=\"line\">1072</span><br><span class=\"line\">1073</span><br><span class=\"line\">1074</span><br><span class=\"line\">1075</span><br><span class=\"line\">1076</span><br><span class=\"line\">1077</span><br><span class=\"line\">1078</span><br><span class=\"line\">1079</span><br><span class=\"line\">1080</span><br><span class=\"line\">1081</span><br><span class=\"line\">1082</span><br><span class=\"line\">1083</span><br><span class=\"line\">1084</span><br><span class=\"line\">1085</span><br><span class=\"line\">1086</span><br><span class=\"line\">1087</span><br><span class=\"line\">1088</span><br><span class=\"line\">1089</span><br><span class=\"line\">1090</span><br><span class=\"line\">1091</span><br><span class=\"line\">1092</span><br><span class=\"line\">1093</span><br><span class=\"line\">1094</span><br><span class=\"line\">1095</span><br><span class=\"line\">1096</span><br><span class=\"line\">1097</span><br><span class=\"line\">1098</span><br><span class=\"line\">1099</span><br><span class=\"line\">1100</span><br><span class=\"line\">1101</span><br><span class=\"line\">1102</span><br><span class=\"line\">1103</span><br><span class=\"line\">1104</span><br><span class=\"line\">1105</span><br><span class=\"line\">1106</span><br><span class=\"line\">1107</span><br><span class=\"line\">1108</span><br><span class=\"line\">1109</span><br><span class=\"line\">1110</span><br><span class=\"line\">1111</span><br><span class=\"line\">1112</span><br><span class=\"line\">1113</span><br><span class=\"line\">1114</span><br><span class=\"line\">1115</span><br><span class=\"line\">1116</span><br><span class=\"line\">1117</span><br><span class=\"line\">1118</span><br><span class=\"line\">1119</span><br><span class=\"line\">1120</span><br><span class=\"line\">1121</span><br><span class=\"line\">1122</span><br><span class=\"line\">1123</span><br><span class=\"line\">1124</span><br><span class=\"line\">1125</span><br><span class=\"line\">1126</span><br><span class=\"line\">1127</span><br><span class=\"line\">1128</span><br><span class=\"line\">1129</span><br><span class=\"line\">1130</span><br><span class=\"line\">1131</span><br><span class=\"line\">1132</span><br><span class=\"line\">1133</span><br><span class=\"line\">1134</span><br><span class=\"line\">1135</span><br><span class=\"line\">1136</span><br><span class=\"line\">1137</span><br><span class=\"line\">1138</span><br><span class=\"line\">1139</span><br><span class=\"line\">1140</span><br><span class=\"line\">1141</span><br><span class=\"line\">1142</span><br><span class=\"line\">1143</span><br><span class=\"line\">1144</span><br><span class=\"line\">1145</span><br><span class=\"line\">1146</span><br><span class=\"line\">1147</span><br><span class=\"line\">1148</span><br><span class=\"line\">1149</span><br><span class=\"line\">1150</span><br><span class=\"line\">1151</span><br><span class=\"line\">1152</span><br><span class=\"line\">1153</span><br><span class=\"line\">1154</span><br><span class=\"line\">1155</span><br><span class=\"line\">1156</span><br><span class=\"line\">1157</span><br><span class=\"line\">1158</span><br><span class=\"line\">1159</span><br><span class=\"line\">1160</span><br><span class=\"line\">1161</span><br><span class=\"line\">1162</span><br><span class=\"line\">1163</span><br><span class=\"line\">1164</span><br><span class=\"line\">1165</span><br><span class=\"line\">1166</span><br><span class=\"line\">1167</span><br><span class=\"line\">1168</span><br><span class=\"line\">1169</span><br><span class=\"line\">1170</span><br><span class=\"line\">1171</span><br><span class=\"line\">1172</span><br><span class=\"line\">1173</span><br><span class=\"line\">1174</span><br><span class=\"line\">1175</span><br><span class=\"line\">1176</span><br><span class=\"line\">1177</span><br><span class=\"line\">1178</span><br><span class=\"line\">1179</span><br><span class=\"line\">1180</span><br><span class=\"line\">1181</span><br><span class=\"line\">1182</span><br><span class=\"line\">1183</span><br><span class=\"line\">1184</span><br><span class=\"line\">1185</span><br><span class=\"line\">1186</span><br><span class=\"line\">1187</span><br><span class=\"line\">1188</span><br><span class=\"line\">1189</span><br><span class=\"line\">1190</span><br><span class=\"line\">1191</span><br><span class=\"line\">1192</span><br><span class=\"line\">1193</span><br><span class=\"line\">1194</span><br><span class=\"line\">1195</span><br><span class=\"line\">1196</span><br><span class=\"line\">1197</span><br><span class=\"line\">1198</span><br><span class=\"line\">1199</span><br><span class=\"line\">1200</span><br><span class=\"line\">1201</span><br><span class=\"line\">1202</span><br><span class=\"line\">1203</span><br><span class=\"line\">1204</span><br><span class=\"line\">1205</span><br><span class=\"line\">1206</span><br><span class=\"line\">1207</span><br><span class=\"line\">1208</span><br><span class=\"line\">1209</span><br><span class=\"line\">1210</span><br><span class=\"line\">1211</span><br><span class=\"line\">1212</span><br><span class=\"line\">1213</span><br><span class=\"line\">1214</span><br><span class=\"line\">1215</span><br><span class=\"line\">1216</span><br><span class=\"line\">1217</span><br><span class=\"line\">1218</span><br><span class=\"line\">1219</span><br><span class=\"line\">1220</span><br><span class=\"line\">1221</span><br><span class=\"line\">1222</span><br><span class=\"line\">1223</span><br><span class=\"line\">1224</span><br><span class=\"line\">1225</span><br><span class=\"line\">1226</span><br><span class=\"line\">1227</span><br><span class=\"line\">1228</span><br><span class=\"line\">1229</span><br><span class=\"line\">1230</span><br><span class=\"line\">1231</span><br><span class=\"line\">1232</span><br><span class=\"line\">1233</span><br><span class=\"line\">1234</span><br><span class=\"line\">1235</span><br><span class=\"line\">1236</span><br><span class=\"line\">1237</span><br><span class=\"line\">1238</span><br><span class=\"line\">1239</span><br><span class=\"line\">1240</span><br><span class=\"line\">1241</span><br><span class=\"line\">1242</span><br><span class=\"line\">1243</span><br><span class=\"line\">1244</span><br><span class=\"line\">1245</span><br><span class=\"line\">1246</span><br><span class=\"line\">1247</span><br><span class=\"line\">1248</span><br><span class=\"line\">1249</span><br><span class=\"line\">1250</span><br><span class=\"line\">1251</span><br><span class=\"line\">1252</span><br><span class=\"line\">1253</span><br><span class=\"line\">1254</span><br><span class=\"line\">1255</span><br><span class=\"line\">1256</span><br><span class=\"line\">1257</span><br><span class=\"line\">1258</span><br><span class=\"line\">1259</span><br><span class=\"line\">1260</span><br><span class=\"line\">1261</span><br><span class=\"line\">1262</span><br><span class=\"line\">1263</span><br><span class=\"line\">1264</span><br><span class=\"line\">1265</span><br><span class=\"line\">1266</span><br><span class=\"line\">1267</span><br><span class=\"line\">1268</span><br><span class=\"line\">1269</span><br><span class=\"line\">1270</span><br><span class=\"line\">1271</span><br><span class=\"line\">1272</span><br><span class=\"line\">1273</span><br><span class=\"line\">1274</span><br><span class=\"line\">1275</span><br><span class=\"line\">1276</span><br><span class=\"line\">1277</span><br><span class=\"line\">1278</span><br><span class=\"line\">1279</span><br><span class=\"line\">1280</span><br><span class=\"line\">1281</span><br><span class=\"line\">1282</span><br><span class=\"line\">1283</span><br><span class=\"line\">1284</span><br><span class=\"line\">1285</span><br><span class=\"line\">1286</span><br><span class=\"line\">1287</span><br><span class=\"line\">1288</span><br><span class=\"line\">1289</span><br><span class=\"line\">1290</span><br><span class=\"line\">1291</span><br><span class=\"line\">1292</span><br><span class=\"line\">1293</span><br><span class=\"line\">1294</span><br><span class=\"line\">1295</span><br><span class=\"line\">1296</span><br><span class=\"line\">1297</span><br><span class=\"line\">1298</span><br><span class=\"line\">1299</span><br><span class=\"line\">1300</span><br><span class=\"line\">1301</span><br><span class=\"line\">1302</span><br><span class=\"line\">1303</span><br><span class=\"line\">1304</span><br><span class=\"line\">1305</span><br><span class=\"line\">1306</span><br><span class=\"line\">1307</span><br><span class=\"line\">1308</span><br><span class=\"line\">1309</span><br><span class=\"line\">1310</span><br><span class=\"line\">1311</span><br><span class=\"line\">1312</span><br><span class=\"line\">1313</span><br><span class=\"line\">1314</span><br><span class=\"line\">1315</span><br><span class=\"line\">1316</span><br><span class=\"line\">1317</span><br><span class=\"line\">1318</span><br><span class=\"line\">1319</span><br><span class=\"line\">1320</span><br><span class=\"line\">1321</span><br><span class=\"line\">1322</span><br><span class=\"line\">1323</span><br><span class=\"line\">1324</span><br><span class=\"line\">1325</span><br><span class=\"line\">1326</span><br><span class=\"line\">1327</span><br><span class=\"line\">1328</span><br><span class=\"line\">1329</span><br><span class=\"line\">1330</span><br><span class=\"line\">1331</span><br><span class=\"line\">1332</span><br><span class=\"line\">1333</span><br><span class=\"line\">1334</span><br><span class=\"line\">1335</span><br><span class=\"line\">1336</span><br><span class=\"line\">1337</span><br><span class=\"line\">1338</span><br><span class=\"line\">1339</span><br><span class=\"line\">1340</span><br><span class=\"line\">1341</span><br><span class=\"line\">1342</span><br><span class=\"line\">1343</span><br><span class=\"line\">1344</span><br><span class=\"line\">1345</span><br><span class=\"line\">1346</span><br><span class=\"line\">1347</span><br><span class=\"line\">1348</span><br><span class=\"line\">1349</span><br><span class=\"line\">1350</span><br><span class=\"line\">1351</span><br><span class=\"line\">1352</span><br><span class=\"line\">1353</span><br><span class=\"line\">1354</span><br><span class=\"line\">1355</span><br><span class=\"line\">1356</span><br><span class=\"line\">1357</span><br><span class=\"line\">1358</span><br><span class=\"line\">1359</span><br><span class=\"line\">1360</span><br><span class=\"line\">1361</span><br><span class=\"line\">1362</span><br><span class=\"line\">1363</span><br><span class=\"line\">1364</span><br><span class=\"line\">1365</span><br><span class=\"line\">1366</span><br><span class=\"line\">1367</span><br><span class=\"line\">1368</span><br><span class=\"line\">1369</span><br><span class=\"line\">1370</span><br><span class=\"line\">1371</span><br><span class=\"line\">1372</span><br><span class=\"line\">1373</span><br><span class=\"line\">1374</span><br><span class=\"line\">1375</span><br><span class=\"line\">1376</span><br><span class=\"line\">1377</span><br><span class=\"line\">1378</span><br><span class=\"line\">1379</span><br><span class=\"line\">1380</span><br><span class=\"line\">1381</span><br><span class=\"line\">1382</span><br><span class=\"line\">1383</span><br><span class=\"line\">1384</span><br><span class=\"line\">1385</span><br><span class=\"line\">1386</span><br><span class=\"line\">1387</span><br><span class=\"line\">1388</span><br><span class=\"line\">1389</span><br><span class=\"line\">1390</span><br><span class=\"line\">1391</span><br><span class=\"line\">1392</span><br><span class=\"line\">1393</span><br><span class=\"line\">1394</span><br><span class=\"line\">1395</span><br><span class=\"line\">1396</span><br><span class=\"line\">1397</span><br><span class=\"line\">1398</span><br><span class=\"line\">1399</span><br><span class=\"line\">1400</span><br><span class=\"line\">1401</span><br><span class=\"line\">1402</span><br><span class=\"line\">1403</span><br><span class=\"line\">1404</span><br><span class=\"line\">1405</span><br><span class=\"line\">1406</span><br><span class=\"line\">1407</span><br><span class=\"line\">1408</span><br><span class=\"line\">1409</span><br><span class=\"line\">1410</span><br><span class=\"line\">1411</span><br><span class=\"line\">1412</span><br><span class=\"line\">1413</span><br><span class=\"line\">1414</span><br><span class=\"line\">1415</span><br><span class=\"line\">1416</span><br><span class=\"line\">1417</span><br><span class=\"line\">1418</span><br><span class=\"line\">1419</span><br><span class=\"line\">1420</span><br><span class=\"line\">1421</span><br><span class=\"line\">1422</span><br><span class=\"line\">1423</span><br><span class=\"line\">1424</span><br><span class=\"line\">1425</span><br><span class=\"line\">1426</span><br><span class=\"line\">1427</span><br><span class=\"line\">1428</span><br><span class=\"line\">1429</span><br><span class=\"line\">1430</span><br><span class=\"line\">1431</span><br><span class=\"line\">1432</span><br><span class=\"line\">1433</span><br><span class=\"line\">1434</span><br><span class=\"line\">1435</span><br><span class=\"line\">1436</span><br><span class=\"line\">1437</span><br><span class=\"line\">1438</span><br><span class=\"line\">1439</span><br><span class=\"line\">1440</span><br><span class=\"line\">1441</span><br><span class=\"line\">1442</span><br><span class=\"line\">1443</span><br><span class=\"line\">1444</span><br><span class=\"line\">1445</span><br><span class=\"line\">1446</span><br><span class=\"line\">1447</span><br><span class=\"line\">1448</span><br><span class=\"line\">1449</span><br><span class=\"line\">1450</span><br><span class=\"line\">1451</span><br><span class=\"line\">1452</span><br><span class=\"line\">1453</span><br><span class=\"line\">1454</span><br><span class=\"line\">1455</span><br><span class=\"line\">1456</span><br><span class=\"line\">1457</span><br><span class=\"line\">1458</span><br><span class=\"line\">1459</span><br><span class=\"line\">1460</span><br><span class=\"line\">1461</span><br><span class=\"line\">1462</span><br><span class=\"line\">1463</span><br><span class=\"line\">1464</span><br><span class=\"line\">1465</span><br><span class=\"line\">1466</span><br><span class=\"line\">1467</span><br><span class=\"line\">1468</span><br><span class=\"line\">1469</span><br><span class=\"line\">1470</span><br><span class=\"line\">1471</span><br><span class=\"line\">1472</span><br><span class=\"line\">1473</span><br><span class=\"line\">1474</span><br><span class=\"line\">1475</span><br><span class=\"line\">1476</span><br><span class=\"line\">1477</span><br><span class=\"line\">1478</span><br><span class=\"line\">1479</span><br><span class=\"line\">1480</span><br><span class=\"line\">1481</span><br><span class=\"line\">1482</span><br><span class=\"line\">1483</span><br><span class=\"line\">1484</span><br><span class=\"line\">1485</span><br><span class=\"line\">1486</span><br><span class=\"line\">1487</span><br><span class=\"line\">1488</span><br><span class=\"line\">1489</span><br><span class=\"line\">1490</span><br><span class=\"line\">1491</span><br><span class=\"line\">1492</span><br><span class=\"line\">1493</span><br><span class=\"line\">1494</span><br><span class=\"line\">1495</span><br><span class=\"line\">1496</span><br><span class=\"line\">1497</span><br><span class=\"line\">1498</span><br><span class=\"line\">1499</span><br><span class=\"line\">1500</span><br><span class=\"line\">1501</span><br><span class=\"line\">1502</span><br><span class=\"line\">1503</span><br><span class=\"line\">1504</span><br><span class=\"line\">1505</span><br><span class=\"line\">1506</span><br><span class=\"line\">1507</span><br><span class=\"line\">1508</span><br><span class=\"line\">1509</span><br><span class=\"line\">1510</span><br><span class=\"line\">1511</span><br><span class=\"line\">1512</span><br><span class=\"line\">1513</span><br><span class=\"line\">1514</span><br><span class=\"line\">1515</span><br><span class=\"line\">1516</span><br><span class=\"line\">1517</span><br><span class=\"line\">1518</span><br><span class=\"line\">1519</span><br><span class=\"line\">1520</span><br><span class=\"line\">1521</span><br><span class=\"line\">1522</span><br><span class=\"line\">1523</span><br><span class=\"line\">1524</span><br><span class=\"line\">1525</span><br><span class=\"line\">1526</span><br><span class=\"line\">1527</span><br><span class=\"line\">1528</span><br><span class=\"line\">1529</span><br><span class=\"line\">1530</span><br><span class=\"line\">1531</span><br><span class=\"line\">1532</span><br><span class=\"line\">1533</span><br><span class=\"line\">1534</span><br><span class=\"line\">1535</span><br><span class=\"line\">1536</span><br><span class=\"line\">1537</span><br><span class=\"line\">1538</span><br><span class=\"line\">1539</span><br><span class=\"line\">1540</span><br><span class=\"line\">1541</span><br><span class=\"line\">1542</span><br><span class=\"line\">1543</span><br><span class=\"line\">1544</span><br><span class=\"line\">1545</span><br><span class=\"line\">1546</span><br><span class=\"line\">1547</span><br><span class=\"line\">1548</span><br><span class=\"line\">1549</span><br><span class=\"line\">1550</span><br><span class=\"line\">1551</span><br><span class=\"line\">1552</span><br><span class=\"line\">1553</span><br><span class=\"line\">1554</span><br><span class=\"line\">1555</span><br><span class=\"line\">1556</span><br><span class=\"line\">1557</span><br><span class=\"line\">1558</span><br><span class=\"line\">1559</span><br><span class=\"line\">1560</span><br><span class=\"line\">1561</span><br><span class=\"line\">1562</span><br><span class=\"line\">1563</span><br><span class=\"line\">1564</span><br><span class=\"line\">1565</span><br><span class=\"line\">1566</span><br><span class=\"line\">1567</span><br><span class=\"line\">1568</span><br><span class=\"line\">1569</span><br><span class=\"line\">1570</span><br><span class=\"line\">1571</span><br><span class=\"line\">1572</span><br><span class=\"line\">1573</span><br><span class=\"line\">1574</span><br><span class=\"line\">1575</span><br><span class=\"line\">1576</span><br><span class=\"line\">1577</span><br><span class=\"line\">1578</span><br><span class=\"line\">1579</span><br><span class=\"line\">1580</span><br><span class=\"line\">1581</span><br><span class=\"line\">1582</span><br><span class=\"line\">1583</span><br><span class=\"line\">1584</span><br><span class=\"line\">1585</span><br><span class=\"line\">1586</span><br><span class=\"line\">1587</span><br><span class=\"line\">1588</span><br><span class=\"line\">1589</span><br><span class=\"line\">1590</span><br><span class=\"line\">1591</span><br><span class=\"line\">1592</span><br><span class=\"line\">1593</span><br><span class=\"line\">1594</span><br><span class=\"line\">1595</span><br><span class=\"line\">1596</span><br><span class=\"line\">1597</span><br><span class=\"line\">1598</span><br><span class=\"line\">1599</span><br><span class=\"line\">1600</span><br><span class=\"line\">1601</span><br><span class=\"line\">1602</span><br><span class=\"line\">1603</span><br><span class=\"line\">1604</span><br><span class=\"line\">1605</span><br><span class=\"line\">1606</span><br><span class=\"line\">1607</span><br><span class=\"line\">1608</span><br><span class=\"line\">1609</span><br><span class=\"line\">1610</span><br><span class=\"line\">1611</span><br><span class=\"line\">1612</span><br><span class=\"line\">1613</span><br><span class=\"line\">1614</span><br><span class=\"line\">1615</span><br><span class=\"line\">1616</span><br><span class=\"line\">1617</span><br><span class=\"line\">1618</span><br><span class=\"line\">1619</span><br><span class=\"line\">1620</span><br><span class=\"line\">1621</span><br><span class=\"line\">1622</span><br><span class=\"line\">1623</span><br><span class=\"line\">1624</span><br><span class=\"line\">1625</span><br><span class=\"line\">1626</span><br><span class=\"line\">1627</span><br><span class=\"line\">1628</span><br><span class=\"line\">1629</span><br><span class=\"line\">1630</span><br><span class=\"line\">1631</span><br><span class=\"line\">1632</span><br><span class=\"line\">1633</span><br><span class=\"line\">1634</span><br><span class=\"line\">1635</span><br><span class=\"line\">1636</span><br><span class=\"line\">1637</span><br><span class=\"line\">1638</span><br><span class=\"line\">1639</span><br><span class=\"line\">1640</span><br><span class=\"line\">1641</span><br><span class=\"line\">1642</span><br><span class=\"line\">1643</span><br><span class=\"line\">1644</span><br><span class=\"line\">1645</span><br><span class=\"line\">1646</span><br><span class=\"line\">1647</span><br><span class=\"line\">1648</span><br><span class=\"line\">1649</span><br><span class=\"line\">1650</span><br><span class=\"line\">1651</span><br><span class=\"line\">1652</span><br><span class=\"line\">1653</span><br><span class=\"line\">1654</span><br><span class=\"line\">1655</span><br><span class=\"line\">1656</span><br><span class=\"line\">1657</span><br><span class=\"line\">1658</span><br><span class=\"line\">1659</span><br><span class=\"line\">1660</span><br><span class=\"line\">1661</span><br><span class=\"line\">1662</span><br><span class=\"line\">1663</span><br><span class=\"line\">1664</span><br><span class=\"line\">1665</span><br><span class=\"line\">1666</span><br><span class=\"line\">1667</span><br><span class=\"line\">1668</span><br><span class=\"line\">1669</span><br><span class=\"line\">1670</span><br><span class=\"line\">1671</span><br><span class=\"line\">1672</span><br><span class=\"line\">1673</span><br><span class=\"line\">1674</span><br><span class=\"line\">1675</span><br><span class=\"line\">1676</span><br><span class=\"line\">1677</span><br><span class=\"line\">1678</span><br><span class=\"line\">1679</span><br><span class=\"line\">1680</span><br><span class=\"line\">1681</span><br><span class=\"line\">1682</span><br><span class=\"line\">1683</span><br><span class=\"line\">1684</span><br><span class=\"line\">1685</span><br><span class=\"line\">1686</span><br><span class=\"line\">1687</span><br><span class=\"line\">1688</span><br><span class=\"line\">1689</span><br><span class=\"line\">1690</span><br><span class=\"line\">1691</span><br><span class=\"line\">1692</span><br><span class=\"line\">1693</span><br><span class=\"line\">1694</span><br><span class=\"line\">1695</span><br><span class=\"line\">1696</span><br><span class=\"line\">1697</span><br><span class=\"line\">1698</span><br><span class=\"line\">1699</span><br><span class=\"line\">1700</span><br><span class=\"line\">1701</span><br><span class=\"line\">1702</span><br><span class=\"line\">1703</span><br><span class=\"line\">1704</span><br><span class=\"line\">1705</span><br><span class=\"line\">1706</span><br><span class=\"line\">1707</span><br><span class=\"line\">1708</span><br><span class=\"line\">1709</span><br><span class=\"line\">1710</span><br><span class=\"line\">1711</span><br><span class=\"line\">1712</span><br><span class=\"line\">1713</span><br><span class=\"line\">1714</span><br><span class=\"line\">1715</span><br><span class=\"line\">1716</span><br><span class=\"line\">1717</span><br><span class=\"line\">1718</span><br><span class=\"line\">1719</span><br><span class=\"line\">1720</span><br><span class=\"line\">1721</span><br><span class=\"line\">1722</span><br><span class=\"line\">1723</span><br><span class=\"line\">1724</span><br><span class=\"line\">1725</span><br><span class=\"line\">1726</span><br><span class=\"line\">1727</span><br><span class=\"line\">1728</span><br><span class=\"line\">1729</span><br><span class=\"line\">1730</span><br><span class=\"line\">1731</span><br><span class=\"line\">1732</span><br><span class=\"line\">1733</span><br><span class=\"line\">1734</span><br><span class=\"line\">1735</span><br><span class=\"line\">1736</span><br><span class=\"line\">1737</span><br><span class=\"line\">1738</span><br><span class=\"line\">1739</span><br><span class=\"line\">1740</span><br><span class=\"line\">1741</span><br><span class=\"line\">1742</span><br><span class=\"line\">1743</span><br><span class=\"line\">1744</span><br><span class=\"line\">1745</span><br><span class=\"line\">1746</span><br><span class=\"line\">1747</span><br><span class=\"line\">1748</span><br><span class=\"line\">1749</span><br><span class=\"line\">1750</span><br><span class=\"line\">1751</span><br><span class=\"line\">1752</span><br><span class=\"line\">1753</span><br><span class=\"line\">1754</span><br><span class=\"line\">1755</span><br><span class=\"line\">1756</span><br><span class=\"line\">1757</span><br><span class=\"line\">1758</span><br><span class=\"line\">1759</span><br><span class=\"line\">1760</span><br><span class=\"line\">1761</span><br><span class=\"line\">1762</span><br><span class=\"line\">1763</span><br><span class=\"line\">1764</span><br><span class=\"line\">1765</span><br><span class=\"line\">1766</span><br><span class=\"line\">1767</span><br><span class=\"line\">1768</span><br><span class=\"line\">1769</span><br><span class=\"line\">1770</span><br><span class=\"line\">1771</span><br><span class=\"line\">1772</span><br><span class=\"line\">1773</span><br><span class=\"line\">1774</span><br><span class=\"line\">1775</span><br><span class=\"line\">1776</span><br><span class=\"line\">1777</span><br><span class=\"line\">1778</span><br><span class=\"line\">1779</span><br><span class=\"line\">1780</span><br><span class=\"line\">1781</span><br><span class=\"line\">1782</span><br><span class=\"line\">1783</span><br><span class=\"line\">1784</span><br><span class=\"line\">1785</span><br><span class=\"line\">1786</span><br><span class=\"line\">1787</span><br><span class=\"line\">1788</span><br><span class=\"line\">1789</span><br><span class=\"line\">1790</span><br><span class=\"line\">1791</span><br><span class=\"line\">1792</span><br><span class=\"line\">1793</span><br><span class=\"line\">1794</span><br><span class=\"line\">1795</span><br><span class=\"line\">1796</span><br><span class=\"line\">1797</span><br><span class=\"line\">1798</span><br><span class=\"line\">1799</span><br><span class=\"line\">1800</span><br><span class=\"line\">1801</span><br><span class=\"line\">1802</span><br><span class=\"line\">1803</span><br><span class=\"line\">1804</span><br><span class=\"line\">1805</span><br><span class=\"line\">1806</span><br><span class=\"line\">1807</span><br><span class=\"line\">1808</span><br><span class=\"line\">1809</span><br><span class=\"line\">1810</span><br><span class=\"line\">1811</span><br><span class=\"line\">1812</span><br><span class=\"line\">1813</span><br><span class=\"line\">1814</span><br><span class=\"line\">1815</span><br><span class=\"line\">1816</span><br><span class=\"line\">1817</span><br><span class=\"line\">1818</span><br><span class=\"line\">1819</span><br><span class=\"line\">1820</span><br><span class=\"line\">1821</span><br><span class=\"line\">1822</span><br><span class=\"line\">1823</span><br><span class=\"line\">1824</span><br><span class=\"line\">1825</span><br><span class=\"line\">1826</span><br><span class=\"line\">1827</span><br><span class=\"line\">1828</span><br><span class=\"line\">1829</span><br><span class=\"line\">1830</span><br><span class=\"line\">1831</span><br><span class=\"line\">1832</span><br><span class=\"line\">1833</span><br><span class=\"line\">1834</span><br><span class=\"line\">1835</span><br><span class=\"line\">1836</span><br><span class=\"line\">1837</span><br><span class=\"line\">1838</span><br><span class=\"line\">1839</span><br><span class=\"line\">1840</span><br><span class=\"line\">1841</span><br><span class=\"line\">1842</span><br><span class=\"line\">1843</span><br><span class=\"line\">1844</span><br><span class=\"line\">1845</span><br><span class=\"line\">1846</span><br><span class=\"line\">1847</span><br><span class=\"line\">1848</span><br><span class=\"line\">1849</span><br><span class=\"line\">1850</span><br><span class=\"line\">1851</span><br><span class=\"line\">1852</span><br><span class=\"line\">1853</span><br><span class=\"line\">1854</span><br><span class=\"line\">1855</span><br><span class=\"line\">1856</span><br><span class=\"line\">1857</span><br><span class=\"line\">1858</span><br><span class=\"line\">1859</span><br><span class=\"line\">1860</span><br><span class=\"line\">1861</span><br><span class=\"line\">1862</span><br><span class=\"line\">1863</span><br><span class=\"line\">1864</span><br><span class=\"line\">1865</span><br><span class=\"line\">1866</span><br><span class=\"line\">1867</span><br><span class=\"line\">1868</span><br><span class=\"line\">1869</span><br><span class=\"line\">1870</span><br><span class=\"line\">1871</span><br><span class=\"line\">1872</span><br><span class=\"line\">1873</span><br><span class=\"line\">1874</span><br><span class=\"line\">1875</span><br><span class=\"line\">1876</span><br><span class=\"line\">1877</span><br><span class=\"line\">1878</span><br><span class=\"line\">1879</span><br><span class=\"line\">1880</span><br><span class=\"line\">1881</span><br><span class=\"line\">1882</span><br><span class=\"line\">1883</span><br><span class=\"line\">1884</span><br><span class=\"line\">1885</span><br><span class=\"line\">1886</span><br><span class=\"line\">1887</span><br><span class=\"line\">1888</span><br><span class=\"line\">1889</span><br><span class=\"line\">1890</span><br><span class=\"line\">1891</span><br><span class=\"line\">1892</span><br><span class=\"line\">1893</span><br><span class=\"line\">1894</span><br><span class=\"line\">1895</span><br><span class=\"line\">1896</span><br><span class=\"line\">1897</span><br><span class=\"line\">1898</span><br><span class=\"line\">1899</span><br><span class=\"line\">1900</span><br><span class=\"line\">1901</span><br><span class=\"line\">1902</span><br><span class=\"line\">1903</span><br><span class=\"line\">1904</span><br><span class=\"line\">1905</span><br><span class=\"line\">1906</span><br><span class=\"line\">1907</span><br><span class=\"line\">1908</span><br><span class=\"line\">1909</span><br><span class=\"line\">1910</span><br><span class=\"line\">1911</span><br><span class=\"line\">1912</span><br><span class=\"line\">1913</span><br><span class=\"line\">1914</span><br><span class=\"line\">1915</span><br><span class=\"line\">1916</span><br><span class=\"line\">1917</span><br><span class=\"line\">1918</span><br><span class=\"line\">1919</span><br><span class=\"line\">1920</span><br><span class=\"line\">1921</span><br><span class=\"line\">1922</span><br><span class=\"line\">1923</span><br><span class=\"line\">1924</span><br><span class=\"line\">1925</span><br><span class=\"line\">1926</span><br><span class=\"line\">1927</span><br><span class=\"line\">1928</span><br><span class=\"line\">1929</span><br><span class=\"line\">1930</span><br><span class=\"line\">1931</span><br><span class=\"line\">1932</span><br><span class=\"line\">1933</span><br><span class=\"line\">1934</span><br><span class=\"line\">1935</span><br><span class=\"line\">1936</span><br><span class=\"line\">1937</span><br><span class=\"line\">1938</span><br><span class=\"line\">1939</span><br><span class=\"line\">1940</span><br><span class=\"line\">1941</span><br><span class=\"line\">1942</span><br><span class=\"line\">1943</span><br><span class=\"line\">1944</span><br><span class=\"line\">1945</span><br><span class=\"line\">1946</span><br><span class=\"line\">1947</span><br><span class=\"line\">1948</span><br><span class=\"line\">1949</span><br><span class=\"line\">1950</span><br><span class=\"line\">1951</span><br><span class=\"line\">1952</span><br><span class=\"line\">1953</span><br><span class=\"line\">1954</span><br><span class=\"line\">1955</span><br><span class=\"line\">1956</span><br><span class=\"line\">1957</span><br><span class=\"line\">1958</span><br><span class=\"line\">1959</span><br><span class=\"line\">1960</span><br><span class=\"line\">1961</span><br><span class=\"line\">1962</span><br><span class=\"line\">1963</span><br><span class=\"line\">1964</span><br><span class=\"line\">1965</span><br><span class=\"line\">1966</span><br><span class=\"line\">1967</span><br><span class=\"line\">1968</span><br><span class=\"line\">1969</span><br><span class=\"line\">1970</span><br><span class=\"line\">1971</span><br><span class=\"line\">1972</span><br><span class=\"line\">1973</span><br><span class=\"line\">1974</span><br><span class=\"line\">1975</span><br><span class=\"line\">1976</span><br><span class=\"line\">1977</span><br><span class=\"line\">1978</span><br><span class=\"line\">1979</span><br><span class=\"line\">1980</span><br><span class=\"line\">1981</span><br><span class=\"line\">1982</span><br><span class=\"line\">1983</span><br><span class=\"line\">1984</span><br><span class=\"line\">1985</span><br><span class=\"line\">1986</span><br><span class=\"line\">1987</span><br><span class=\"line\">1988</span><br><span class=\"line\">1989</span><br><span class=\"line\">1990</span><br><span class=\"line\">1991</span><br><span class=\"line\">1992</span><br><span class=\"line\">1993</span><br><span class=\"line\">1994</span><br><span class=\"line\">1995</span><br><span class=\"line\">1996</span><br><span class=\"line\">1997</span><br><span class=\"line\">1998</span><br><span class=\"line\">1999</span><br><span class=\"line\">2000</span><br><span class=\"line\">2001</span><br><span class=\"line\">2002</span><br><span class=\"line\">2003</span><br><span class=\"line\">2004</span><br><span class=\"line\">2005</span><br><span class=\"line\">2006</span><br><span class=\"line\">2007</span><br><span class=\"line\">2008</span><br><span class=\"line\">2009</span><br><span class=\"line\">2010</span><br><span class=\"line\">2011</span><br><span class=\"line\">2012</span><br><span class=\"line\">2013</span><br><span class=\"line\">2014</span><br><span class=\"line\">2015</span><br><span class=\"line\">2016</span><br><span class=\"line\">2017</span><br><span class=\"line\">2018</span><br><span class=\"line\">2019</span><br><span class=\"line\">2020</span><br><span class=\"line\">2021</span><br><span class=\"line\">2022</span><br><span class=\"line\">2023</span><br><span class=\"line\">2024</span><br><span class=\"line\">2025</span><br><span class=\"line\">2026</span><br><span class=\"line\">2027</span><br><span class=\"line\">2028</span><br><span class=\"line\">2029</span><br><span class=\"line\">2030</span><br><span class=\"line\">2031</span><br><span class=\"line\">2032</span><br><span class=\"line\">2033</span><br><span class=\"line\">2034</span><br><span class=\"line\">2035</span><br><span class=\"line\">2036</span><br><span class=\"line\">2037</span><br><span class=\"line\">2038</span><br><span class=\"line\">2039</span><br><span class=\"line\">2040</span><br><span class=\"line\">2041</span><br><span class=\"line\">2042</span><br><span class=\"line\">2043</span><br><span class=\"line\">2044</span><br><span class=\"line\">2045</span><br><span class=\"line\">2046</span><br><span class=\"line\">2047</span><br><span class=\"line\">2048</span><br><span class=\"line\">2049</span><br><span class=\"line\">2050</span><br><span class=\"line\">2051</span><br><span class=\"line\">2052</span><br><span class=\"line\">2053</span><br><span class=\"line\">2054</span><br><span class=\"line\">2055</span><br><span class=\"line\">2056</span><br><span class=\"line\">2057</span><br><span class=\"line\">2058</span><br><span class=\"line\">2059</span><br><span class=\"line\">2060</span><br><span class=\"line\">2061</span><br><span class=\"line\">2062</span><br><span class=\"line\">2063</span><br><span class=\"line\">2064</span><br><span class=\"line\">2065</span><br><span class=\"line\">2066</span><br><span class=\"line\">2067</span><br><span class=\"line\">2068</span><br><span class=\"line\">2069</span><br><span class=\"line\">2070</span><br><span class=\"line\">2071</span><br><span class=\"line\">2072</span><br><span class=\"line\">2073</span><br><span class=\"line\">2074</span><br><span class=\"line\">2075</span><br><span class=\"line\">2076</span><br><span class=\"line\">2077</span><br><span class=\"line\">2078</span><br><span class=\"line\">2079</span><br><span class=\"line\">2080</span><br><span class=\"line\">2081</span><br><span class=\"line\">2082</span><br><span class=\"line\">2083</span><br><span class=\"line\">2084</span><br><span class=\"line\">2085</span><br><span class=\"line\">2086</span><br><span class=\"line\">2087</span><br><span class=\"line\">2088</span><br><span class=\"line\">2089</span><br><span class=\"line\">2090</span><br><span class=\"line\">2091</span><br><span class=\"line\">2092</span><br><span class=\"line\">2093</span><br><span class=\"line\">2094</span><br><span class=\"line\">2095</span><br><span class=\"line\">2096</span><br><span class=\"line\">2097</span><br><span class=\"line\">2098</span><br><span class=\"line\">2099</span><br><span class=\"line\">2100</span><br><span class=\"line\">2101</span><br><span class=\"line\">2102</span><br><span class=\"line\">2103</span><br><span class=\"line\">2104</span><br><span class=\"line\">2105</span><br><span class=\"line\">2106</span><br><span class=\"line\">2107</span><br><span class=\"line\">2108</span><br><span class=\"line\">2109</span><br><span class=\"line\">2110</span><br><span class=\"line\">2111</span><br><span class=\"line\">2112</span><br><span class=\"line\">2113</span><br><span class=\"line\">2114</span><br><span class=\"line\">2115</span><br><span class=\"line\">2116</span><br><span class=\"line\">2117</span><br><span class=\"line\">2118</span><br><span class=\"line\">2119</span><br><span class=\"line\">2120</span><br><span class=\"line\">2121</span><br><span class=\"line\">2122</span><br><span class=\"line\">2123</span><br><span class=\"line\">2124</span><br><span class=\"line\">2125</span><br><span class=\"line\">2126</span><br><span class=\"line\">2127</span><br><span class=\"line\">2128</span><br><span class=\"line\">2129</span><br><span class=\"line\">2130</span><br><span class=\"line\">2131</span><br><span class=\"line\">2132</span><br><span class=\"line\">2133</span><br><span class=\"line\">2134</span><br><span class=\"line\">2135</span><br><span class=\"line\">2136</span><br><span class=\"line\">2137</span><br><span class=\"line\">2138</span><br><span class=\"line\">2139</span><br><span class=\"line\">2140</span><br><span class=\"line\">2141</span><br><span class=\"line\">2142</span><br><span class=\"line\">2143</span><br><span class=\"line\">2144</span><br><span class=\"line\">2145</span><br><span class=\"line\">2146</span><br><span class=\"line\">2147</span><br><span class=\"line\">2148</span><br><span class=\"line\">2149</span><br><span class=\"line\">2150</span><br><span class=\"line\">2151</span><br><span class=\"line\">2152</span><br><span class=\"line\">2153</span><br><span class=\"line\">2154</span><br><span class=\"line\">2155</span><br><span class=\"line\">2156</span><br><span class=\"line\">2157</span><br><span class=\"line\">2158</span><br><span class=\"line\">2159</span><br><span class=\"line\">2160</span><br><span class=\"line\">2161</span><br><span class=\"line\">2162</span><br><span class=\"line\">2163</span><br><span class=\"line\">2164</span><br><span class=\"line\">2165</span><br><span class=\"line\">2166</span><br><span class=\"line\">2167</span><br><span class=\"line\">2168</span><br><span class=\"line\">2169</span><br><span class=\"line\">2170</span><br><span class=\"line\">2171</span><br><span class=\"line\">2172</span><br><span class=\"line\">2173</span><br><span class=\"line\">2174</span><br><span class=\"line\">2175</span><br><span class=\"line\">2176</span><br><span class=\"line\">2177</span><br><span class=\"line\">2178</span><br><span class=\"line\">2179</span><br><span class=\"line\">2180</span><br><span class=\"line\">2181</span><br><span class=\"line\">2182</span><br><span class=\"line\">2183</span><br><span class=\"line\">2184</span><br><span class=\"line\">2185</span><br><span class=\"line\">2186</span><br><span class=\"line\">2187</span><br><span class=\"line\">2188</span><br><span class=\"line\">2189</span><br><span class=\"line\">2190</span><br><span class=\"line\">2191</span><br><span class=\"line\">2192</span><br><span class=\"line\">2193</span><br><span class=\"line\">2194</span><br><span class=\"line\">2195</span><br><span class=\"line\">2196</span><br><span class=\"line\">2197</span><br><span class=\"line\">2198</span><br><span class=\"line\">2199</span><br><span class=\"line\">2200</span><br><span class=\"line\">2201</span><br><span class=\"line\">2202</span><br><span class=\"line\">2203</span><br><span class=\"line\">2204</span><br><span class=\"line\">2205</span><br><span class=\"line\">2206</span><br><span class=\"line\">2207</span><br><span class=\"line\">2208</span><br><span class=\"line\">2209</span><br><span class=\"line\">2210</span><br><span class=\"line\">2211</span><br><span class=\"line\">2212</span><br><span class=\"line\">2213</span><br><span class=\"line\">2214</span><br><span class=\"line\">2215</span><br><span class=\"line\">2216</span><br><span class=\"line\">2217</span><br><span class=\"line\">2218</span><br><span class=\"line\">2219</span><br><span class=\"line\">2220</span><br><span class=\"line\">2221</span><br><span class=\"line\">2222</span><br><span class=\"line\">2223</span><br><span class=\"line\">2224</span><br><span class=\"line\">2225</span><br><span class=\"line\">2226</span><br><span class=\"line\">2227</span><br><span class=\"line\">2228</span><br><span class=\"line\">2229</span><br><span class=\"line\">2230</span><br><span class=\"line\">2231</span><br><span class=\"line\">2232</span><br><span class=\"line\">2233</span><br><span class=\"line\">2234</span><br><span class=\"line\">2235</span><br><span class=\"line\">2236</span><br><span class=\"line\">2237</span><br><span class=\"line\">2238</span><br><span class=\"line\">2239</span><br><span class=\"line\">2240</span><br><span class=\"line\">2241</span><br><span class=\"line\">2242</span><br><span class=\"line\">2243</span><br><span class=\"line\">2244</span><br><span class=\"line\">2245</span><br><span class=\"line\">2246</span><br><span class=\"line\">2247</span><br><span class=\"line\">2248</span><br><span class=\"line\">2249</span><br><span class=\"line\">2250</span><br><span class=\"line\">2251</span><br><span class=\"line\">2252</span><br><span class=\"line\">2253</span><br><span class=\"line\">2254</span><br><span class=\"line\">2255</span><br><span class=\"line\">2256</span><br><span class=\"line\">2257</span><br><span class=\"line\">2258</span><br><span class=\"line\">2259</span><br><span class=\"line\">2260</span><br><span class=\"line\">2261</span><br><span class=\"line\">2262</span><br><span class=\"line\">2263</span><br><span class=\"line\">2264</span><br><span class=\"line\">2265</span><br><span class=\"line\">2266</span><br><span class=\"line\">2267</span><br><span class=\"line\">2268</span><br><span class=\"line\">2269</span><br><span class=\"line\">2270</span><br><span class=\"line\">2271</span><br><span class=\"line\">2272</span><br><span class=\"line\">2273</span><br><span class=\"line\">2274</span><br><span class=\"line\">2275</span><br><span class=\"line\">2276</span><br><span class=\"line\">2277</span><br><span class=\"line\">2278</span><br><span class=\"line\">2279</span><br><span class=\"line\">2280</span><br><span class=\"line\">2281</span><br><span class=\"line\">2282</span><br><span class=\"line\">2283</span><br><span class=\"line\">2284</span><br><span class=\"line\">2285</span><br><span class=\"line\">2286</span><br><span class=\"line\">2287</span><br><span class=\"line\">2288</span><br><span class=\"line\">2289</span><br><span class=\"line\">2290</span><br><span class=\"line\">2291</span><br><span class=\"line\">2292</span><br><span class=\"line\">2293</span><br><span class=\"line\">2294</span><br><span class=\"line\">2295</span><br><span class=\"line\">2296</span><br><span class=\"line\">2297</span><br><span class=\"line\">2298</span><br><span class=\"line\">2299</span><br><span class=\"line\">2300</span><br><span class=\"line\">2301</span><br><span class=\"line\">2302</span><br><span class=\"line\">2303</span><br><span class=\"line\">2304</span><br><span class=\"line\">2305</span><br><span class=\"line\">2306</span><br><span class=\"line\">2307</span><br><span class=\"line\">2308</span><br><span class=\"line\">2309</span><br><span class=\"line\">2310</span><br><span class=\"line\">2311</span><br><span class=\"line\">2312</span><br><span class=\"line\">2313</span><br><span class=\"line\">2314</span><br><span class=\"line\">2315</span><br><span class=\"line\">2316</span><br><span class=\"line\">2317</span><br><span class=\"line\">2318</span><br><span class=\"line\">2319</span><br><span class=\"line\">2320</span><br><span class=\"line\">2321</span><br><span class=\"line\">2322</span><br><span class=\"line\">2323</span><br><span class=\"line\">2324</span><br><span class=\"line\">2325</span><br><span class=\"line\">2326</span><br><span class=\"line\">2327</span><br><span class=\"line\">2328</span><br><span class=\"line\">2329</span><br><span class=\"line\">2330</span><br><span class=\"line\">2331</span><br><span class=\"line\">2332</span><br><span class=\"line\">2333</span><br><span class=\"line\">2334</span><br><span class=\"line\">2335</span><br><span class=\"line\">2336</span><br><span class=\"line\">2337</span><br><span class=\"line\">2338</span><br><span class=\"line\">2339</span><br><span class=\"line\">2340</span><br><span class=\"line\">2341</span><br><span class=\"line\">2342</span><br><span class=\"line\">2343</span><br><span class=\"line\">2344</span><br><span class=\"line\">2345</span><br><span class=\"line\">2346</span><br><span class=\"line\">2347</span><br><span class=\"line\">2348</span><br><span class=\"line\">2349</span><br><span class=\"line\">2350</span><br><span class=\"line\">2351</span><br><span class=\"line\">2352</span><br><span class=\"line\">2353</span><br><span class=\"line\">2354</span><br><span class=\"line\">2355</span><br><span class=\"line\">2356</span><br><span class=\"line\">2357</span><br><span class=\"line\">2358</span><br><span class=\"line\">2359</span><br><span class=\"line\">2360</span><br><span class=\"line\">2361</span><br><span class=\"line\">2362</span><br><span class=\"line\">2363</span><br><span class=\"line\">2364</span><br><span class=\"line\">2365</span><br><span class=\"line\">2366</span><br><span class=\"line\">2367</span><br><span class=\"line\">2368</span><br><span class=\"line\">2369</span><br><span class=\"line\">2370</span><br><span class=\"line\">2371</span><br><span class=\"line\">2372</span><br><span class=\"line\">2373</span><br><span class=\"line\">2374</span><br><span class=\"line\">2375</span><br><span class=\"line\">2376</span><br><span class=\"line\">2377</span><br><span class=\"line\">2378</span><br><span class=\"line\">2379</span><br><span class=\"line\">2380</span><br><span class=\"line\">2381</span><br><span class=\"line\">2382</span><br><span class=\"line\">2383</span><br><span class=\"line\">2384</span><br><span class=\"line\">2385</span><br><span class=\"line\">2386</span><br><span class=\"line\">2387</span><br><span class=\"line\">2388</span><br><span class=\"line\">2389</span><br><span class=\"line\">2390</span><br><span class=\"line\">2391</span><br><span class=\"line\">2392</span><br><span class=\"line\">2393</span><br><span class=\"line\">2394</span><br><span class=\"line\">2395</span><br><span class=\"line\">2396</span><br><span class=\"line\">2397</span><br><span class=\"line\">2398</span><br><span class=\"line\">2399</span><br><span class=\"line\">2400</span><br><span class=\"line\">2401</span><br><span class=\"line\">2402</span><br><span class=\"line\">2403</span><br><span class=\"line\">2404</span><br><span class=\"line\">2405</span><br><span class=\"line\">2406</span><br><span class=\"line\">2407</span><br><span class=\"line\">2408</span><br><span class=\"line\">2409</span><br><span class=\"line\">2410</span><br><span class=\"line\">2411</span><br><span class=\"line\">2412</span><br><span class=\"line\">2413</span><br><span class=\"line\">2414</span><br><span class=\"line\">2415</span><br><span class=\"line\">2416</span><br><span class=\"line\">2417</span><br><span class=\"line\">2418</span><br><span class=\"line\">2419</span><br><span class=\"line\">2420</span><br><span class=\"line\">2421</span><br><span class=\"line\">2422</span><br><span class=\"line\">2423</span><br><span class=\"line\">2424</span><br><span class=\"line\">2425</span><br><span class=\"line\">2426</span><br><span class=\"line\">2427</span><br><span class=\"line\">2428</span><br><span class=\"line\">2429</span><br><span class=\"line\">2430</span><br><span class=\"line\">2431</span><br><span class=\"line\">2432</span><br><span class=\"line\">2433</span><br><span class=\"line\">2434</span><br><span class=\"line\">2435</span><br><span class=\"line\">2436</span><br><span class=\"line\">2437</span><br><span class=\"line\">2438</span><br><span class=\"line\">2439</span><br><span class=\"line\">2440</span><br><span class=\"line\">2441</span><br><span class=\"line\">2442</span><br><span class=\"line\">2443</span><br><span class=\"line\">2444</span><br><span class=\"line\">2445</span><br><span class=\"line\">2446</span><br><span class=\"line\">2447</span><br><span class=\"line\">2448</span><br><span class=\"line\">2449</span><br><span class=\"line\">2450</span><br><span class=\"line\">2451</span><br><span class=\"line\">2452</span><br><span class=\"line\">2453</span><br><span class=\"line\">2454</span><br><span class=\"line\">2455</span><br><span class=\"line\">2456</span><br><span class=\"line\">2457</span><br><span class=\"line\">2458</span><br><span class=\"line\">2459</span><br><span class=\"line\">2460</span><br><span class=\"line\">2461</span><br><span class=\"line\">2462</span><br><span class=\"line\">2463</span><br><span class=\"line\">2464</span><br><span class=\"line\">2465</span><br><span class=\"line\">2466</span><br><span class=\"line\">2467</span><br><span class=\"line\">2468</span><br><span class=\"line\">2469</span><br><span class=\"line\">2470</span><br><span class=\"line\">2471</span><br><span class=\"line\">2472</span><br><span class=\"line\">2473</span><br><span class=\"line\">2474</span><br><span class=\"line\">2475</span><br><span class=\"line\">2476</span><br><span class=\"line\">2477</span><br><span class=\"line\">2478</span><br><span class=\"line\">2479</span><br><span class=\"line\">2480</span><br><span class=\"line\">2481</span><br><span class=\"line\">2482</span><br><span class=\"line\">2483</span><br><span class=\"line\">2484</span><br><span class=\"line\">2485</span><br><span class=\"line\">2486</span><br><span class=\"line\">2487</span><br><span class=\"line\">2488</span><br><span class=\"line\">2489</span><br><span class=\"line\">2490</span><br><span class=\"line\">2491</span><br><span class=\"line\">2492</span><br><span class=\"line\">2493</span><br><span class=\"line\">2494</span><br><span class=\"line\">2495</span><br><span class=\"line\">2496</span><br><span class=\"line\">2497</span><br><span class=\"line\">2498</span><br><span class=\"line\">2499</span><br><span class=\"line\">2500</span><br><span class=\"line\">2501</span><br><span class=\"line\">2502</span><br><span class=\"line\">2503</span><br><span class=\"line\">2504</span><br><span class=\"line\">2505</span><br><span class=\"line\">2506</span><br><span class=\"line\">2507</span><br><span class=\"line\">2508</span><br><span class=\"line\">2509</span><br><span class=\"line\">2510</span><br><span class=\"line\">2511</span><br><span class=\"line\">2512</span><br><span class=\"line\">2513</span><br><span class=\"line\">2514</span><br><span class=\"line\">2515</span><br><span class=\"line\">2516</span><br><span class=\"line\">2517</span><br><span class=\"line\">2518</span><br><span class=\"line\">2519</span><br><span class=\"line\">2520</span><br><span class=\"line\">2521</span><br><span class=\"line\">2522</span><br><span class=\"line\">2523</span><br><span class=\"line\">2524</span><br><span class=\"line\">2525</span><br><span class=\"line\">2526</span><br><span class=\"line\">2527</span><br><span class=\"line\">2528</span><br><span class=\"line\">2529</span><br><span class=\"line\">2530</span><br><span class=\"line\">2531</span><br><span class=\"line\">2532</span><br><span class=\"line\">2533</span><br><span class=\"line\">2534</span><br><span class=\"line\">2535</span><br><span class=\"line\">2536</span><br><span class=\"line\">2537</span><br><span class=\"line\">2538</span><br><span class=\"line\">2539</span><br><span class=\"line\">2540</span><br><span class=\"line\">2541</span><br><span class=\"line\">2542</span><br><span class=\"line\">2543</span><br><span class=\"line\">2544</span><br><span class=\"line\">2545</span><br><span class=\"line\">2546</span><br><span class=\"line\">2547</span><br><span class=\"line\">2548</span><br><span class=\"line\">2549</span><br><span class=\"line\">2550</span><br><span class=\"line\">2551</span><br><span class=\"line\">2552</span><br><span class=\"line\">2553</span><br><span class=\"line\">2554</span><br><span class=\"line\">2555</span><br><span class=\"line\">2556</span><br><span class=\"line\">2557</span><br><span class=\"line\">2558</span><br><span class=\"line\">2559</span><br><span class=\"line\">2560</span><br><span class=\"line\">2561</span><br><span class=\"line\">2562</span><br><span class=\"line\">2563</span><br><span class=\"line\">2564</span><br><span class=\"line\">2565</span><br><span class=\"line\">2566</span><br><span class=\"line\">2567</span><br><span class=\"line\">2568</span><br><span class=\"line\">2569</span><br><span class=\"line\">2570</span><br><span class=\"line\">2571</span><br><span class=\"line\">2572</span><br><span class=\"line\">2573</span><br><span class=\"line\">2574</span><br><span class=\"line\">2575</span><br><span class=\"line\">2576</span><br><span class=\"line\">2577</span><br><span class=\"line\">2578</span><br><span class=\"line\">2579</span><br><span class=\"line\">2580</span><br><span class=\"line\">2581</span><br><span class=\"line\">2582</span><br><span class=\"line\">2583</span><br><span class=\"line\">2584</span><br><span class=\"line\">2585</span><br><span class=\"line\">2586</span><br><span class=\"line\">2587</span><br><span class=\"line\">2588</span><br><span class=\"line\">2589</span><br><span class=\"line\">2590</span><br><span class=\"line\">2591</span><br><span class=\"line\">2592</span><br><span class=\"line\">2593</span><br><span class=\"line\">2594</span><br><span class=\"line\">2595</span><br><span class=\"line\">2596</span><br><span class=\"line\">2597</span><br><span class=\"line\">2598</span><br><span class=\"line\">2599</span><br><span class=\"line\">2600</span><br><span class=\"line\">2601</span><br><span class=\"line\">2602</span><br><span class=\"line\">2603</span><br><span class=\"line\">2604</span><br><span class=\"line\">2605</span><br><span class=\"line\">2606</span><br><span class=\"line\">2607</span><br><span class=\"line\">2608</span><br><span class=\"line\">2609</span><br><span class=\"line\">2610</span><br><span class=\"line\">2611</span><br><span class=\"line\">2612</span><br><span class=\"line\">2613</span><br><span class=\"line\">2614</span><br><span class=\"line\">2615</span><br><span class=\"line\">2616</span><br><span class=\"line\">2617</span><br><span class=\"line\">2618</span><br><span class=\"line\">2619</span><br><span class=\"line\">2620</span><br><span class=\"line\">2621</span><br><span class=\"line\">2622</span><br><span class=\"line\">2623</span><br><span class=\"line\">2624</span><br><span class=\"line\">2625</span><br><span class=\"line\">2626</span><br><span class=\"line\">2627</span><br><span class=\"line\">2628</span><br><span class=\"line\">2629</span><br><span class=\"line\">2630</span><br><span class=\"line\">2631</span><br><span class=\"line\">2632</span><br><span class=\"line\">2633</span><br><span class=\"line\">2634</span><br><span class=\"line\">2635</span><br><span class=\"line\">2636</span><br><span class=\"line\">2637</span><br><span class=\"line\">2638</span><br><span class=\"line\">2639</span><br><span class=\"line\">2640</span><br><span class=\"line\">2641</span><br><span class=\"line\">2642</span><br><span class=\"line\">2643</span><br><span class=\"line\">2644</span><br><span class=\"line\">2645</span><br><span class=\"line\">2646</span><br><span class=\"line\">2647</span><br><span class=\"line\">2648</span><br><span class=\"line\">2649</span><br><span class=\"line\">2650</span><br><span class=\"line\">2651</span><br><span class=\"line\">2652</span><br><span class=\"line\">2653</span><br><span class=\"line\">2654</span><br><span class=\"line\">2655</span><br><span class=\"line\">2656</span><br><span class=\"line\">2657</span><br><span class=\"line\">2658</span><br><span class=\"line\">2659</span><br><span class=\"line\">2660</span><br><span class=\"line\">2661</span><br><span class=\"line\">2662</span><br><span class=\"line\">2663</span><br><span class=\"line\">2664</span><br><span class=\"line\">2665</span><br><span class=\"line\">2666</span><br><span class=\"line\">2667</span><br><span class=\"line\">2668</span><br><span class=\"line\">2669</span><br><span class=\"line\">2670</span><br><span class=\"line\">2671</span><br><span class=\"line\">2672</span><br><span class=\"line\">2673</span><br><span class=\"line\">2674</span><br><span class=\"line\">2675</span><br><span class=\"line\">2676</span><br><span class=\"line\">2677</span><br><span class=\"line\">2678</span><br><span class=\"line\">2679</span><br><span class=\"line\">2680</span><br><span class=\"line\">2681</span><br><span class=\"line\">2682</span><br><span class=\"line\">2683</span><br><span class=\"line\">2684</span><br><span class=\"line\">2685</span><br><span class=\"line\">2686</span><br><span class=\"line\">2687</span><br><span class=\"line\">2688</span><br><span class=\"line\">2689</span><br><span class=\"line\">2690</span><br><span class=\"line\">2691</span><br><span class=\"line\">2692</span><br><span class=\"line\">2693</span><br><span class=\"line\">2694</span><br><span class=\"line\">2695</span><br><span class=\"line\">2696</span><br><span class=\"line\">2697</span><br><span class=\"line\">2698</span><br><span class=\"line\">2699</span><br><span class=\"line\">2700</span><br><span class=\"line\">2701</span><br><span class=\"line\">2702</span><br><span class=\"line\">2703</span><br><span class=\"line\">2704</span><br><span class=\"line\">2705</span><br><span class=\"line\">2706</span><br><span class=\"line\">2707</span><br><span class=\"line\">2708</span><br><span class=\"line\">2709</span><br><span class=\"line\">2710</span><br><span class=\"line\">2711</span><br><span class=\"line\">2712</span><br><span class=\"line\">2713</span><br><span class=\"line\">2714</span><br><span class=\"line\">2715</span><br><span class=\"line\">2716</span><br><span class=\"line\">2717</span><br><span class=\"line\">2718</span><br><span class=\"line\">2719</span><br><span class=\"line\">2720</span><br><span class=\"line\">2721</span><br><span class=\"line\">2722</span><br><span class=\"line\">2723</span><br><span class=\"line\">2724</span><br><span class=\"line\">2725</span><br><span class=\"line\">2726</span><br><span class=\"line\">2727</span><br><span class=\"line\">2728</span><br><span class=\"line\">2729</span><br><span class=\"line\">2730</span><br><span class=\"line\">2731</span><br><span class=\"line\">2732</span><br><span class=\"line\">2733</span><br><span class=\"line\">2734</span><br><span class=\"line\">2735</span><br><span class=\"line\">2736</span><br><span class=\"line\">2737</span><br><span class=\"line\">2738</span><br><span class=\"line\">2739</span><br><span class=\"line\">2740</span><br><span class=\"line\">2741</span><br><span class=\"line\">2742</span><br><span class=\"line\">2743</span><br><span class=\"line\">2744</span><br><span class=\"line\">2745</span><br><span class=\"line\">2746</span><br><span class=\"line\">2747</span><br><span class=\"line\">2748</span><br><span class=\"line\">2749</span><br><span class=\"line\">2750</span><br><span class=\"line\">2751</span><br><span class=\"line\">2752</span><br><span class=\"line\">2753</span><br><span class=\"line\">2754</span><br><span class=\"line\">2755</span><br><span class=\"line\">2756</span><br><span class=\"line\">2757</span><br><span class=\"line\">2758</span><br><span class=\"line\">2759</span><br><span class=\"line\">2760</span><br><span class=\"line\">2761</span><br><span class=\"line\">2762</span><br><span class=\"line\">2763</span><br><span class=\"line\">2764</span><br><span class=\"line\">2765</span><br><span class=\"line\">2766</span><br><span class=\"line\">2767</span><br><span class=\"line\">2768</span><br><span class=\"line\">2769</span><br><span class=\"line\">2770</span><br><span class=\"line\">2771</span><br><span class=\"line\">2772</span><br><span class=\"line\">2773</span><br><span class=\"line\">2774</span><br><span class=\"line\">2775</span><br><span class=\"line\">2776</span><br><span class=\"line\">2777</span><br><span class=\"line\">2778</span><br><span class=\"line\">2779</span><br><span class=\"line\">2780</span><br><span class=\"line\">2781</span><br><span class=\"line\">2782</span><br><span class=\"line\">2783</span><br><span class=\"line\">2784</span><br><span class=\"line\">2785</span><br><span class=\"line\">2786</span><br><span class=\"line\">2787</span><br><span class=\"line\">2788</span><br><span class=\"line\">2789</span><br><span class=\"line\">2790</span><br><span class=\"line\">2791</span><br><span class=\"line\">2792</span><br><span class=\"line\">2793</span><br><span class=\"line\">2794</span><br><span class=\"line\">2795</span><br><span class=\"line\">2796</span><br><span class=\"line\">2797</span><br><span class=\"line\">2798</span><br><span class=\"line\">2799</span><br><span class=\"line\">2800</span><br><span class=\"line\">2801</span><br><span class=\"line\">2802</span><br><span class=\"line\">2803</span><br><span class=\"line\">2804</span><br><span class=\"line\">2805</span><br><span class=\"line\">2806</span><br><span class=\"line\">2807</span><br><span class=\"line\">2808</span><br><span class=\"line\">2809</span><br><span class=\"line\">2810</span><br><span class=\"line\">2811</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;div class=&quot;cost-list&quot;&gt;</span><br><span class=\"line\">    &lt;ws-list-panel</span><br><span class=\"line\">      :loading=&quot;loading&quot;</span><br><span class=\"line\">      :data=&quot;list&quot;</span><br><span class=\"line\">      :columns=&quot;columns&quot;</span><br><span class=\"line\">      :selection=&quot;true&quot;</span><br><span class=\"line\">      :page-num=&quot;pageNum&quot;</span><br><span class=\"line\">      :page-size=&quot;pageSize&quot;</span><br><span class=\"line\">      :total=&quot;total&quot;</span><br><span class=\"line\">      :pageSizes=&quot;[10]&quot;</span><br><span class=\"line\">      :reset=&quot;false&quot;</span><br><span class=\"line\">      @size-change=&quot;handleSizeChange&quot;</span><br><span class=\"line\">      @detail-click=&quot;handleDetailGoto&quot;</span><br><span class=\"line\">      @detail-click-dialog=&quot;handleDetail&quot;</span><br><span class=\"line\">      @detail-click-writeoff=&quot;writeOffDetail&quot;</span><br><span class=\"line\">      @edit-click=&quot;editDetailClick&quot;</span><br><span class=\"line\">      @certificate-click=&quot;handleCertificateDetail&quot;</span><br><span class=\"line\">      @current-change=&quot;handleCurrentChange&quot;</span><br><span class=\"line\">      @handleConfirm=&quot;handleConfirm&quot;</span><br><span class=\"line\">      @selection-change=&quot;handleSelection&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;template slot=&quot;title&quot;&gt;</span><br><span class=\"line\">        &lt;ws-data-search</span><br><span class=\"line\">          ref=&quot;filters&quot;</span><br><span class=\"line\">          :filters=&quot;filters&quot;</span><br><span class=\"line\">          :loading=&quot;loading&quot;</span><br><span class=\"line\">          @search=&quot;dataSearch&quot;</span><br><span class=\"line\">          :showMore=&quot;true&quot;</span><br><span class=\"line\">        &gt;&lt;/ws-data-search&gt;</span><br><span class=\"line\">      &lt;/template&gt;</span><br><span class=\"line\">      &lt;template slot=&quot;operation&quot;&gt;</span><br><span class=\"line\">        &lt;div&gt;</span><br><span class=\"line\">          &lt;el-dropdown</span><br><span class=\"line\">            trigger=&quot;click&quot;</span><br><span class=\"line\">            size=&quot;mini&quot;</span><br><span class=\"line\">            type=&quot;primary&quot;</span><br><span class=\"line\">            v-for=&quot;(item, index) in commandList&quot;</span><br><span class=\"line\">            :key=&quot;index&quot;</span><br><span class=\"line\">            :v-permission=&quot;item.permission&quot;</span><br><span class=\"line\">            style=&quot;margin-right:10px;&quot;</span><br><span class=\"line\">            @command=&quot;handleCommand($event, item)&quot;</span><br><span class=\"line\">          &gt;</span><br><span class=\"line\">            &lt;el-button type=&quot;primary&quot;&gt;&#123;&#123; item.titleName &#125;&#125; &lt;i class=&quot;el-icon-arrow-down&quot;&gt;&lt;/i&gt; &lt;/el-button&gt;</span><br><span class=\"line\">            &lt;el-dropdown-menu slot=&quot;dropdown&quot;&gt;</span><br><span class=\"line\">              &lt;el-dropdown-item command=&quot;select&quot;&gt;按选择&#123;&#123; item.opt &#125;&#125;&lt;/el-dropdown-item&gt;</span><br><span class=\"line\">              &lt;el-dropdown-item command=&quot;query&quot;&gt;按条件&#123;&#123; item.opt &#125;&#125;&lt;/el-dropdown-item&gt;</span><br><span class=\"line\">              &lt;el-dropdown-item command=&quot;input&quot;&gt;按录入&#123;&#123; item.opt &#125;&#125;&lt;/el-dropdown-item&gt;</span><br><span class=\"line\">              &lt;el-dropdown-item command=&quot;scene&quot; v-if=&quot;item.type === &#x27;certificate&#x27;&quot;</span><br><span class=\"line\">                &gt;按场景&#123;&#123; item.opt &#125;&#125;&lt;/el-dropdown-item</span><br><span class=\"line\">              &gt;</span><br><span class=\"line\">            &lt;/el-dropdown-menu&gt;</span><br><span class=\"line\">          &lt;/el-dropdown&gt;</span><br><span class=\"line\">        &lt;/div&gt;</span><br><span class=\"line\">        &lt;el-button</span><br><span class=\"line\">          type=&quot;primary&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">          icon=&quot;&quot;</span><br><span class=\"line\">          v-permission=&quot;payConfirmPermission&quot;</span><br><span class=\"line\">          v-if=&quot;payConfirmShow&quot;</span><br><span class=\"line\">          @click=&quot;handlePayConfirm&quot;</span><br><span class=\"line\">          &gt;&#123;&#123; confirmTitle &#125;&#125;&lt;/el-button</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;el-button</span><br><span class=\"line\">          type=&quot;primary&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">          icon=&quot;el-icon-download&quot;</span><br><span class=\"line\">          v-if=&quot;payConfirmShow&quot;</span><br><span class=\"line\">          v-permission=&quot;uploadPermission&quot;</span><br><span class=\"line\">          @click=&quot;handleMulDownload&quot;</span><br><span class=\"line\">          &gt;下载导入模板&lt;/el-button</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; v-if=&quot;bankDataShow&quot; @click=&quot;handleProvisionInfo&quot;&gt;月底计提&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button</span><br><span class=\"line\">          type=&quot;primary&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">          icon=&quot;el-icon-download&quot;</span><br><span class=\"line\">          v-if=&quot;payConfirmShow&quot;</span><br><span class=\"line\">          v-permission=&quot;uploadPermission&quot;</span><br><span class=\"line\">          @click=&quot;handleImport&quot;</span><br><span class=\"line\">          :loading=&quot;importing&quot;</span><br><span class=\"line\">          &gt;&#123;&#123; importBtnName &#125;&#125;&lt;/el-button</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;!-- &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; icon=&quot;&quot; v-permission=&quot;generateCertificatePermission&quot; @click=&quot;handleMulOpt&quot;</span><br><span class=\"line\">          &gt;生成凭证&lt;/el-button</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; icon=&quot;&quot; v-permission=&quot;&quot; @click=&quot;conditionCertificateCreate&quot;</span><br><span class=\"line\">          &gt;按查询条件生成凭证&lt;/el-button</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;el-button</span><br><span class=\"line\">          type=&quot;primary&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">          v-if=&quot;payConfirmShow&quot;</span><br><span class=\"line\">          icon=&quot;&quot;</span><br><span class=\"line\">          permission=&quot;fap:accounting:business:head:delete&quot;</span><br><span class=\"line\">          @click=&quot;batchDelete&quot;</span><br><span class=\"line\">          &gt;批量删除&lt;/el-button</span><br><span class=\"line\">        &gt; --&gt;</span><br><span class=\"line\">        &lt;el-button</span><br><span class=\"line\">          type=&quot;primary&quot;</span><br><span class=\"line\">          :plain=&quot;true&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">          icon=&quot;el-icon-bottom&quot;</span><br><span class=\"line\">          v-permission=&quot;downloadPermission&quot;</span><br><span class=\"line\">          @click=&quot;handleExport&quot;</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">          导 出</span><br><span class=\"line\">        &lt;/el-button&gt;</span><br><span class=\"line\">        &lt;input ref=&quot;file&quot; type=&quot;file&quot; class=&quot;hide&quot; @change=&quot;fileChange&quot; /&gt;</span><br><span class=\"line\">        &lt;el-dialog</span><br><span class=\"line\">          title=&quot;批量生成凭证&quot;</span><br><span class=\"line\">          :visible.sync=&quot;showConditionDialog&quot;</span><br><span class=\"line\">          width=&quot;700px&quot;</span><br><span class=\"line\">          class=&quot;confirm-form&quot;</span><br><span class=\"line\">          :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">          请确认是否按所选的查询条件批量生成凭证</span><br><span class=\"line\">          &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">            &lt;el-button size=&quot;mini&quot; @click=&quot;showConditionDialog = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">            &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; @click=&quot;conditionHandleMulOpt&quot;&gt;</span><br><span class=\"line\">              确 认</span><br><span class=\"line\">            &lt;/el-button&gt;</span><br><span class=\"line\">          &lt;/div&gt;</span><br><span class=\"line\">        &lt;/el-dialog&gt;</span><br><span class=\"line\">      &lt;/template&gt;</span><br><span class=\"line\">    &lt;/ws-list-panel&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      title=&quot;明细&quot;</span><br><span class=\"line\">      :center=&quot;true&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showDetailDialog&quot;</span><br><span class=\"line\">      width=&quot;1300px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;CostListView :dialogDataId=&quot;dialogDataId&quot; ref=&quot;costListView&quot; /&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showDetailDialog = false&quot; type=&quot;primary&quot;&gt;关 闭&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      title=&quot;凭证&quot;</span><br><span class=\"line\">      :center=&quot;true&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showCertificateDialog&quot;</span><br><span class=\"line\">      width=&quot;1300px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;CostCertificateListView /&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showCertificateDialog = false&quot; type=&quot;primary&quot;&gt;关 闭&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      title=&quot;核销信息&quot;</span><br><span class=\"line\">      :center=&quot;true&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showWriteOffDialog&quot;</span><br><span class=\"line\">      width=&quot;1300px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;CostWriteOffListView :dialogDataId=&quot;writeOffDataId&quot; ref=&quot;costWriteOffListView&quot; /&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showWriteOffDialog = false&quot; type=&quot;primary&quot;&gt;关 闭&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      :title=&quot;confirmTitle&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showConfirmDialog&quot;</span><br><span class=\"line\">      width=&quot;750px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form-dialog&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;ws-form-wrapper :cols=&quot;2&quot;&gt;</span><br><span class=\"line\">        &lt;el-form :model=&quot;form&quot; ref=&quot;form&quot; :rules=&quot;rules&quot; label-position=&quot;left&quot; inline label-width=&quot;100px&quot; size=&quot;mini&quot;&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;用途&quot; prop=&quot;purposeType&quot;&gt;</span><br><span class=\"line\">            &lt;el-select</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              v-model=&quot;confirmForm.purposeType&quot;</span><br><span class=\"line\">              placeholder=&quot;请选择&quot;</span><br><span class=\"line\">              style=&quot;width: 178px&quot;</span><br><span class=\"line\">              @change=&quot;changePurposeType&quot;</span><br><span class=\"line\">            &gt;</span><br><span class=\"line\">              &lt;el-option v-for=&quot;item in purposeTypes&quot; :key=&quot;item.orderNo&quot; :label=&quot;item.text&quot; :value=&quot;item.value&quot;&gt;</span><br><span class=\"line\">              &lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;收付单号&quot; prop=&quot;businessNo&quot;&gt;</span><br><span class=\"line\">            &lt;el-select</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              v-model=&quot;confirmForm.businessNo&quot;</span><br><span class=\"line\">              placeholder=&quot;请选择&quot;</span><br><span class=\"line\">              style=&quot;width: 178px&quot;</span><br><span class=\"line\">              filterable</span><br><span class=\"line\">              @change=&quot;changeOrderNo&quot;</span><br><span class=\"line\">            &gt;</span><br><span class=\"line\">              &lt;el-option v-for=&quot;item in orderNoOptions&quot; :key=&quot;item.id&quot; :label=&quot;item.businessNo&quot; :value=&quot;item&quot;&gt;</span><br><span class=\"line\">              &lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;收付单金额&quot; prop=&quot;amount&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.amount&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;收付单余额&quot; prop=&quot;amount&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.remainAmount&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;收付日期&quot; prop=&quot;receiptTime&quot;&gt;</span><br><span class=\"line\">            &lt;el-date-picker</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              v-model=&quot;confirmForm.receiptTime&quot;</span><br><span class=\"line\">              :disabled=&quot;true&quot;</span><br><span class=\"line\">              type=&quot;date&quot;</span><br><span class=\"line\">              style=&quot;width: 178px&quot;</span><br><span class=\"line\">            /&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;会计日期&quot; prop=&quot;accountTime&quot;&gt;</span><br><span class=\"line\">            &lt;el-date-picker size=&quot;mini&quot; v-model=&quot;confirmForm.accountTime&quot; type=&quot;date&quot; style=&quot;width: 178px&quot; /&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;公司&quot; prop=&quot;companyName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.companyName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;账户&quot; prop=&quot;bankAccountNumber&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.bankAccountNumber&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;账户名称&quot; prop=&quot;bankAccountName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.bankAccountName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;账户银行&quot; prop=&quot;bankName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.bankName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;备注&quot; class=&quot;span-2&quot;&gt;</span><br><span class=\"line\">            &lt;el-input</span><br><span class=\"line\">              class=&quot;mark-input&quot;</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              type=&quot;textarea&quot;</span><br><span class=\"line\">              :disabled=&quot;true&quot;</span><br><span class=\"line\">              :rows=&quot;1&quot;</span><br><span class=\"line\">              v-model=&quot;confirmForm.remark&quot;</span><br><span class=\"line\">              style=&quot;width: 580px&quot;</span><br><span class=\"line\">            &gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-divider content-position=&quot;left&quot;&gt; 收付明细&lt;/el-divider&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;原结算金额&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.remainAmountSum&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;未结算金额&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.paymentAmountSum&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;总含税金额&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.amountTotal&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;税金&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.taxAmountTotal&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;不含税金额&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.amountExcludingTaxTotal&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;其他金额&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.otherAmountTotal&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;!-- &lt;el-form-item label=&quot;容差&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;form.remark&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt; --&gt;</span><br><span class=\"line\">        &lt;/el-form&gt;</span><br><span class=\"line\">        &lt;ws-list-panel</span><br><span class=\"line\">          :loading=&quot;loading&quot;</span><br><span class=\"line\">          :data=&quot;payConfirmList&quot;</span><br><span class=\"line\">          :columns=&quot;PayColumns&quot;</span><br><span class=\"line\">          :selection=&quot;false&quot;</span><br><span class=\"line\">          :showPage=&quot;false&quot;</span><br><span class=\"line\">          :disableHiddenCols=&quot;true&quot;</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;/ws-list-panel&gt;</span><br><span class=\"line\">      &lt;/ws-form-wrapper&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showConfirmDialog = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; :loading=&quot;confirmLoading&quot; @click=&quot;doHandleConfirm&quot;&gt;</span><br><span class=\"line\">          确 认</span><br><span class=\"line\">        &lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      :title=&quot;this.correctType == 1 ? &#x27;冲正确认&#x27; : &#x27;冲销确认&#x27;&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showCorrentDialog&quot;</span><br><span class=\"line\">      width=&quot;700px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;template&gt;</span><br><span class=\"line\">        &lt;span style=&quot;color:red&quot;&gt;*&lt;/span&gt;&lt;span&gt;会计日期：&lt;/span&gt;</span><br><span class=\"line\">        &lt;el-date-picker</span><br><span class=\"line\">          v-model=&quot;form.accountTime&quot;</span><br><span class=\"line\">          type=&quot;date&quot;</span><br><span class=\"line\">          value-format=&quot;timestamp&quot;</span><br><span class=\"line\">          :clearable=&quot;false&quot;</span><br><span class=\"line\">          placeholder=&quot;选择日期&quot;</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;/el-date-picker&gt; &lt;/template</span><br><span class=\"line\">      &gt;&lt;br /&gt;&lt;br /&gt;</span><br><span class=\"line\">      请确认是否对此业务单据号[&#123;&#123; this.form.businessNo &#125;&#125;]进行&#123;&#123; this.correctType === &#x27;1&#x27; ? &#x27;冲正&#x27; : &#x27;冲销&#x27; &#125;&#125;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showCorrentDialog = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; @click=&quot;doHandleCorrent&quot; v-permission=&quot;correctPermission&quot;&gt;</span><br><span class=\"line\">          确 认</span><br><span class=\"line\">        &lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      title=&quot;删除确认&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showDeleteDialog&quot;</span><br><span class=\"line\">      width=&quot;700px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;P style=&quot;text-align:center&quot;&gt;请确认是否删除&lt;/P&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showDeleteDialog = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; @click=&quot;doHandleDelete&quot; permission=&quot;&quot;&gt;</span><br><span class=\"line\">          确 认</span><br><span class=\"line\">        &lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog :title=&quot;commandTitle + &#x27;录入内容&#x27;&quot; :visible.sync=&quot;commandDialog&quot; width=&quot;400px&quot;&gt;</span><br><span class=\"line\">      &lt;el-input type=&quot;textarea&quot; :rows=&quot;15&quot; placeholder=&quot;请输入内容&quot; v-model=&quot;commandTextarea&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button @click=&quot;handleCancel&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; @click=&quot;handleInput&quot;&gt;确 定&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/span&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog :title=&quot;&#x27;选择场景生成凭证&#x27;&quot; :visible.sync=&quot;sceneDialog&quot; width=&quot;400px&quot;&gt;</span><br><span class=\"line\">      &lt;el-form label-position=&quot;left&quot; label-width=&quot;80px&quot;&gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;选择场景&quot;&gt;</span><br><span class=\"line\">          &lt;el-select size=&quot;mini&quot; style=&quot;width:270px&quot; filterable v-model=&quot;sceneId&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class=\"line\">            &lt;el-option</span><br><span class=\"line\">              v-for=&quot;item in sceneConfigList&quot;</span><br><span class=\"line\">              :key=&quot;item.sceneId&quot;</span><br><span class=\"line\">              :label=&quot;item.sceneName + &#x27;(&#x27; + item.sceneId + &#x27;)&#x27;&quot;</span><br><span class=\"line\">              :value=&quot;item.sceneId&quot;</span><br><span class=\"line\">            &gt;&lt;/el-option&gt;</span><br><span class=\"line\">          &lt;/el-select&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;录入内容&quot;&gt;</span><br><span class=\"line\">          &lt;el-input type=&quot;textarea&quot; :rows=&quot;15&quot; placeholder=&quot;请输入单据列表&quot; v-model=&quot;commandTextarea&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">      &lt;/el-form&gt;</span><br><span class=\"line\">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button @click=&quot;sceneDialog = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; @click=&quot;handleSceneCertificate&quot;&gt;确 定&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/span&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog :title=&quot;commandTitle + &#x27;录入内容&#x27;&quot; :visible.sync=&quot;hubCommandDialog&quot; width=&quot;400px&quot;&gt;</span><br><span class=\"line\">      &lt;el-form</span><br><span class=\"line\">        ref=&quot;changeStatusForm&quot;</span><br><span class=\"line\">        :model=&quot;hubchangeForm&quot;</span><br><span class=\"line\">        :rules=&quot;hubchangeRules&quot;</span><br><span class=\"line\">        label-position=&quot;left&quot;</span><br><span class=\"line\">        label-width=&quot;80px&quot;</span><br><span class=\"line\">      &gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;会计日期&quot; prop=&quot;hubaccountTime&quot;&gt;</span><br><span class=\"line\">          &lt;el-date-picker</span><br><span class=\"line\">            v-model=&quot;hubchangeForm.hubaccountTime&quot;</span><br><span class=\"line\">            type=&quot;date&quot;</span><br><span class=\"line\">            value-format=&quot;timestamp&quot;</span><br><span class=\"line\">            :clearable=&quot;false&quot;</span><br><span class=\"line\">            placeholder=&quot;选择日期&quot;</span><br><span class=\"line\">          &gt;</span><br><span class=\"line\">          &lt;/el-date-picker&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;录入内容&quot; prop=&quot;textarea&quot; v-if=&quot;buttonType === &#x27;input&#x27;&quot;&gt;</span><br><span class=\"line\">          &lt;el-input type=&quot;textarea&quot; :rows=&quot;15&quot; placeholder=&quot;请输入内容&quot; v-model=&quot;hubchangeForm.textarea&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">      &lt;/el-form&gt;</span><br><span class=\"line\">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button @click=&quot;hubhandleCancel&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; @click=&quot;hubhandleInput&quot;&gt;确 定&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/span&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog title=&quot;请选择计提月份&quot; :visible.sync=&quot;provisionFormDialog&quot; width=&quot;500px&quot;&gt;</span><br><span class=\"line\">      &lt;el-form :model=&quot;provisionForm&quot; label-position=&quot;left&quot; label-width=&quot;80px&quot;&gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;会计月份&quot;&gt;</span><br><span class=\"line\">          &lt;el-date-picker</span><br><span class=\"line\">            v-model=&quot;provisionForm.accountMonth&quot;</span><br><span class=\"line\">            type=&quot;month&quot;</span><br><span class=\"line\">            value-format=&quot;yyyy-MM&quot;</span><br><span class=\"line\">            :clearable=&quot;false&quot;</span><br><span class=\"line\">            placeholder=&quot;会计月份&quot;</span><br><span class=\"line\">          &gt;</span><br><span class=\"line\">          &lt;/el-date-picker&gt;</span><br><span class=\"line\">          &lt;el-button @click=&quot;getProvisionInfo&quot;&gt;查看计提信息&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;计提信息&quot; class=&quot;span-2&quot;&gt;</span><br><span class=\"line\">          &lt;el-input</span><br><span class=\"line\">            class=&quot;mark-input&quot;</span><br><span class=\"line\">            size=&quot;mini&quot;</span><br><span class=\"line\">            type=&quot;textarea&quot;</span><br><span class=\"line\">            :disabled=&quot;false&quot;</span><br><span class=\"line\">            :rows=&quot;5&quot;</span><br><span class=\"line\">            v-model=&quot;provisionForm.info&quot;</span><br><span class=\"line\">            style=&quot;width: 350px&quot;</span><br><span class=\"line\">          &gt;&lt;/el-input&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">      &lt;/el-form&gt;</span><br><span class=\"line\">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button @click=&quot;provisionFormCancel&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; @click=&quot;doProvision&quot;&gt;确定计提&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/span&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      title=&quot;修改单据&quot;</span><br><span class=\"line\">      :center=&quot;true&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showEditDetailDialog&quot;</span><br><span class=\"line\">      width=&quot;1300px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;ws-form-wrapper :cols=&quot;2&quot;&gt;</span><br><span class=\"line\">        &lt;el-form</span><br><span class=\"line\">          :model=&quot;detailForm&quot;</span><br><span class=\"line\">          ref=&quot;detailForm&quot;</span><br><span class=\"line\">          :rules=&quot;detailrules&quot;</span><br><span class=\"line\">          label-position=&quot;left&quot;</span><br><span class=\"line\">          inline</span><br><span class=\"line\">          class=&quot;detail-form&quot;</span><br><span class=\"line\">          label-width=&quot;100px&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;业务单据号&quot; prop=&quot;businessNo&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.businessNo&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;业务类型&quot; prop=&quot;businessTypeName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.businessTypeName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;冲正序号&quot; prop=&quot;correctingNo&quot;&gt;</span><br><span class=\"line\">            &lt;el-input</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              type=&quot;text&quot;</span><br><span class=\"line\">              v-model=&quot;detailForm.correctingNo&quot;</span><br><span class=\"line\">              :disabled=&quot;this.form.id !== &#x27;&#x27;&quot;</span><br><span class=\"line\">            &gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;单据类型&quot; prop=&quot;orderTypeName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.orderTypeName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;公司&quot; prop=&quot;companyName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.companyName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;往来单位1&quot; prop=&quot;contactUnit1&quot;&gt;</span><br><span class=\"line\">            &lt;el-select size=&quot;mini&quot; filterable v-model=&quot;detailForm.contactUnit1&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class=\"line\">              &lt;el-option</span><br><span class=\"line\">                v-for=&quot;item in contactUnitOptions&quot;</span><br><span class=\"line\">                :key=&quot;item.unitCode&quot;</span><br><span class=\"line\">                :label=&quot;item.unitName&quot;</span><br><span class=\"line\">                :value=&quot;item.unitCode&quot;</span><br><span class=\"line\">              &gt;&lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;往来单位2&quot;&gt;</span><br><span class=\"line\">            &lt;el-select size=&quot;mini&quot; filterable v-model=&quot;detailForm.contactUnit2&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class=\"line\">              &lt;el-option</span><br><span class=\"line\">                v-for=&quot;item in contactUnitOptions&quot;</span><br><span class=\"line\">                :key=&quot;item.unitCode&quot;</span><br><span class=\"line\">                :label=&quot;item.unitName&quot;</span><br><span class=\"line\">                :value=&quot;item.unitCode&quot;</span><br><span class=\"line\">              &gt;&lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;会计日期&quot; prop=&quot;accountTime&quot;&gt;</span><br><span class=\"line\">            &lt;el-date-picker</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              v-model=&quot;detailForm.accountTime&quot;</span><br><span class=\"line\">              :clearable=&quot;false&quot;</span><br><span class=\"line\">              placeholder=&quot;选择日期&quot;</span><br><span class=\"line\">              style=&quot;width: 178px&quot;</span><br><span class=\"line\">            &gt;</span><br><span class=\"line\">            &lt;/el-date-picker&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;含税金额&quot; prop=&quot;amount&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.amount&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;税金&quot; prop=&quot;amountTax&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.amountTax&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;不含税金额&quot; prop=&quot;amountExcludingTax&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.amountExcludingTax&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;我方账户&quot; prop=&quot;weAccountId&quot;&gt;</span><br><span class=\"line\">            &lt;el-select size=&quot;mini&quot; filterable v-model=&quot;detailForm.weAccountId&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class=\"line\">              &lt;el-option</span><br><span class=\"line\">                v-for=&quot;item in ascriptionFlagOptions1&quot;</span><br><span class=\"line\">                :key=&quot;item.unitCode&quot;</span><br><span class=\"line\">                :label=&quot;`$&#123;item.accountId&#125;($&#123;item.accountName&#125;)`&quot;</span><br><span class=\"line\">                :value=&quot;item.accountId&quot;</span><br><span class=\"line\">              &gt;&lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;对方账户&quot; prop=&quot;accountId&quot;&gt;</span><br><span class=\"line\">            &lt;el-select size=&quot;mini&quot; filterable v-model=&quot;detailForm.accountId&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class=\"line\">              &lt;el-option</span><br><span class=\"line\">                v-for=&quot;item in ascriptionFlagOptions2&quot;</span><br><span class=\"line\">                :key=&quot;item.unitCode&quot;</span><br><span class=\"line\">                :label=&quot;`$&#123;item.accountId&#125;($&#123;item.accountName&#125;)`&quot;</span><br><span class=\"line\">                :value=&quot;item.accountId&quot;</span><br><span class=\"line\">              &gt;&lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;关联单号&quot; prop=&quot;associateNo&quot;&gt;</span><br><span class=\"line\">            &lt;div class=&quot;el-input el-input--mini&quot;&gt;</span><br><span class=\"line\">              &lt;input</span><br><span class=\"line\">                size=&quot;mini&quot;</span><br><span class=\"line\">                v-model.lazy=&quot;detailForm.associateNo&quot;</span><br><span class=\"line\">                placeholder=&quot;请输入关联单号&quot;</span><br><span class=\"line\">                class=&quot;el-input__inner&quot;</span><br><span class=\"line\">              /&gt;</span><br><span class=\"line\">            &lt;/div&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;备注&quot; prop=&quot;summary&quot;&gt;</span><br><span class=\"line\">            &lt;div class=&quot;el-input el-input--mini&quot;&gt;</span><br><span class=\"line\">              &lt;textarea</span><br><span class=\"line\">                size=&quot;mini&quot;</span><br><span class=\"line\">                v-model.lazy=&quot;detailForm.summary&quot;</span><br><span class=\"line\">                placeholder=&quot;请输入备注&quot;</span><br><span class=\"line\">                class=&quot;el-textarea__inner&quot;</span><br><span class=\"line\">              &gt;&lt;/textarea&gt;</span><br><span class=\"line\">            &lt;/div&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">        &lt;/el-form&gt;</span><br><span class=\"line\">      &lt;/ws-form-wrapper&gt;</span><br><span class=\"line\">      &lt;el-table :data=&quot;detailFormList&quot; size=&quot;mini&quot; border stripe height=&quot;200px&quot; style=&quot;width: 100%&quot;&gt;</span><br><span class=\"line\">        &lt;template v-for=&quot;item in detailFormColumns&quot;&gt;</span><br><span class=\"line\">          &lt;el-table-column</span><br><span class=\"line\">            :show-overflow-tooltip=&quot;true&quot;</span><br><span class=\"line\">            :key=&quot;item.property&quot;</span><br><span class=\"line\">            :prop=&quot;item.property&quot;</span><br><span class=\"line\">            :label=&quot;item.title&quot;</span><br><span class=\"line\">            :width=&quot;item.width || undefined&quot;</span><br><span class=\"line\">            v-if=&quot;!item.hidden&quot;</span><br><span class=\"line\">          &gt;</span><br><span class=\"line\">            &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class=\"line\">              &lt;span v-if=&quot;!item.type&quot;&gt;&#123;&#123; scope.row[item.property] &#125;&#125;&lt;/span&gt;</span><br><span class=\"line\">              &lt;span v-else-if=&quot;item.type === &#x27;number&#x27;&quot;&gt;&#123;&#123; scope.row[item.property] | amountFilter &#125;&#125;&lt;/span&gt;</span><br><span class=\"line\">              &lt;el-input</span><br><span class=\"line\">                v-else-if=&quot;item.type === &#x27;textarea&#x27;&quot;</span><br><span class=\"line\">                size=&quot;mini&quot;</span><br><span class=\"line\">                type=&quot;textarea&quot;</span><br><span class=\"line\">                v-model=&quot;scope.row[item.property]&quot;</span><br><span class=\"line\">              &gt;&lt;/el-input&gt;</span><br><span class=\"line\">              &lt;el-select</span><br><span class=\"line\">                v-else-if=&quot;item.type === &#x27;select&#x27;&quot;</span><br><span class=\"line\">                size=&quot;mini&quot;</span><br><span class=\"line\">                v-model=&quot;scope.row[item.property]&quot;</span><br><span class=\"line\">                filterable</span><br><span class=\"line\">                clearable</span><br><span class=\"line\">                class=&quot;type-select&quot;</span><br><span class=\"line\">                @select=&quot;handleSelectItem(scope.row, item)&quot;</span><br><span class=\"line\">              &gt;</span><br><span class=\"line\">                &lt;el-option</span><br><span class=\"line\">                  v-for=&quot;option in item.selectOption || []&quot;</span><br><span class=\"line\">                  :key=&quot;option[item.selectKey]&quot;</span><br><span class=\"line\">                  :label=&quot;`$&#123;option[item.selectValue]&#125;($&#123;option[item.selectKey]&#125;)`&quot;</span><br><span class=\"line\">                  :value=&quot;option[item.selectKey]&quot;</span><br><span class=\"line\">                &gt;&lt;/el-option&gt;</span><br><span class=\"line\">              &lt;/el-select&gt;</span><br><span class=\"line\">            &lt;/template&gt;</span><br><span class=\"line\">          &lt;/el-table-column&gt;</span><br><span class=\"line\">        &lt;/template&gt;</span><br><span class=\"line\">      &lt;/el-table&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showEditDetailDialog = false&quot; type=&quot;primary&quot; plain&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;editSave&quot; type=&quot;primary&quot;&gt;确 认&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;!-- &lt;iframe :src=&quot;payDiaLog&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt; --&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">import &#123; mapState, mapActions &#125; from &#x27;vuex&#x27;</span><br><span class=\"line\">import &#123; purposeTypes, getFileName, accountFlags, paymentFlags, paymentCheckFlags, YesNoNum, clientCodes &#125; from &#x27;@/utils/dict&#x27; // orderOptions</span><br><span class=\"line\">import &#123; kiloSplit, dateFormat, getParamsUrl &#125; from &#x27;@/utils/utils&#x27;</span><br><span class=\"line\">import moment from &#x27;moment&#x27;</span><br><span class=\"line\">import api from &#x27;@/utils/api&#x27;</span><br><span class=\"line\">import CostListView from &#x27;@/views/CostPay/CostListView&#x27;</span><br><span class=\"line\">import CostCertificateListView from &#x27;@/views/CostPay/CostCertificateListView&#x27;</span><br><span class=\"line\">import CostWriteOffListView from &#x27;@/views/CostPay/CostWriteOffListView&#x27;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">  name: &#x27;cost-list&#x27;,</span><br><span class=\"line\">  components: &#123;</span><br><span class=\"line\">    CostListView,</span><br><span class=\"line\">    CostCertificateListView,</span><br><span class=\"line\">    CostWriteOffListView</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  props: [</span><br><span class=\"line\">    // &#x27;optColumn&#x27;,</span><br><span class=\"line\">    &#x27;payConfirmPermission&#x27;, // 收付确认</span><br><span class=\"line\">    &#x27;generateCertificatePermission&#x27;, // 生成凭证</span><br><span class=\"line\">    &#x27;uploadPermission&#x27;, // 导入</span><br><span class=\"line\">    &#x27;downloadPermission&#x27;, // 导出</span><br><span class=\"line\">    &#x27;correctPermission&#x27;, // 冲正</span><br><span class=\"line\">    &#x27;deletePermission&#x27;, // 删除</span><br><span class=\"line\">    &#x27;provisionPermission&#x27;, // 计提</span><br><span class=\"line\">    &#x27;orderTypeCodes&#x27;,</span><br><span class=\"line\">    &#x27;businessTypeCodes&#x27;,</span><br><span class=\"line\">    &#x27;fundDirect&#x27;,</span><br><span class=\"line\">    &#x27;businessScope&#x27;,</span><br><span class=\"line\">    &#x27;isShowEditOpt&#x27; // 显示修改按钮</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  data () &#123;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">      accountFlags,</span><br><span class=\"line\">      commandTitle: &#x27;&#x27;,</span><br><span class=\"line\">      commandDialog: false,</span><br><span class=\"line\">      sceneDialog: false,</span><br><span class=\"line\">      sceneId: &#x27;&#x27;,</span><br><span class=\"line\">      sceneConfigList: [],</span><br><span class=\"line\">      hubCommandDialog: false,</span><br><span class=\"line\">      hubaccountTime: &#x27;&#x27;,</span><br><span class=\"line\">      commandTextarea: &#x27;&#x27;,</span><br><span class=\"line\">      commandType: &#x27;&#x27;, // 按钮类型</span><br><span class=\"line\">      buttonType: &#x27;&#x27;, // 下拉选择类型</span><br><span class=\"line\">      provisionFormDialog: false, // 月底计提提示框</span><br><span class=\"line\">      provisionForm: &#123;</span><br><span class=\"line\">        accountMonth: &#x27;&#x27;,</span><br><span class=\"line\">        info: &#x27;&#x27;,</span><br><span class=\"line\">        fundDirect: &#x27;&#x27;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      commandList: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          titleName: &#x27;删除&#x27;,</span><br><span class=\"line\">          opt: &#x27;删除&#x27;,</span><br><span class=\"line\">          type: &#x27;delete&#x27;,</span><br><span class=\"line\">          permission: &#x27;deletePermission&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          titleName: &#x27;生成凭证&#x27;,</span><br><span class=\"line\">          opt: &#x27;生成凭证&#x27;,</span><br><span class=\"line\">          type: &#x27;certificate&#x27;,</span><br><span class=\"line\">          permission: &#x27;generateCertificatePermission&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          titleName: &#x27;冲销&#x27;,</span><br><span class=\"line\">          opt: &#x27;冲销&#x27;,</span><br><span class=\"line\">          type: &#x27;writeOff&#x27;,</span><br><span class=\"line\">          permission: &#x27;correctPermission&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          titleName: &#x27;冲正&#x27;,</span><br><span class=\"line\">          opt: &#x27;冲正&#x27;,</span><br><span class=\"line\">          type: &#x27;correct&#x27;,</span><br><span class=\"line\">          permission: &#x27;correctPermission&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      hubchangeForm: &#123;</span><br><span class=\"line\">        hubaccountTime: &#x27;&#x27;,</span><br><span class=\"line\">        textarea: &#x27;&#x27;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      hubchangeRules: &#123;</span><br><span class=\"line\">        hubaccountTime: [&#123; required: true, message: &#x27;必填&#x27;, trigger: &#x27;change&#x27; &#125;],</span><br><span class=\"line\">        textarea: [&#123; required: true, message: &#x27;必填&#x27;, trigger: &#x27;blur&#x27; &#125;]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      purposeTypes,</span><br><span class=\"line\">      actions: [],</span><br><span class=\"line\">      deleteIds: [],</span><br><span class=\"line\">      importing: false,</span><br><span class=\"line\">      importDisplay: false,</span><br><span class=\"line\">      payConfirmShow: false,</span><br><span class=\"line\">      bankDataShow: false,</span><br><span class=\"line\">      confirmForm: &#123;</span><br><span class=\"line\">        purposeType: &#x27;&#x27;,</span><br><span class=\"line\">        businessNo: &#x27;&#x27;,</span><br><span class=\"line\">        amount: &#x27;&#x27;,</span><br><span class=\"line\">        companyName: &#x27;&#x27;,</span><br><span class=\"line\">        bankAccountNumber: &#x27;&#x27;,</span><br><span class=\"line\">        bankAccountName: &#x27;&#x27;,</span><br><span class=\"line\">        remark: &#x27;&#x27;,</span><br><span class=\"line\">        amountTotal: &#x27;&#x27;,</span><br><span class=\"line\">        taxAmountTotal: &#x27;&#x27;,</span><br><span class=\"line\">        orderTypeCode: &#x27;&#x27;,</span><br><span class=\"line\">        amountExcludingTaxTotal: &#x27;&#x27;,</span><br><span class=\"line\">        otherAmountTotal: &#x27;&#x27;,</span><br><span class=\"line\">        receiptTime: &#x27;&#x27;,</span><br><span class=\"line\">        accountTime: &#x27;&#x27;,</span><br><span class=\"line\">        remainAmountSum: &#x27;&#x27;,</span><br><span class=\"line\">        paymentAmountSum: &#x27;&#x27;,</span><br><span class=\"line\">        remainAmount: &#x27;&#x27;,</span><br><span class=\"line\">        id: &#x27;&#x27;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      form: &#123;</span><br><span class=\"line\">        businessNo: &#x27;&#x27;,</span><br><span class=\"line\">        orderTypeCode: &#x27;&#x27;,</span><br><span class=\"line\">        accountTime: &#x27;&#x27;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      rules: &#123;</span><br><span class=\"line\">        purposeType: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        receiptPaymentNo: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        amount: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        remainAmount: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        companyName: [&#123; required: true, message: &#x27;请填写&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        bankAccountNumber: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        bankAccountName: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        receiptTime: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        accountTime: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        amountTotal: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        taxAmountTotal: [&#123; required: true, message: &#x27;请填写&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        bankName: [&#123; required: true, message: &#x27;请填写&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        amountExcludingTaxTotal: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        otherAmountTotal: [&#123; required: true, message: &#x27;请填写&#x27;, trigger: &#x27;blur&#x27; &#125;]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      loading: false,</span><br><span class=\"line\">      confirmLoading: false,</span><br><span class=\"line\">      refleshCb: () =&gt; &#123;&#125;,</span><br><span class=\"line\">      selectOptions: [],</span><br><span class=\"line\">      showConditionDialog: false,</span><br><span class=\"line\">      columns: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;业务类型&#x27;,</span><br><span class=\"line\">          property: &#x27;businessTypeName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;单据类型&#x27;,</span><br><span class=\"line\">          property: &#x27;orderTypeName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;公司代码&#x27;,</span><br><span class=\"line\">          property: &#x27;companyCode&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;公司名称&#x27;,</span><br><span class=\"line\">          property: &#x27;companyName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;往来单位代码&#x27;,</span><br><span class=\"line\">          property: &#x27;contactUnit1&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;往来单位名称&#x27;,</span><br><span class=\"line\">          property: &#x27;contactUnitName1&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;业务单据号&#x27;,</span><br><span class=\"line\">          property: &#x27;businessNo&#x27;,</span><br><span class=\"line\">          width: 140</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;冲正序号&#x27;,</span><br><span class=\"line\">          property: &#x27;correctingNo&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        // &#123;</span><br><span class=\"line\">        //   title: &#x27;收付单号&#x27;,</span><br><span class=\"line\">        //   property: &#x27;settlementNo&#x27;,</span><br><span class=\"line\">        //   detail: true,</span><br><span class=\"line\">        //   width: 120</span><br><span class=\"line\">        // &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;核销方单号&#x27;,</span><br><span class=\"line\">          property: &#x27;writeOffNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;核销方序号&#x27;,</span><br><span class=\"line\">          property: &#x27;writeOffCorrectingNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;被核销方单号&#x27;,</span><br><span class=\"line\">          property: &#x27;writtenOffNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;被核销方序号&#x27;,</span><br><span class=\"line\">          property: &#x27;writtenOffCorrectingNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;关联单号&#x27;,</span><br><span class=\"line\">          property: &#x27;associateNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;结算单号&#x27;,</span><br><span class=\"line\">          property: &#x27;settlementNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;冲正有效标记&#x27;,</span><br><span class=\"line\">          property: &#x27;correctingFlag&#x27;,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            return val.correctingFlag === 0 ? &#x27;否&#x27; : &#x27;是&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;税务单号&#x27;,</span><br><span class=\"line\">          property: &#x27;taxNo&#x27;,</span><br><span class=\"line\">          hidden: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;币种&#x27;,</span><br><span class=\"line\">          property: &#x27;currency&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;税金&#x27;,</span><br><span class=\"line\">          property: &#x27;amountTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amountTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;不含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amountExcludingTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          width: 130,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountExcludingTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amountExcludingTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;其他金额&#x27;,</span><br><span class=\"line\">          property: &#x27;otherAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.otherAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.otherAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;结算金额&#x27;,</span><br><span class=\"line\">          property: &#x27;settlementAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.settlementAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.settlementAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;businessTime&#x27;,</span><br><span class=\"line\">          title: &#x27;业务时间&#x27;,</span><br><span class=\"line\">          formatter: function (row) &#123;</span><br><span class=\"line\">            return row.businessTime === undefined ? &#x27;&#x27; : dateFormat(&#x27;yyyy-MM-dd hh:mm:ss&#x27;, new Date(row.businessTime))</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;accountTime&#x27;,</span><br><span class=\"line\">          title: &#x27;会计日期&#x27;,</span><br><span class=\"line\">          formatter: function (row) &#123;</span><br><span class=\"line\">            return row.accountTime === undefined ? &#x27;&#x27; : dateFormat(&#x27;yyyy-MM-dd&#x27;, new Date(row.accountTime))</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;paymentFlag&#x27;,</span><br><span class=\"line\">          title: &#x27;收付标记&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.paymentFlag === 0) &#123;</span><br><span class=\"line\">              return &#x27;未收付&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.paymentFlag === 1) &#123;</span><br><span class=\"line\">              return &#x27;已收付&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.paymentFlag === 2) &#123;</span><br><span class=\"line\">              return &#x27;部分收付&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;paymentTime&#x27;,</span><br><span class=\"line\">          title: &#x27;收付时间&#x27;,</span><br><span class=\"line\">          formatter: function (row) &#123;</span><br><span class=\"line\">            return row.paymentFlag === 0 || row.paymentTime === undefined</span><br><span class=\"line\">              ? &#x27;&#x27;</span><br><span class=\"line\">              : dateFormat(&#x27;yyyy-MM-dd hh:mm:ss&#x27;, new Date(row.paymentTime))</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;accountFlag&#x27;,</span><br><span class=\"line\">          title: &#x27;挂账标记 &#x27;,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            for (var i = 0; i &lt; accountFlags.length; i++) &#123;</span><br><span class=\"line\">              if (accountFlags[i].value === val.accountFlag) &#123;</span><br><span class=\"line\">                return accountFlags[i].text</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;taxAccountFlag&#x27;,</span><br><span class=\"line\">          title: &#x27;税务记账标记&#x27;,</span><br><span class=\"line\">          hidden: true,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.taxAccountFlag === 0) &#123;</span><br><span class=\"line\">              return &#x27;未记账&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.taxAccountFlag === 1) &#123;</span><br><span class=\"line\">              return &#x27;已记账&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.taxAccountFlag === 2) &#123;</span><br><span class=\"line\">              return &#x27;出错&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;我方账户&#x27;,</span><br><span class=\"line\">          property: &#x27;weAccountId&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;我方账户名称&#x27;,</span><br><span class=\"line\">          property: &#x27;weAccountName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;我方银行信息&#x27;,</span><br><span class=\"line\">          property: &#x27;weBankInfo&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;收付方账户&#x27;,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          property: &#x27;accountId&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;收付方账户名称&#x27;,</span><br><span class=\"line\">          property: &#x27;accountName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;收付方银行信息&#x27;,</span><br><span class=\"line\">          property: &#x27;accountBankName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;说明&#x27;,</span><br><span class=\"line\">          property: &#x27;summary&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;错误信息&#x27;,</span><br><span class=\"line\">          property: &#x27;errorMsg&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;taxAccountTime&#x27;,</span><br><span class=\"line\">          title: &#x27;税务时间&#x27;,</span><br><span class=\"line\">          formatter: &#x27;datetime&#x27;,</span><br><span class=\"line\">          hidden: true,</span><br><span class=\"line\">          datetimeFormat: &#x27;YYYY-MM-DD HH:mm:ss&#x27;,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;formerAccountTime&#x27;,</span><br><span class=\"line\">          title: &#x27;原会计日期&#x27;,</span><br><span class=\"line\">          formatter: function (row) &#123;</span><br><span class=\"line\">            return row.formerAccountTime === undefined ? &#x27;&#x27; : dateFormat(&#x27;yyyy-MM-dd&#x27;, new Date(row.formerAccountTime))</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;clientCode&#x27;,</span><br><span class=\"line\">          title: &#x27;来源&#x27;,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.clientCode === &#x27;FSS&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;综合结算&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;FM&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;费控&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;HLY&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;汇联易&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;HANDWORK&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;手工导入&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;ASSET&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;资产&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;EBS&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;EBS导入&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;BANK&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;银企直联&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return val.clientCode</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;归档号&#x27;,</span><br><span class=\"line\">          property: &#x27;filingNo&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;付款校验状态&#x27;,</span><br><span class=\"line\">          property: &#x27;paymentCheckFlag&#x27;,</span><br><span class=\"line\">          hidden: true,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.paymentCheckFlag === 0) &#123;</span><br><span class=\"line\">              return &#x27;待校验&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.paymentCheckFlag === 1) &#123;</span><br><span class=\"line\">              return &#x27;失败&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.paymentCheckFlag === 2) &#123;</span><br><span class=\"line\">              return &#x27;成功&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;付款校验失败原因&#x27;,</span><br><span class=\"line\">          property: &#x27;paymentCheckErrorMsg&#x27;,</span><br><span class=\"line\">          hidden: true,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;银企付款状态&#x27;,</span><br><span class=\"line\">          property: &#x27;approvalStatusCode&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.approvalStatusCode === 0) &#123;</span><br><span class=\"line\">              return &#x27;未付款&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.approvalStatusCode === 1) &#123;</span><br><span class=\"line\">              return &#x27;付款中&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.approvalStatusCode === 4) &#123;</span><br><span class=\"line\">              return &#x27;付款成功&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.approvalStatusCode === 5) &#123;</span><br><span class=\"line\">              return &#x27;付款失败&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return val.approvalStatusCode</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;operation&#x27;,</span><br><span class=\"line\">          title: &#x27;操作&#x27;,</span><br><span class=\"line\">          width: 200,</span><br><span class=\"line\">          fixed: &#x27;right&#x27;,</span><br><span class=\"line\">          actions: [</span><br><span class=\"line\">            &#123; name: &#x27;detail-click-dialog&#x27;, permission: &#x27;&#x27;, title: &#x27;明细&#x27; &#125;,</span><br><span class=\"line\">            &#123; name: &#x27;certificate-click&#x27;, permission: &#x27;&#x27;, title: &#x27;凭证&#x27; &#125;,</span><br><span class=\"line\">            &#123; name: &#x27;detail-click-writeoff&#x27;, permission: &#x27;&#x27;, title: &#x27;查看核销&#x27; &#125;,</span><br><span class=\"line\">            &#123; name: &#x27;edit-click&#x27;, permission: &#x27;&#x27;, title: &#x27;修改&#x27;, show: v =&gt; v.correctingNo &gt; 1 &amp;&amp; this.isShowEditOpt &amp;&amp; v.correctingFlag === 1 &#125;</span><br><span class=\"line\">          ]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      payConfirmList: [],</span><br><span class=\"line\">      PayColumns: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;单据类型&#x27;,</span><br><span class=\"line\">          property: &#x27;orderTypeName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;业务单据号&#x27;,</span><br><span class=\"line\">          property: &#x27;businessNo&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;税金&#x27;,</span><br><span class=\"line\">          property: &#x27;amountTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amountTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;不含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amountExcludingTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          width: 130,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountExcludingTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amountExcludingTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;其他金额&#x27;,</span><br><span class=\"line\">          property: &#x27;otherAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.otherAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.otherAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;原结算金额&#x27;,</span><br><span class=\"line\">          property: &#x27;remainAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.remainAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.remainAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;未结算金额&#x27;,</span><br><span class=\"line\">          property: &#x27;paymentAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.paymentAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.paymentAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      pageNum: 1,</span><br><span class=\"line\">      pageSize: 10,</span><br><span class=\"line\">      showConfirmDialog: false,</span><br><span class=\"line\">      showCorrentDialog: false,</span><br><span class=\"line\">      showDetailDialog: false,</span><br><span class=\"line\">      showWriteOffDialog: false,</span><br><span class=\"line\">      showCertificateDialog: false,</span><br><span class=\"line\">      showDeleteDialog: false,</span><br><span class=\"line\">      correctType: &#x27;1&#x27;,</span><br><span class=\"line\">      filters: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-a601-cdd5fba86f3b&#x27;,</span><br><span class=\"line\">          title: &#x27;业务类型&#x27;,</span><br><span class=\"line\">          name: &#x27;businessTypeCode&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: [],</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;businessTypeName&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;businessTypeCode&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">          title: &#x27;单据类型&#x27;,</span><br><span class=\"line\">          name: &#x27;orderTypeCode&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: [],</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;orderTypeName&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;orderTypeCode&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;14169248-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;公司名称&#x27;,</span><br><span class=\"line\">          name: &#x27;companyName&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;14169248-ae2a-4dd8-ba58-bdc1637b55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;往来单位名称&#x27;,</span><br><span class=\"line\">          name: &#x27;contactUnitName1&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;16969248-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;业务单据号&#x27;,</span><br><span class=\"line\">          name: &#x27;businessNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">          title: &#x27;冲正有效标记&#x27;,</span><br><span class=\"line\">          name: &#x27;correctingFlag&#x27;,</span><br><span class=\"line\">          default: 1,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: YesNoNum,</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        // &#123;</span><br><span class=\"line\">        //   type: &#x27;daterange&#x27;,</span><br><span class=\"line\">        //   id: &#x27;da9c99d3-05b5-45a7-ad67-5d938fa90109&#x27;,</span><br><span class=\"line\">        //   title: &#x27;创建日期&#x27;,</span><br><span class=\"line\">        //   name: &#x27;sysCtimeRange&#x27;,</span><br><span class=\"line\">        //   desc: &#x27;&#x27;,</span><br><span class=\"line\">        //   span: 1,</span><br><span class=\"line\">        //   dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">        //   dependencyValue: [],</span><br><span class=\"line\">        //   required: false,</span><br><span class=\"line\">        //   jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">        //   clickableInList: false,</span><br><span class=\"line\">        //   color: &#x27;&#x27;,</span><br><span class=\"line\">        //   autoFillControls: [],</span><br><span class=\"line\">        //   autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">        //   readonly: false,</span><br><span class=\"line\">        //   readonlyWhileCreate: false,</span><br><span class=\"line\">        //   hidden: false,</span><br><span class=\"line\">        //   hiddenWhileCreate: false,</span><br><span class=\"line\">        //   validateError: &#123;&#125;,</span><br><span class=\"line\">        //   regex: &#x27;&#x27;,</span><br><span class=\"line\">        //   listReadonlyList: [],</span><br><span class=\"line\">        //   dateFormat: &#x27;&#x27;,</span><br><span class=\"line\">        //   defaultDateDefine: true,</span><br><span class=\"line\">        //   defaultDateUnit: [&#x27;days&#x27;, &#x27;days&#x27;],</span><br><span class=\"line\">        //   defaultDateNum: [0, 0],</span><br><span class=\"line\">        //   dateRangeType: &#x27;daterange&#x27;,</span><br><span class=\"line\">        //   disabled: false,</span><br><span class=\"line\">        //   clearable: true,</span><br><span class=\"line\">        //   hideDisabled: false</span><br><span class=\"line\">        // &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;daterange&#x27;,</span><br><span class=\"line\">          id: &#x27;da9c99d3-05b5-45a7-ad67-5d938fa90109&#x27;,</span><br><span class=\"line\">          title: &#x27;会计日期&#x27;,</span><br><span class=\"line\">          name: &#x27;accountTimeRange&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          dateFormat: &#x27;&#x27;,</span><br><span class=\"line\">          defaultDateDefine: true,</span><br><span class=\"line\">          defaultDateUnit: [&#x27;days&#x27;, &#x27;days&#x27;],</span><br><span class=\"line\">          defaultDateNum: [0, 0],</span><br><span class=\"line\">          dateRangeType: &#x27;daterange&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">          title: &#x27;挂账标记&#x27;,</span><br><span class=\"line\">          name: &#x27;accountFlag&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: accountFlags,</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;16969248-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;结算单号&#x27;,</span><br><span class=\"line\">          name: &#x27;settlementNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          id: &#x27;ebbcee0d-9aa5-4c20-8257-584511ae503f&#x27;,</span><br><span class=\"line\">          title: &#x27;含税金额&#x27;,</span><br><span class=\"line\">          name: &#x27;amountRange&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          precision: 0,</span><br><span class=\"line\">          controls: false,</span><br><span class=\"line\">          max: 999999999,</span><br><span class=\"line\">          min: -999999999,</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          isRange: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;daterange&#x27;,</span><br><span class=\"line\">          id: &#x27;da9c99d3-05b5-45a7-ad67-5d938fa90109&#x27;,</span><br><span class=\"line\">          title: &#x27;收付时间&#x27;,</span><br><span class=\"line\">          name: &#x27;paymentTimeRange&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          dateFormat: &#x27;&#x27;,</span><br><span class=\"line\">          defaultDateDefine: true,</span><br><span class=\"line\">          defaultDateUnit: [&#x27;days&#x27;, &#x27;days&#x27;],</span><br><span class=\"line\">          defaultDateNum: [0, 0],</span><br><span class=\"line\">          dateRangeType: &#x27;daterange&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">          title: &#x27;收付标记&#x27;,</span><br><span class=\"line\">          name: &#x27;paymentFlag&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: paymentFlags,</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        // &#123;</span><br><span class=\"line\">        //   type: &#x27;select&#x27;,</span><br><span class=\"line\">        //   id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">        //   title: &#x27;收付记账标记&#x27;,</span><br><span class=\"line\">        //   name: &#x27;paymentAccountFlag&#x27;,</span><br><span class=\"line\">        //   default: &#x27;&#x27;,</span><br><span class=\"line\">        //   desc: &#x27;&#x27;,</span><br><span class=\"line\">        //   span: 1,</span><br><span class=\"line\">        //   dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">        //   dependencyValue: [],</span><br><span class=\"line\">        //   required: false,</span><br><span class=\"line\">        //   jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">        //   color: &#x27;&#x27;,</span><br><span class=\"line\">        //   autoFillControls: [],</span><br><span class=\"line\">        //   autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">        //   readonly: false,</span><br><span class=\"line\">        //   readonlyWhileCreate: false,</span><br><span class=\"line\">        //   hidden: false,</span><br><span class=\"line\">        //   hiddenWhileCreate: false,</span><br><span class=\"line\">        //   regex: &#x27;&#x27;,</span><br><span class=\"line\">        //   optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">        //   options: accountFlags,</span><br><span class=\"line\">        //   optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">        //   optionsParams: [],</span><br><span class=\"line\">        //   optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">        //   optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">        //   multiple: false,</span><br><span class=\"line\">        //   disabled: false,</span><br><span class=\"line\">        //   clearable: true,</span><br><span class=\"line\">        //   placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">        //   validateError: [],</span><br><span class=\"line\">        //   listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">        //   hideDisabled: true</span><br><span class=\"line\">        // &#125;,</span><br><span class=\"line\">        // &#123;</span><br><span class=\"line\">        //   type: &#x27;select&#x27;,</span><br><span class=\"line\">        //   id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">        //   title: &#x27;税务记账标记&#x27;,</span><br><span class=\"line\">        //   name: &#x27;taxAccountFlag&#x27;,</span><br><span class=\"line\">        //   default: &#x27;&#x27;,</span><br><span class=\"line\">        //   desc: &#x27;&#x27;,</span><br><span class=\"line\">        //   span: 1,</span><br><span class=\"line\">        //   dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">        //   dependencyValue: [],</span><br><span class=\"line\">        //   required: false,</span><br><span class=\"line\">        //   jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">        //   color: &#x27;&#x27;,</span><br><span class=\"line\">        //   autoFillControls: [],</span><br><span class=\"line\">        //   autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">        //   readonly: false,</span><br><span class=\"line\">        //   readonlyWhileCreate: false,</span><br><span class=\"line\">        //   hidden: false,</span><br><span class=\"line\">        //   hiddenWhileCreate: false,</span><br><span class=\"line\">        //   regex: &#x27;&#x27;,</span><br><span class=\"line\">        //   optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">        //   options: accountFlags,</span><br><span class=\"line\">        //   optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">        //   optionsParams: [],</span><br><span class=\"line\">        //   optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">        //   optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">        //   multiple: false,</span><br><span class=\"line\">        //   disabled: false,</span><br><span class=\"line\">        //   clearable: true,</span><br><span class=\"line\">        //   placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">        //   validateError: [],</span><br><span class=\"line\">        //   listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">        //   hideDisabled: true</span><br><span class=\"line\">        // &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;14160148-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;核销方单号&#x27;,</span><br><span class=\"line\">          name: &#x27;writeOffNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;16969248-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;被核销方单号&#x27;,</span><br><span class=\"line\">          name: &#x27;writtenOffNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1812-412e-a601-cdd5fba85swq&#x27;,</span><br><span class=\"line\">          title: &#x27;来源&#x27;,</span><br><span class=\"line\">          name: &#x27;clientCode&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: clientCodes,</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;16969248-cd5a-4dd8-sd58-bdc1637a84rz&#x27;,</span><br><span class=\"line\">          title: &#x27;归档号&#x27;,</span><br><span class=\"line\">          name: &#x27;filingNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;14160148-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;关联单号&#x27;,</span><br><span class=\"line\">          name: &#x27;associateNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-sxza-cdd5fba53f3c&#x27;,</span><br><span class=\"line\">          title: &#x27;付款校验状态&#x27;,</span><br><span class=\"line\">          name: &#x27;paymentCheckFlag&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: paymentCheckFlags,</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      handleRow: &#123;&#125;,</span><br><span class=\"line\">      dialogDataId: &#123;&#125;,</span><br><span class=\"line\">      writeOffDataId: &#123;&#125;,</span><br><span class=\"line\">      orderNoOptions: [],</span><br><span class=\"line\">      showEditDetailDialog: false,</span><br><span class=\"line\">      detailFormNew: &#123;</span><br><span class=\"line\">        businessNo: &#x27;&#x27;,</span><br><span class=\"line\">        businessTypeName: &#x27;&#x27;,</span><br><span class=\"line\">        orderTypeName: &#x27;&#x27;,</span><br><span class=\"line\">        companyName: &#x27;&#x27;,</span><br><span class=\"line\">        contactUnit1: &#x27;&#x27;,</span><br><span class=\"line\">        contactUnitName1: &#x27;&#x27;,</span><br><span class=\"line\">        contactUnit2: &#x27;&#x27;,</span><br><span class=\"line\">        contactUnitName2: &#x27;&#x27;,</span><br><span class=\"line\">        accountTime: &#x27;&#x27;,</span><br><span class=\"line\">        amount: 0,</span><br><span class=\"line\">        amountTax: 0,</span><br><span class=\"line\">        amountExcludingTax: 0,</span><br><span class=\"line\">        weAccountId: &#x27;&#x27;,</span><br><span class=\"line\">        accountId: &#x27;&#x27;,</span><br><span class=\"line\">        associateNo: &#x27;&#x27;,</span><br><span class=\"line\">        summary: &#x27;&#x27;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      detailForm: &#123;&#125;,</span><br><span class=\"line\">      detailrules: &#123;</span><br><span class=\"line\">        correctingNo: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        businessNo: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        businessTypeName: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        orderTypeName: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        companyName: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        contactUnit1: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        contactUnit2: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      detailFormList: [],</span><br><span class=\"line\">      contactUnitOptions: [],</span><br><span class=\"line\">      ascriptionFlagOptions1: [],</span><br><span class=\"line\">      ascriptionFlagOptions2: [],</span><br><span class=\"line\">      feeTypeOption: [],</span><br><span class=\"line\">      costCenterDataOption: [],</span><br><span class=\"line\">      productDataOption: [],</span><br><span class=\"line\">      sceneOptions: []</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  filters: &#123;</span><br><span class=\"line\">    amountFilter (value) &#123;</span><br><span class=\"line\">      if (value === &#x27;&#x27;) return &#x27;&#x27;</span><br><span class=\"line\">      if (value !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">        return kiloSplit(value)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return value</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  computed: &#123;</span><br><span class=\"line\">    ...mapState(&#x27;costList&#x27;, [&#x27;list&#x27;, &#x27;total&#x27;, &#x27;DialogList&#x27;]),</span><br><span class=\"line\">    pageSource () &#123;</span><br><span class=\"line\">      if (this.$route.path.indexOf(&#x27;assets/business&#x27;) !== -1) &#123;</span><br><span class=\"line\">        return &#x27;assetsBusiness&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return &#x27;null&#x27;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    importBtnName () &#123;</span><br><span class=\"line\">      if (this.businessScope === &#x27;writeoff&#x27;) &#123;</span><br><span class=\"line\">        return &#x27;导入核销关系&#x27;</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        return &#x27;导入业务单据&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    confirmTitle () &#123;</span><br><span class=\"line\">      // if (this.$route.path.indexOf(&#x27;payment&#x27;) !== -1) &#123;</span><br><span class=\"line\">      //   return &#x27;付款确认&#x27;</span><br><span class=\"line\">      // &#125; else if (this.$route.path.indexOf(&#x27;receipt&#x27;) !== -1) &#123;</span><br><span class=\"line\">      //   return &#x27;收款确认&#x27;</span><br><span class=\"line\">      // &#125; else &#123;</span><br><span class=\"line\">      //   return &#x27;收付确认&#x27;</span><br><span class=\"line\">      // &#125;</span><br><span class=\"line\">      return &#x27;收付确认&#x27;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    feeTypeOptions () &#123;</span><br><span class=\"line\">      return this.feeTypeOption</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    costCenterDatas () &#123;</span><br><span class=\"line\">      return this.costCenterDataOption</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    productDatas () &#123;</span><br><span class=\"line\">      return this.productDataOption</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    detailFormColumns () &#123;</span><br><span class=\"line\">      return [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;业务明细号&#x27;,</span><br><span class=\"line\">          property: &#x27;entryNo&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;成本中心&#x27;,</span><br><span class=\"line\">          property: &#x27;costCenterCode&#x27;,</span><br><span class=\"line\">          nameProperty: &#x27;costCenterName&#x27;,</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          selectOption: this.costCenterDatas,</span><br><span class=\"line\">          selectKey: &#x27;costCenterCode&#x27;,</span><br><span class=\"line\">          selectValue: &#x27;costCenterName&#x27;,</span><br><span class=\"line\">          width: &#x27;140px&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;费用类型&#x27;,</span><br><span class=\"line\">          property: &#x27;feeTypeCode&#x27;,</span><br><span class=\"line\">          nameProperty: &#x27;feeTypeName&#x27;,</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          selectOption: this.feeTypeOptions,</span><br><span class=\"line\">          selectKey: &#x27;feeTypeCode&#x27;,</span><br><span class=\"line\">          selectValue: &#x27;feeTypeName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;产品&#x27;,</span><br><span class=\"line\">          property: &#x27;productCode&#x27;,</span><br><span class=\"line\">          nameProperty: &#x27;productName&#x27;,</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          selectOption: this.productDatas,</span><br><span class=\"line\">          selectKey: &#x27;productCode&#x27;,</span><br><span class=\"line\">          selectValue: &#x27;productName&#x27;,</span><br><span class=\"line\">          width: &#x27;140px&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              return kiloSplit(val.amount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return 0</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;不含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amountExcludingTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountExcludingTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              return kiloSplit(val.amountExcludingTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return 0</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;税金&#x27;,</span><br><span class=\"line\">          property: &#x27;amountTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amountTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return 0</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;其他金额&#x27;,</span><br><span class=\"line\">          property: &#x27;otherAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.otherAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.otherAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return 0</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;公司&#x27;,</span><br><span class=\"line\">          property: &#x27;companyCode&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;往来单位1&#x27;,</span><br><span class=\"line\">          property: &#x27;contactUnit1&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;往来单位2&#x27;,</span><br><span class=\"line\">          property: &#x27;contactUnit2&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;说明&#x27;,</span><br><span class=\"line\">          property: &#x27;summary&#x27;,</span><br><span class=\"line\">          type: &#x27;textarea&#x27;,</span><br><span class=\"line\">          width: &#x27;160px&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  watch: &#123;</span><br><span class=\"line\">    commandDialog (cur, old) &#123;</span><br><span class=\"line\">      if (!cur) &#123;</span><br><span class=\"line\">        this.commandTextarea = &#x27;&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    hubCommandDialog (cur, old) &#123;</span><br><span class=\"line\">      if (!cur) &#123;</span><br><span class=\"line\">        this.hubchangeForm.textarea = &#x27;&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  methods: &#123;</span><br><span class=\"line\">    ...mapActions(&#x27;costCertificateListView&#x27;, [&#x27;searchDialogData&#x27;]),</span><br><span class=\"line\">    ...mapActions(&#x27;costList&#x27;, [&#x27;search&#x27;, &#x27;createCertificate&#x27;]),</span><br><span class=\"line\">    ...mapActions(&#x27;certificateTest&#x27;, [</span><br><span class=\"line\">      &#x27;getFeeType&#x27;,</span><br><span class=\"line\">      &#x27;costCenterData&#x27;,</span><br><span class=\"line\">      &#x27;companySectionData&#x27;,</span><br><span class=\"line\">      &#x27;contactUnitData&#x27;,</span><br><span class=\"line\">      &#x27;getAscriptionFlag1&#x27;,</span><br><span class=\"line\">      &#x27;getAscriptionFlag2&#x27;,</span><br><span class=\"line\">      &#x27;purposeData&#x27;,</span><br><span class=\"line\">      &#x27;productData&#x27;,</span><br><span class=\"line\">      &#x27;sceneData&#x27;</span><br><span class=\"line\">    ]),</span><br><span class=\"line\">    // 判断哪个事件</span><br><span class=\"line\">    handleCommand (command, item) &#123;</span><br><span class=\"line\">      console.log(&#x27;command&#x27;, command)</span><br><span class=\"line\">      console.log(&#x27;item.type&#x27;, item.type)</span><br><span class=\"line\">      this.buttonType = command</span><br><span class=\"line\">      this.commandType = item.type</span><br><span class=\"line\">      this.commandOpt = item.opt</span><br><span class=\"line\">      if (item.type === &#x27;writeOff&#x27; || item.type === &#x27;correct&#x27;) &#123;</span><br><span class=\"line\">        this.hubCommandOpt(item)</span><br><span class=\"line\">      &#125; else if (item.type === &#x27;delete&#x27; || item.type === &#x27;certificate&#x27;) &#123;</span><br><span class=\"line\">        this.unhubCommandOpt(item)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    // 删除操作 and 生成凭证</span><br><span class=\"line\">    unhubCommandOpt (item) &#123;</span><br><span class=\"line\">      let url = &#x27;&#x27;</span><br><span class=\"line\">      let param = &#123;&#125;</span><br><span class=\"line\">      let opt = &#x27;&#x27;</span><br><span class=\"line\">      if (this.buttonType === &#x27;select&#x27;) &#123;</span><br><span class=\"line\">        if (this.selectOptions.length === 0) &#123;</span><br><span class=\"line\">          this.$message.warning(&#x27;请选择数据&#x27;)</span><br><span class=\"line\">          return</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        let idArr = []</span><br><span class=\"line\">        this.selectOptions.forEach(v =&gt; &#123;</span><br><span class=\"line\">          idArr.push(v.id)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        url = api.businessBySelect</span><br><span class=\"line\">        param = &#123; ids: idArr &#125;</span><br><span class=\"line\">        opt = &#x27;选择&#x27;</span><br><span class=\"line\">      &#125; else if (this.buttonType === &#x27;query&#x27;) &#123;</span><br><span class=\"line\">        let data = &#123;&#125;</span><br><span class=\"line\">        data.filter = this.$refs.filters.getValue()</span><br><span class=\"line\">        data.filter.fundDirect = this.fundDirect</span><br><span class=\"line\">        data.filter.businessScope = this.businessScope</span><br><span class=\"line\">        url = api.businessbyParam</span><br><span class=\"line\">        param = &#123; filter: &#123; ...data.filter &#125; &#125;</span><br><span class=\"line\">        opt = &#x27;条件&#x27;</span><br><span class=\"line\">      &#125; else if (this.buttonType === &#x27;input&#x27;) &#123;</span><br><span class=\"line\">        this.commandTitle = item.titleName</span><br><span class=\"line\">        this.commandDialog = true</span><br><span class=\"line\">        url = api.businessbyInput</span><br><span class=\"line\">        param = &#123;</span><br><span class=\"line\">          itemText: this.commandTextarea</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125; else if (this.buttonType === &#x27;scene&#x27;) &#123;</span><br><span class=\"line\">        this.commandTitle = item.titleName</span><br><span class=\"line\">        this.sceneDialog = true</span><br><span class=\"line\">        url = api.businessbyInput</span><br><span class=\"line\">        this.sceneData().then(res =&gt; &#123;</span><br><span class=\"line\">          this.sceneConfigList = res.result || []</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$confirm(&#x27;是否按&#x27; + opt + &#x27;批量&#x27; + item.titleName + &#x27;?&#x27;, &#x27;提示&#x27;, &#123;</span><br><span class=\"line\">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class=\"line\">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class=\"line\">        type: &#x27;warning&#x27;</span><br><span class=\"line\">      &#125;).then(() =&gt; &#123;</span><br><span class=\"line\">        this.$http</span><br><span class=\"line\">          .post(url, &#123;</span><br><span class=\"line\">            ...param,</span><br><span class=\"line\">            type: item.type</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .then(res =&gt; &#123;</span><br><span class=\"line\">            if (res.code === 0) &#123;</span><br><span class=\"line\">              this.$message.success(res.message)</span><br><span class=\"line\">              this.handleSearch()</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">              this.$message.warning(res.message)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .catch(e =&gt; &#123;</span><br><span class=\"line\">            console.log(e)</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    // 冲销 and 冲正</span><br><span class=\"line\">    hubCommandOpt (item) &#123;</span><br><span class=\"line\">      if (this.buttonType === &#x27;select&#x27;) &#123;</span><br><span class=\"line\">        if (this.selectOptions.length === 0) &#123;</span><br><span class=\"line\">          this.$message.warning(&#x27;请选择数据&#x27;)</span><br><span class=\"line\">          return</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.commandTitle = item.titleName</span><br><span class=\"line\">      this.hubCommandDialog = true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleCancel () &#123;</span><br><span class=\"line\">      this.commandDialog = false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleInput () &#123;</span><br><span class=\"line\">      this.$confirm(&#x27;是否按录入批量&#x27; + this.commandOpt + &#x27;?&#x27;, &#x27;提示&#x27;, &#123;</span><br><span class=\"line\">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class=\"line\">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class=\"line\">        type: &#x27;warning&#x27;</span><br><span class=\"line\">      &#125;).then(() =&gt; &#123;</span><br><span class=\"line\">        this.$http</span><br><span class=\"line\">          .post(api.businessbyInput, &#123;</span><br><span class=\"line\">            itemText: this.commandTextarea,</span><br><span class=\"line\">            type: this.commandType</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .then(res =&gt; &#123;</span><br><span class=\"line\">            if (res.code === 0) &#123;</span><br><span class=\"line\">              this.$message.success(res.message)</span><br><span class=\"line\">              this.handleSearch()</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">              this.$message.warning(res.message)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .finally(() =&gt; &#123;</span><br><span class=\"line\">            this.commandDialog = false</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleSceneCertificate () &#123;</span><br><span class=\"line\">      if (!this.sceneId) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;场景不可为空&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (!this.commandTextarea) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;录入内容不可为空&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$confirm(&#x27;是否按场景批量&#x27; + this.commandOpt + &#x27;?&#x27;, &#x27;提示&#x27;, &#123;</span><br><span class=\"line\">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class=\"line\">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class=\"line\">        type: &#x27;warning&#x27;</span><br><span class=\"line\">      &#125;).then(() =&gt; &#123;</span><br><span class=\"line\">        this.$http</span><br><span class=\"line\">          .post(api.businessbyInput, &#123;</span><br><span class=\"line\">            itemText: this.commandTextarea,</span><br><span class=\"line\">            type: this.commandType,</span><br><span class=\"line\">            sceneId: this.sceneId</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .then(res =&gt; &#123;</span><br><span class=\"line\">            if (res.code === 0) &#123;</span><br><span class=\"line\">              this.$message.success(res.message)</span><br><span class=\"line\">              this.handleSearch()</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">              this.$message.warning(res.message)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .finally(() =&gt; &#123;</span><br><span class=\"line\">            this.sceneDialog = false</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    hubhandleCancel () &#123;</span><br><span class=\"line\">      this.hubCommandDialog = false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    provisionFormCancel () &#123;</span><br><span class=\"line\">      this.provisionFormDialog = false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getProvisionInfo () &#123;</span><br><span class=\"line\">      this.$http</span><br><span class=\"line\">        .post(api.getProvisionInfo, &#123;</span><br><span class=\"line\">          accountMonth: this.provisionForm.accountMonth,</span><br><span class=\"line\">          orderTypeCode: this.fundDirect === &#x27;payment&#x27; ? &#x27;bankPayment&#x27; : &#x27;bankReceive&#x27;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .then(res =&gt; &#123;</span><br><span class=\"line\">          if (res.code === 0) &#123;</span><br><span class=\"line\">            this.provisionForm.info = res.message</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            this.$message.warning(res.message)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    doProvision () &#123;</span><br><span class=\"line\">      this.$http</span><br><span class=\"line\">        .post(api.doPovision, &#123;</span><br><span class=\"line\">          accountMonth: this.provisionForm.accountMonth,</span><br><span class=\"line\">          orderTypeCode: this.fundDirect === &#x27;payment&#x27; ? &#x27;bankPayment&#x27; : &#x27;bankReceive&#x27;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .then(res =&gt; &#123;</span><br><span class=\"line\">          this.provisionFormDialog = false</span><br><span class=\"line\">          if (res.code === 0) &#123;</span><br><span class=\"line\">            this.$message.success(res.message)</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            this.$message.warning(res.message)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    hubhandleInput () &#123;</span><br><span class=\"line\">      let url = &#x27;&#x27;</span><br><span class=\"line\">      let param = &#123;&#125;</span><br><span class=\"line\">      let opt = &#x27;&#x27;</span><br><span class=\"line\">      if (this.buttonType === &#x27;select&#x27;) &#123;</span><br><span class=\"line\">        let idArr = []</span><br><span class=\"line\">        this.selectOptions.forEach(v =&gt; &#123;</span><br><span class=\"line\">          idArr.push(v.id)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        url = api.businessBySelect</span><br><span class=\"line\">        param = &#123; ids: idArr &#125;</span><br><span class=\"line\">        opt = &#x27;选择&#x27;</span><br><span class=\"line\">      &#125; else if (this.buttonType === &#x27;query&#x27;) &#123;</span><br><span class=\"line\">        let data = &#123;&#125;</span><br><span class=\"line\">        data.filter = this.$refs.filters.getValue()</span><br><span class=\"line\">        data.filter.fundDirect = this.fundDirect</span><br><span class=\"line\">        data.filter.businessScope = this.businessScope</span><br><span class=\"line\">        url = api.businessbyParam</span><br><span class=\"line\">        param = &#123; filter: &#123; ...data.filter &#125; &#125;</span><br><span class=\"line\">        opt = &#x27;条件&#x27;</span><br><span class=\"line\">      &#125; else if (this.buttonType === &#x27;input&#x27;) &#123;</span><br><span class=\"line\">        url = api.businessbyInput</span><br><span class=\"line\">        param = &#123;</span><br><span class=\"line\">          itemText: this.hubchangeForm.textarea</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        opt = &#x27;录入&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$confirm(&#x27;是否按&#x27; + opt + &#x27;批量&#x27; + this.commandOpt + &#x27;?&#x27;, &#x27;提示&#x27;, &#123;</span><br><span class=\"line\">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class=\"line\">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class=\"line\">        type: &#x27;warning&#x27;</span><br><span class=\"line\">      &#125;).then(() =&gt; &#123;</span><br><span class=\"line\">        this.$http</span><br><span class=\"line\">          .post(url, &#123;</span><br><span class=\"line\">            ...param,</span><br><span class=\"line\">            type: this.commandType,</span><br><span class=\"line\">            accountTime: this.hubchangeForm.hubaccountTime</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .then(res =&gt; &#123;</span><br><span class=\"line\">            if (res.code === 0) &#123;</span><br><span class=\"line\">              this.$message.success(res.message)</span><br><span class=\"line\">              this.handleSearch()</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">              this.$message.warning(res.message)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .finally(() =&gt; &#123;</span><br><span class=\"line\">            this.hubCommandDialog = false</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleCurrentChange (pageNum) &#123;</span><br><span class=\"line\">      this.pageNum = pageNum</span><br><span class=\"line\">      this.handleSearch()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleSizeChange (pageSize) &#123;</span><br><span class=\"line\">      this.pageSize = pageSize</span><br><span class=\"line\">      this.handleSearch()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    editDetailClick (row) &#123;</span><br><span class=\"line\">      this.$nextTick(() =&gt; &#123;</span><br><span class=\"line\">        for (let key in this.detailFormNew) &#123;</span><br><span class=\"line\">          this.detailForm[key] = this.detailFormNew[key]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.detailFormList = []</span><br><span class=\"line\">        this.showEditDetailDialog = true</span><br><span class=\"line\">        this.getList(row.id, row.sysCtime)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.contactUnitData().then(res =&gt; &#123;</span><br><span class=\"line\">        this.contactUnitOptions = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.getAscriptionFlag1().then(res =&gt; &#123;</span><br><span class=\"line\">        this.ascriptionFlagOptions1 = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.getAscriptionFlag2().then(res =&gt; &#123;</span><br><span class=\"line\">        this.ascriptionFlagOptions2 = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.getFeeType().then(res =&gt; &#123;</span><br><span class=\"line\">        this.feeTypeOption = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.costCenterData().then(res =&gt; &#123;</span><br><span class=\"line\">        this.costCenterDataOption = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.productData().then(res =&gt; &#123;</span><br><span class=\"line\">        this.productDataOption = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleSelectItem (row, col) &#123;</span><br><span class=\"line\">      row[col.nameProperty] = col.selectOption.find(v =&gt; v[col.selectKey] === row[col.property])[col.selectValue] || &#x27;&#x27;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    editSave () &#123;</span><br><span class=\"line\">      this.$refs[&#x27;detailForm&#x27;].validate(valid =&gt; &#123;</span><br><span class=\"line\">        if (valid) &#123;</span><br><span class=\"line\">          if (this.detailForm.contactUnit1) &#123;</span><br><span class=\"line\">            this.detailForm.contactUnitName1 =</span><br><span class=\"line\">              this.contactUnitOptions.find(v =&gt; v.unitCode === this.detailForm.contactUnit1).unitName || &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          if (this.detailForm.contactUnit2) &#123;</span><br><span class=\"line\">            this.detailForm.contactUnitName2 =</span><br><span class=\"line\">              this.contactUnitOptions.find(v =&gt; v.unitCode === this.detailForm.contactUnit2).unitName || &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          this.$http</span><br><span class=\"line\">            .post(api.updateBusiness, &#123;</span><br><span class=\"line\">              entries: this.detailFormList,</span><br><span class=\"line\">              head: this.detailForm</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            .then(res =&gt; &#123;</span><br><span class=\"line\">              this.showEditDetailDialog = false</span><br><span class=\"line\">              if (res.code === 0) &#123;</span><br><span class=\"line\">                this.$message.success(res.message)</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getList (id, sysCtime) &#123;</span><br><span class=\"line\">      this.$http</span><br><span class=\"line\">        .post(api.costDetailSearch, &#123;</span><br><span class=\"line\">          id: id,</span><br><span class=\"line\">          sysCtime: sysCtime</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .then(res =&gt; &#123;</span><br><span class=\"line\">          if (res.code === 0) &#123;</span><br><span class=\"line\">            for (let key in res.result.head) &#123;</span><br><span class=\"line\">              if (key !== &#x27;entryList&#x27; &amp;&amp; key !== &#x27;certificateList&#x27;) &#123;</span><br><span class=\"line\">                this.$set(this.form, key, res.result.head[key])</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            this.detailForm = res.result.head</span><br><span class=\"line\">            this.detailFormList = res.result.entries</span><br><span class=\"line\">            console.log(this.listData, &#x27;listData&#x27;)</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            this.$message.warning(res.message)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleDetail (row) &#123;</span><br><span class=\"line\">      // this.$router.push(`/fap_receiptpayment_list/$&#123;val.settlementNo&#125;`)</span><br><span class=\"line\">      this.dialogDataId = &#123;</span><br><span class=\"line\">        id: row.id,</span><br><span class=\"line\">        sysCtime: row.sysCtime</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      console.log(this.dialogDataId, &#x27;ididididid&#x27;)</span><br><span class=\"line\">      this.showDetailDialog = true</span><br><span class=\"line\">      this.$nextTick(() =&gt; &#123;</span><br><span class=\"line\">        this.$refs.costListView.clickMe(this.dialogDataId)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    writeOffDetail (row) &#123;</span><br><span class=\"line\">      this.writeOffDataId = &#123;</span><br><span class=\"line\">        id: row.id,</span><br><span class=\"line\">        sysCtime: row.sysCtime</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.showWriteOffDialog = true</span><br><span class=\"line\">      this.$nextTick(() =&gt; &#123;</span><br><span class=\"line\">        this.$refs.costWriteOffListView.clickMe(this.writeOffDataId)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleDetailGoto (row) &#123;</span><br><span class=\"line\">      if (row.settlementNo !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">        this.$router.push(`/$define/fap_receiptpayment_list?orderNo=$&#123;row.settlementNo&#125;`)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleCertificateDetail (row) &#123;</span><br><span class=\"line\">      // this.$router.push(`/costCertificateList/$&#123;row.businessNo&#125;/$&#123;row.sysCtime&#125;`)</span><br><span class=\"line\">      this.searchDialogData(&#123; id: row.id, sysCtime: row.sysCtime &#125;)</span><br><span class=\"line\">      this.showCertificateDialog = true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    deleteClick (row) &#123;</span><br><span class=\"line\">      this.deleteIds = []</span><br><span class=\"line\">      let obj = &#123;</span><br><span class=\"line\">        id: row.id,</span><br><span class=\"line\">        businessNo: row.businessNo,</span><br><span class=\"line\">        correctingNo: row.correctingNo,</span><br><span class=\"line\">        orderTypeCode: row.orderTypeCode</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.deleteIds.push(obj)</span><br><span class=\"line\">      this.showDeleteDialog = true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    batchDelete () &#123;</span><br><span class=\"line\">      if (this.selectOptions.length === 0) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;请选择数据&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let clientSelect = this.selectOptions.find(v =&gt; v.clientCode !== &#x27;HANDWORK&#x27;)</span><br><span class=\"line\">      if (clientSelect) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;请选择手工导入的数据(来源为HANDWORK)&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let correctingSelect = this.selectOptions.find(v =&gt; v.correctingNo !== 1)</span><br><span class=\"line\">      if (correctingSelect) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;选择的数据冲正序号不等于1,表示该数据已经冲正或冲销,不允许删除&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.deleteIds = []</span><br><span class=\"line\">      this.selectOptions.forEach(item =&gt; &#123;</span><br><span class=\"line\">        let obj = &#123;</span><br><span class=\"line\">          id: item.id,</span><br><span class=\"line\">          businessNo: item.businessNo,</span><br><span class=\"line\">          correctingNo: item.correctingNo,</span><br><span class=\"line\">          orderTypeCode: item.orderTypeCode</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.deleteIds.push(obj)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.showDeleteDialog = true</span><br><span class=\"line\">      console.log(this.deleteIds, &#x27;deleteIds&#x27;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    doHandleDelete () &#123;</span><br><span class=\"line\">      this.showDeleteDialog = false</span><br><span class=\"line\">      this.$http.post(api.businessDelete, this.deleteIds).then(res =&gt; &#123;</span><br><span class=\"line\">        if (res.code === 0) &#123;</span><br><span class=\"line\">          this.$message.success(res.message)</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          this.$message.warning(res.message)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.handleSearch()</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    dataSearch () &#123;</span><br><span class=\"line\">      this.pageNum = 1</span><br><span class=\"line\">      this.handleSearch()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleSearch () &#123;</span><br><span class=\"line\">      if (!this.getParams().filter.accountTimeRange &amp;&amp; this.getParams().filter.businessNo === &#x27;&#x27;) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;会计日期/业务单据号，不可同时为空&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.loading = true</span><br><span class=\"line\">      this.search(this.getParams())</span><br><span class=\"line\">        .then(() =&gt; &#123;</span><br><span class=\"line\">          this.loading = false</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .catch(() =&gt; &#123;</span><br><span class=\"line\">          this.loading = false</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    conditionCertificateCreate () &#123;</span><br><span class=\"line\">      this.showConditionDialog = true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    conditionHandleMulOpt () &#123;</span><br><span class=\"line\">      let data = &#123;&#125;</span><br><span class=\"line\">      data.filter = this.$refs.filters.getValue()</span><br><span class=\"line\">      data.filter.fundDirect = this.fundDirect</span><br><span class=\"line\">      data.filter.businessScope = this.businessScope</span><br><span class=\"line\">      data.pager = &#123;</span><br><span class=\"line\">        pageNum: this.pageNum,</span><br><span class=\"line\">        pageSize: this.pageSize</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$http.post(api.certificateCreateByCondition, data).then(res =&gt; &#123;</span><br><span class=\"line\">        if (res.code === 0) &#123;</span><br><span class=\"line\">          this.$message.success(res.message)</span><br><span class=\"line\">          this.refleshCb()</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          this.$message.warning(res.message)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.showConditionDialog = false</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleExport () &#123;</span><br><span class=\"line\">      let data = &#123;&#125;</span><br><span class=\"line\">      data.filter = this.$refs.filters.getValue()</span><br><span class=\"line\">      data.filter.fundDirect = this.fundDirect</span><br><span class=\"line\">      data.filter.businessScope = this.businessScope</span><br><span class=\"line\">      data.filter.fileName = getFileName(this.fundDirect)</span><br><span class=\"line\">      this.$message.warning(&#x27;正在下载，请稍后...&#x27;)</span><br><span class=\"line\">      window.open(api.costPayListExport + getParamsUrl(data.filter), &#x27;_self&#x27;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    initConfirmForm () &#123;</span><br><span class=\"line\">      for (let key in this.confirmForm) &#123;</span><br><span class=\"line\">        this.confirmForm[key] = &#x27;&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleConfirm (row, index, col, action, cb) &#123;</span><br><span class=\"line\">      this.initConfirmForm()</span><br><span class=\"line\">      this.showConfirmDialog = true</span><br><span class=\"line\">      this.orderNoOptions = []</span><br><span class=\"line\">      // this.form.sysCtime = new Date(row.sysCtime)</span><br><span class=\"line\">      // this.form.paymentTime = new Date()</span><br><span class=\"line\">      // this.form.id = row.id</span><br><span class=\"line\">      this.payConfirmList = [row]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    changePurposeType () &#123;</span><br><span class=\"line\">      let purposeType = this.confirmForm.purposeType</span><br><span class=\"line\">      let companyCode = this.payConfirmList[0].companyCode</span><br><span class=\"line\">      this.$http.post(`$&#123;api.getPaymentOrderList&#125;?purposeType=$&#123;purposeType&#125;&amp;companyCode=$&#123;companyCode&#125;`).then(res =&gt; &#123;</span><br><span class=\"line\">        this.orderNoOptions = res.result</span><br><span class=\"line\">        console.log(res, &#x27;purposeTypepurposeTypepurposeTypepurposeType&#x27;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    changeOrderNo (row) &#123;</span><br><span class=\"line\">      this.confirmForm.businessNo = row.businessNo</span><br><span class=\"line\">      this.confirmForm.amount = row.amount</span><br><span class=\"line\">      this.confirmForm.remainAmount = row.remainAmount</span><br><span class=\"line\">      this.confirmForm.companyName = row.companyName</span><br><span class=\"line\">      this.confirmForm.bankAccountNumber = row.accountId</span><br><span class=\"line\">      this.confirmForm.bankAccountName = row.accountName</span><br><span class=\"line\">      this.confirmForm.bankName = row.accountBankName</span><br><span class=\"line\">      this.confirmForm.remark = row.remark</span><br><span class=\"line\">      this.confirmForm.id = row.id</span><br><span class=\"line\">      this.confirmForm.receiptTime = row.businessTime</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    doHandleConfirm (row, index, col, action, cb) &#123;</span><br><span class=\"line\">      let params = []</span><br><span class=\"line\">      this.payConfirmList.forEach(item =&gt; &#123;</span><br><span class=\"line\">        let pushItem = &#123;&#125;</span><br><span class=\"line\">        pushItem.receiptPaymentNo = this.confirmForm.businessNo</span><br><span class=\"line\">        pushItem.receiptPaymentId = this.confirmForm.id</span><br><span class=\"line\">        pushItem.businessNo = item.businessNo</span><br><span class=\"line\">        pushItem.orderTypeCode = item.orderTypeCode</span><br><span class=\"line\">        pushItem.businessId = item.id</span><br><span class=\"line\">        pushItem.orderTypeName = item.orderTypeName</span><br><span class=\"line\">        pushItem.accountTime = moment(this.confirmForm.accountTime).valueOf()</span><br><span class=\"line\">        params.push(pushItem)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.confirmLoading = true</span><br><span class=\"line\">      this.$http</span><br><span class=\"line\">        .post(api.paymentConfirm, params)</span><br><span class=\"line\">        .then(res =&gt; &#123;</span><br><span class=\"line\">          if (res.code === 0) &#123;</span><br><span class=\"line\">            this.$message.success(res.message)</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            this.$message.warning(res.message)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          this.confirmLoading = false</span><br><span class=\"line\">          this.showConfirmDialog = false</span><br><span class=\"line\">          this.handleSearch()</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .catch(() =&gt; &#123;</span><br><span class=\"line\">          this.confirmLoading = false</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    doHandleCorrent () &#123;</span><br><span class=\"line\">      this.showCorrentDialog = false</span><br><span class=\"line\">      let url = &#x27;&#x27;</span><br><span class=\"line\">      if (this.correctType === &#x27;1&#x27;) &#123;</span><br><span class=\"line\">        url = api.businessCorrent</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        url = api.businessWriteOff</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$http.post(url, this.form).then(res =&gt; &#123;</span><br><span class=\"line\">        if (res.code === 0) &#123;</span><br><span class=\"line\">          this.$message.success(res.message)</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          this.$message.warning(res.message)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.handleSearch()</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getParams () &#123;</span><br><span class=\"line\">      let data = &#123;&#125;</span><br><span class=\"line\">      data.filter = this.$refs.filters.getValue()</span><br><span class=\"line\">      data.filter.fundDirect = this.fundDirect</span><br><span class=\"line\">      data.filter.businessScope = this.businessScope</span><br><span class=\"line\">      data.pager = &#123;</span><br><span class=\"line\">        pageNum: this.pageNum,</span><br><span class=\"line\">        pageSize: this.pageSize</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return data</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleMulOpt () &#123;</span><br><span class=\"line\">      if (this.selectOptions.length === 0) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;请选择数据&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let businessNoArr = []</span><br><span class=\"line\">      this.selectOptions.forEach(item =&gt; &#123;</span><br><span class=\"line\">        let pushItem = &#123;&#125;</span><br><span class=\"line\">        pushItem.businessNo = item.businessNo</span><br><span class=\"line\">        pushItem.sysCtime = item.sysCtime</span><br><span class=\"line\">        pushItem.orderTypeCode = item.orderTypeCode</span><br><span class=\"line\">        pushItem.correctingNo = item.correctingNo</span><br><span class=\"line\">        pushItem.id = item.id</span><br><span class=\"line\">        businessNoArr.push(pushItem)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      console.log(businessNoArr)</span><br><span class=\"line\">      this.createCertificate(businessNoArr)</span><br><span class=\"line\">      this.$message.success(&#x27;凭证生成中,请稍候查看数据&#x27;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handlePayConfirm () &#123;</span><br><span class=\"line\">      if (this.selectOptions.length === 0) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;请选择数据&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let cantSelect = this.selectOptions.find(v =&gt; v.paymentFlag === 1)</span><br><span class=\"line\">      if (cantSelect) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;选择的数据已收付，请重新选择&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let cantSelectCorrectingFlag = this.selectOptions.find(v =&gt; v.correctingFlag !== 1)</span><br><span class=\"line\">      if (cantSelectCorrectingFlag) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;选择的数据冲正有效为否，请重新选择&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      for (let key in this.confirmForm) &#123;</span><br><span class=\"line\">        this.confirmForm[key] = &#x27;&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let businessNoList = []</span><br><span class=\"line\">      let companySet = new Set()</span><br><span class=\"line\">      this.selectOptions.forEach(item =&gt; &#123;</span><br><span class=\"line\">        businessNoList.push(item.businessNo)</span><br><span class=\"line\">        companySet.add(item.companyCode)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      if (companySet.size !== 1) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;所选数据公司不一致，请重新选择&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      const data = new FormData()</span><br><span class=\"line\">      let strParam = businessNoList.toString()</span><br><span class=\"line\">      console.log(strParam, &#x27;strParam&#x27;)</span><br><span class=\"line\">      data.append(&#x27;businessNoList&#x27;, strParam)</span><br><span class=\"line\">      this.$http.post(api.remainAmountSum, data).then(res =&gt; &#123;</span><br><span class=\"line\">        if (res.code === 0) &#123;</span><br><span class=\"line\">          this.confirmForm.remainAmountSum = res.result.remainAmountSum.toFixed(2)</span><br><span class=\"line\">          this.confirmForm.paymentAmountSum = res.result.paymentAmountSum.toFixed(2)</span><br><span class=\"line\">          let entryList = res.result.entryList</span><br><span class=\"line\">          this.selectOptions.forEach(item =&gt; &#123;</span><br><span class=\"line\">            entryList.forEach(entry =&gt; &#123;</span><br><span class=\"line\">              if (item.businessNo === entry.businessNo) &#123;</span><br><span class=\"line\">                item.paymentAmount = entry.paymentAmount</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.showConfirmDialog = true</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">      this.confirmForm.amountTotal = this.calAmountlFromSelection(&#x27;amount&#x27;)</span><br><span class=\"line\">      this.confirmForm.taxAmountTotal = this.calAmountlFromSelection(&#x27;amountTax&#x27;)</span><br><span class=\"line\">      this.confirmForm.amountExcludingTaxTotal = this.calAmountlFromSelection(&#x27;amountExcludingTax&#x27;)</span><br><span class=\"line\">      this.confirmForm.otherAmountTotal = this.calAmountlFromSelection(&#x27;otherAmount&#x27;)</span><br><span class=\"line\">      this.payConfirmList = this.selectOptions</span><br><span class=\"line\">      // this.selection</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleMulDownload () &#123;</span><br><span class=\"line\">      if (this.businessScope === &#x27;business&#x27;) &#123;</span><br><span class=\"line\">        window.open(</span><br><span class=\"line\">          &#x27;https://common-1252347619.cosgz.myqcloud.com/template/3b6d7776-290c-481f-969d-1efd64adda4d.xlsx&#x27;,</span><br><span class=\"line\">          &#x27;_self&#x27;</span><br><span class=\"line\">        )</span><br><span class=\"line\">      &#125; else if (this.businessScope === &#x27;writeoff&#x27;) &#123;</span><br><span class=\"line\">        window.open(</span><br><span class=\"line\">          &#x27;https://common-1252347619.cosgz.myqcloud.com/common/dfbd078f-6334-43f0-b958-ce799b857359.xlsx&#x27;,</span><br><span class=\"line\">          &#x27;_self&#x27;</span><br><span class=\"line\">        )</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleImport () &#123;</span><br><span class=\"line\">      this.$refs.file.click()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleProvisionInfo () &#123;</span><br><span class=\"line\">      this.provisionForm.info = &#x27;&#x27;</span><br><span class=\"line\">      this.provisionFormDialog = true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    fileChange (e) &#123;</span><br><span class=\"line\">      const fileInput = e.target</span><br><span class=\"line\">      const data = new FormData()</span><br><span class=\"line\">      data.append(&#x27;file&#x27;, fileInput.files[0])</span><br><span class=\"line\">      data.append(&#x27;fundDirect&#x27;, this.fundDirect)</span><br><span class=\"line\">      data.append(&#x27;businessScope&#x27;, this.businessScope)</span><br><span class=\"line\">      let url = api.handworkUpload</span><br><span class=\"line\">      if (this.businessScope === &#x27;writeoff&#x27;) &#123;</span><br><span class=\"line\">        url = api.writeoffOrderImport</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$http</span><br><span class=\"line\">        .post(url, data)</span><br><span class=\"line\">        .then(res =&gt; &#123;</span><br><span class=\"line\">          if (res.code === 0) &#123;</span><br><span class=\"line\">            this.$message.success(res.message)</span><br><span class=\"line\">            this.refleshCb()</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            this.$message.warning(res.message)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .finally(() =&gt; &#123;</span><br><span class=\"line\">          e.target.value = &#x27;&#x27;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    calAmountlFromSelection (amount) &#123;</span><br><span class=\"line\">      let totalAmount = 0</span><br><span class=\"line\">      totalAmount = this.selectOptions.reduce((pre, curr) =&gt; &#123;</span><br><span class=\"line\">        if (typeof curr[amount] === &#x27;number&#x27;) &#123;</span><br><span class=\"line\">          if (!curr[amount]) &#123;</span><br><span class=\"line\">            curr[amount] = 0</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          return parseFloat((pre + curr[amount]).toFixed(2))</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          return pre</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;, 0)</span><br><span class=\"line\">      return totalAmount.toFixed(2)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleSelection (selection, action) &#123;</span><br><span class=\"line\">      this.selectOptions = selection</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    selectRadio (selection) &#123;</span><br><span class=\"line\">      this.correctType = selection</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getCostList () &#123;</span><br><span class=\"line\">      this.init()</span><br><span class=\"line\">      if (this.$refs.filters) &#123;</span><br><span class=\"line\">        if (new Date().getDate() &lt; 13) &#123;</span><br><span class=\"line\">          this.$refs.filters.model.accountTimeRange = [</span><br><span class=\"line\">            moment()</span><br><span class=\"line\">              .subtract(1, &#x27;months&#x27;)</span><br><span class=\"line\">              .startOf(&#x27;month&#x27;)</span><br><span class=\"line\">              .format(&#x27;YYYY-MM-DD&#x27;),</span><br><span class=\"line\">            moment()</span><br><span class=\"line\">              .subtract(1, &#x27;months&#x27;)</span><br><span class=\"line\">              .endOf(&#x27;month&#x27;)</span><br><span class=\"line\">              .format(&#x27;YYYY-MM-DD&#x27;)</span><br><span class=\"line\">          ]</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          this.$refs.filters.model.accountTimeRange = [</span><br><span class=\"line\">            moment()</span><br><span class=\"line\">              .startOf(&#x27;month&#x27;)</span><br><span class=\"line\">              .format(&#x27;YYYY-MM-DD&#x27;),</span><br><span class=\"line\">            moment().format(&#x27;YYYY-MM-DD&#x27;)</span><br><span class=\"line\">          ]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.handleSearch()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    setFilters () &#123;</span><br><span class=\"line\">      const val = this.filters</span><br><span class=\"line\">      const orderTypeCodeFilters = val.find(x =&gt; x.name === &#x27;orderTypeCode&#x27;)</span><br><span class=\"line\">      orderTypeCodeFilters.options = this.orderTypeCodes</span><br><span class=\"line\">      const businessTypeCodeFilters = val.find(x =&gt; x.name === &#x27;businessTypeCode&#x27;)</span><br><span class=\"line\">      businessTypeCodeFilters.options = this.businessTypeCodes</span><br><span class=\"line\">      if (this.pageSource !== &#x27;assetsBusiness&#x27; &amp;&amp; this.businessScope === &#x27;business&#x27;) &#123;</span><br><span class=\"line\">        this.payConfirmShow = true</span><br><span class=\"line\">      &#125; else if (this.businessScope === &#x27;writeoff&#x27;) &#123;</span><br><span class=\"line\">        this.payConfirmShow = true</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        this.payConfirmShow = false</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (this.businessScope === &#x27;receiptPayment&#x27;) &#123;</span><br><span class=\"line\">        this.bankDataShow = true</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        this.bankDataShow = false</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    init () &#123;</span><br><span class=\"line\">      this.$watch(val =&gt; &#123;</span><br><span class=\"line\">        this.setFilters()</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  beforeRouteUpdate (to, from, next) &#123;</span><br><span class=\"line\">    next()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\">&lt;style scoped&gt;</span><br><span class=\"line\">.el-dropdown-menu__item &#123;</span><br><span class=\"line\">  line-height: 30px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br><span class=\"line\">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class=\"line\">.cost-list &#123;</span><br><span class=\"line\">  .el-dialog__body &#123;</span><br><span class=\"line\">    max-height: 550px;</span><br><span class=\"line\">    overflow: auto;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  .confirm-form-dialog &#123;</span><br><span class=\"line\">    div.panel-header.clearfix,</span><br><span class=\"line\">    .panel-header .table-header &#123;</span><br><span class=\"line\">      height: 0px;</span><br><span class=\"line\">      padding: 0px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  .detail-form &#123;</span><br><span class=\"line\">    .el-input &#123;</span><br><span class=\"line\">      width: 200px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br><span class=\"line\">496</span><br><span class=\"line\">497</span><br><span class=\"line\">498</span><br><span class=\"line\">499</span><br><span class=\"line\">500</span><br><span class=\"line\">501</span><br><span class=\"line\">502</span><br><span class=\"line\">503</span><br><span class=\"line\">504</span><br><span class=\"line\">505</span><br><span class=\"line\">506</span><br><span class=\"line\">507</span><br><span class=\"line\">508</span><br><span class=\"line\">509</span><br><span class=\"line\">510</span><br><span class=\"line\">511</span><br><span class=\"line\">512</span><br><span class=\"line\">513</span><br><span class=\"line\">514</span><br><span class=\"line\">515</span><br><span class=\"line\">516</span><br><span class=\"line\">517</span><br><span class=\"line\">518</span><br><span class=\"line\">519</span><br><span class=\"line\">520</span><br><span class=\"line\">521</span><br><span class=\"line\">522</span><br><span class=\"line\">523</span><br><span class=\"line\">524</span><br><span class=\"line\">525</span><br><span class=\"line\">526</span><br><span class=\"line\">527</span><br><span class=\"line\">528</span><br><span class=\"line\">529</span><br><span class=\"line\">530</span><br><span class=\"line\">531</span><br><span class=\"line\">532</span><br><span class=\"line\">533</span><br><span class=\"line\">534</span><br><span class=\"line\">535</span><br><span class=\"line\">536</span><br><span class=\"line\">537</span><br><span class=\"line\">538</span><br><span class=\"line\">539</span><br><span class=\"line\">540</span><br><span class=\"line\">541</span><br><span class=\"line\">542</span><br><span class=\"line\">543</span><br><span class=\"line\">544</span><br><span class=\"line\">545</span><br><span class=\"line\">546</span><br><span class=\"line\">547</span><br><span class=\"line\">548</span><br><span class=\"line\">549</span><br><span class=\"line\">550</span><br><span class=\"line\">551</span><br><span class=\"line\">552</span><br><span class=\"line\">553</span><br><span class=\"line\">554</span><br><span class=\"line\">555</span><br><span class=\"line\">556</span><br><span class=\"line\">557</span><br><span class=\"line\">558</span><br><span class=\"line\">559</span><br><span class=\"line\">560</span><br><span class=\"line\">561</span><br><span class=\"line\">562</span><br><span class=\"line\">563</span><br><span class=\"line\">564</span><br><span class=\"line\">565</span><br><span class=\"line\">566</span><br><span class=\"line\">567</span><br><span class=\"line\">568</span><br><span class=\"line\">569</span><br><span class=\"line\">570</span><br><span class=\"line\">571</span><br><span class=\"line\">572</span><br><span class=\"line\">573</span><br><span class=\"line\">574</span><br><span class=\"line\">575</span><br><span class=\"line\">576</span><br><span class=\"line\">577</span><br><span class=\"line\">578</span><br><span class=\"line\">579</span><br><span class=\"line\">580</span><br><span class=\"line\">581</span><br><span class=\"line\">582</span><br><span class=\"line\">583</span><br><span class=\"line\">584</span><br><span class=\"line\">585</span><br><span class=\"line\">586</span><br><span class=\"line\">587</span><br><span class=\"line\">588</span><br><span class=\"line\">589</span><br><span class=\"line\">590</span><br><span class=\"line\">591</span><br><span class=\"line\">592</span><br><span class=\"line\">593</span><br><span class=\"line\">594</span><br><span class=\"line\">595</span><br><span class=\"line\">596</span><br><span class=\"line\">597</span><br><span class=\"line\">598</span><br><span class=\"line\">599</span><br><span class=\"line\">600</span><br><span class=\"line\">601</span><br><span class=\"line\">602</span><br><span class=\"line\">603</span><br><span class=\"line\">604</span><br><span class=\"line\">605</span><br><span class=\"line\">606</span><br><span class=\"line\">607</span><br><span class=\"line\">608</span><br><span class=\"line\">609</span><br><span class=\"line\">610</span><br><span class=\"line\">611</span><br><span class=\"line\">612</span><br><span class=\"line\">613</span><br><span class=\"line\">614</span><br><span class=\"line\">615</span><br><span class=\"line\">616</span><br><span class=\"line\">617</span><br><span class=\"line\">618</span><br><span class=\"line\">619</span><br><span class=\"line\">620</span><br><span class=\"line\">621</span><br><span class=\"line\">622</span><br><span class=\"line\">623</span><br><span class=\"line\">624</span><br><span class=\"line\">625</span><br><span class=\"line\">626</span><br><span class=\"line\">627</span><br><span class=\"line\">628</span><br><span class=\"line\">629</span><br><span class=\"line\">630</span><br><span class=\"line\">631</span><br><span class=\"line\">632</span><br><span class=\"line\">633</span><br><span class=\"line\">634</span><br><span class=\"line\">635</span><br><span class=\"line\">636</span><br><span class=\"line\">637</span><br><span class=\"line\">638</span><br><span class=\"line\">639</span><br><span class=\"line\">640</span><br><span class=\"line\">641</span><br><span class=\"line\">642</span><br><span class=\"line\">643</span><br><span class=\"line\">644</span><br><span class=\"line\">645</span><br><span class=\"line\">646</span><br><span class=\"line\">647</span><br><span class=\"line\">648</span><br><span class=\"line\">649</span><br><span class=\"line\">650</span><br><span class=\"line\">651</span><br><span class=\"line\">652</span><br><span class=\"line\">653</span><br><span class=\"line\">654</span><br><span class=\"line\">655</span><br><span class=\"line\">656</span><br><span class=\"line\">657</span><br><span class=\"line\">658</span><br><span class=\"line\">659</span><br><span class=\"line\">660</span><br><span class=\"line\">661</span><br><span class=\"line\">662</span><br><span class=\"line\">663</span><br><span class=\"line\">664</span><br><span class=\"line\">665</span><br><span class=\"line\">666</span><br><span class=\"line\">667</span><br><span class=\"line\">668</span><br><span class=\"line\">669</span><br><span class=\"line\">670</span><br><span class=\"line\">671</span><br><span class=\"line\">672</span><br><span class=\"line\">673</span><br><span class=\"line\">674</span><br><span class=\"line\">675</span><br><span class=\"line\">676</span><br><span class=\"line\">677</span><br><span class=\"line\">678</span><br><span class=\"line\">679</span><br><span class=\"line\">680</span><br><span class=\"line\">681</span><br><span class=\"line\">682</span><br><span class=\"line\">683</span><br><span class=\"line\">684</span><br><span class=\"line\">685</span><br><span class=\"line\">686</span><br><span class=\"line\">687</span><br><span class=\"line\">688</span><br><span class=\"line\">689</span><br><span class=\"line\">690</span><br><span class=\"line\">691</span><br><span class=\"line\">692</span><br><span class=\"line\">693</span><br><span class=\"line\">694</span><br><span class=\"line\">695</span><br><span class=\"line\">696</span><br><span class=\"line\">697</span><br><span class=\"line\">698</span><br><span class=\"line\">699</span><br><span class=\"line\">700</span><br><span class=\"line\">701</span><br><span class=\"line\">702</span><br><span class=\"line\">703</span><br><span class=\"line\">704</span><br><span class=\"line\">705</span><br><span class=\"line\">706</span><br><span class=\"line\">707</span><br><span class=\"line\">708</span><br><span class=\"line\">709</span><br><span class=\"line\">710</span><br><span class=\"line\">711</span><br><span class=\"line\">712</span><br><span class=\"line\">713</span><br><span class=\"line\">714</span><br><span class=\"line\">715</span><br><span class=\"line\">716</span><br><span class=\"line\">717</span><br><span class=\"line\">718</span><br><span class=\"line\">719</span><br><span class=\"line\">720</span><br><span class=\"line\">721</span><br><span class=\"line\">722</span><br><span class=\"line\">723</span><br><span class=\"line\">724</span><br><span class=\"line\">725</span><br><span class=\"line\">726</span><br><span class=\"line\">727</span><br><span class=\"line\">728</span><br><span class=\"line\">729</span><br><span class=\"line\">730</span><br><span class=\"line\">731</span><br><span class=\"line\">732</span><br><span class=\"line\">733</span><br><span class=\"line\">734</span><br><span class=\"line\">735</span><br><span class=\"line\">736</span><br><span class=\"line\">737</span><br><span class=\"line\">738</span><br><span class=\"line\">739</span><br><span class=\"line\">740</span><br><span class=\"line\">741</span><br><span class=\"line\">742</span><br><span class=\"line\">743</span><br><span class=\"line\">744</span><br><span class=\"line\">745</span><br><span class=\"line\">746</span><br><span class=\"line\">747</span><br><span class=\"line\">748</span><br><span class=\"line\">749</span><br><span class=\"line\">750</span><br><span class=\"line\">751</span><br><span class=\"line\">752</span><br><span class=\"line\">753</span><br><span class=\"line\">754</span><br><span class=\"line\">755</span><br><span class=\"line\">756</span><br><span class=\"line\">757</span><br><span class=\"line\">758</span><br><span class=\"line\">759</span><br><span class=\"line\">760</span><br><span class=\"line\">761</span><br><span class=\"line\">762</span><br><span class=\"line\">763</span><br><span class=\"line\">764</span><br><span class=\"line\">765</span><br><span class=\"line\">766</span><br><span class=\"line\">767</span><br><span class=\"line\">768</span><br><span class=\"line\">769</span><br><span class=\"line\">770</span><br><span class=\"line\">771</span><br><span class=\"line\">772</span><br><span class=\"line\">773</span><br><span class=\"line\">774</span><br><span class=\"line\">775</span><br><span class=\"line\">776</span><br><span class=\"line\">777</span><br><span class=\"line\">778</span><br><span class=\"line\">779</span><br><span class=\"line\">780</span><br><span class=\"line\">781</span><br><span class=\"line\">782</span><br><span class=\"line\">783</span><br><span class=\"line\">784</span><br><span class=\"line\">785</span><br><span class=\"line\">786</span><br><span class=\"line\">787</span><br><span class=\"line\">788</span><br><span class=\"line\">789</span><br><span class=\"line\">790</span><br><span class=\"line\">791</span><br><span class=\"line\">792</span><br><span class=\"line\">793</span><br><span class=\"line\">794</span><br><span class=\"line\">795</span><br><span class=\"line\">796</span><br><span class=\"line\">797</span><br><span class=\"line\">798</span><br><span class=\"line\">799</span><br><span class=\"line\">800</span><br><span class=\"line\">801</span><br><span class=\"line\">802</span><br><span class=\"line\">803</span><br><span class=\"line\">804</span><br><span class=\"line\">805</span><br><span class=\"line\">806</span><br><span class=\"line\">807</span><br><span class=\"line\">808</span><br><span class=\"line\">809</span><br><span class=\"line\">810</span><br><span class=\"line\">811</span><br><span class=\"line\">812</span><br><span class=\"line\">813</span><br><span class=\"line\">814</span><br><span class=\"line\">815</span><br><span class=\"line\">816</span><br><span class=\"line\">817</span><br><span class=\"line\">818</span><br><span class=\"line\">819</span><br><span class=\"line\">820</span><br><span class=\"line\">821</span><br><span class=\"line\">822</span><br><span class=\"line\">823</span><br><span class=\"line\">824</span><br><span class=\"line\">825</span><br><span class=\"line\">826</span><br><span class=\"line\">827</span><br><span class=\"line\">828</span><br><span class=\"line\">829</span><br><span class=\"line\">830</span><br><span class=\"line\">831</span><br><span class=\"line\">832</span><br><span class=\"line\">833</span><br><span class=\"line\">834</span><br><span class=\"line\">835</span><br><span class=\"line\">836</span><br><span class=\"line\">837</span><br><span class=\"line\">838</span><br><span class=\"line\">839</span><br><span class=\"line\">840</span><br><span class=\"line\">841</span><br><span class=\"line\">842</span><br><span class=\"line\">843</span><br><span class=\"line\">844</span><br><span class=\"line\">845</span><br><span class=\"line\">846</span><br><span class=\"line\">847</span><br><span class=\"line\">848</span><br><span class=\"line\">849</span><br><span class=\"line\">850</span><br><span class=\"line\">851</span><br><span class=\"line\">852</span><br><span class=\"line\">853</span><br><span class=\"line\">854</span><br><span class=\"line\">855</span><br><span class=\"line\">856</span><br><span class=\"line\">857</span><br><span class=\"line\">858</span><br><span class=\"line\">859</span><br><span class=\"line\">860</span><br><span class=\"line\">861</span><br><span class=\"line\">862</span><br><span class=\"line\">863</span><br><span class=\"line\">864</span><br><span class=\"line\">865</span><br><span class=\"line\">866</span><br><span class=\"line\">867</span><br><span class=\"line\">868</span><br><span class=\"line\">869</span><br><span class=\"line\">870</span><br><span class=\"line\">871</span><br><span class=\"line\">872</span><br><span class=\"line\">873</span><br><span class=\"line\">874</span><br><span class=\"line\">875</span><br><span class=\"line\">876</span><br><span class=\"line\">877</span><br><span class=\"line\">878</span><br><span class=\"line\">879</span><br><span class=\"line\">880</span><br><span class=\"line\">881</span><br><span class=\"line\">882</span><br><span class=\"line\">883</span><br><span class=\"line\">884</span><br><span class=\"line\">885</span><br><span class=\"line\">886</span><br><span class=\"line\">887</span><br><span class=\"line\">888</span><br><span class=\"line\">889</span><br><span class=\"line\">890</span><br><span class=\"line\">891</span><br><span class=\"line\">892</span><br><span class=\"line\">893</span><br><span class=\"line\">894</span><br><span class=\"line\">895</span><br><span class=\"line\">896</span><br><span class=\"line\">897</span><br><span class=\"line\">898</span><br><span class=\"line\">899</span><br><span class=\"line\">900</span><br><span class=\"line\">901</span><br><span class=\"line\">902</span><br><span class=\"line\">903</span><br><span class=\"line\">904</span><br><span class=\"line\">905</span><br><span class=\"line\">906</span><br><span class=\"line\">907</span><br><span class=\"line\">908</span><br><span class=\"line\">909</span><br><span class=\"line\">910</span><br><span class=\"line\">911</span><br><span class=\"line\">912</span><br><span class=\"line\">913</span><br><span class=\"line\">914</span><br><span class=\"line\">915</span><br><span class=\"line\">916</span><br><span class=\"line\">917</span><br><span class=\"line\">918</span><br><span class=\"line\">919</span><br><span class=\"line\">920</span><br><span class=\"line\">921</span><br><span class=\"line\">922</span><br><span class=\"line\">923</span><br><span class=\"line\">924</span><br><span class=\"line\">925</span><br><span class=\"line\">926</span><br><span class=\"line\">927</span><br><span class=\"line\">928</span><br><span class=\"line\">929</span><br><span class=\"line\">930</span><br><span class=\"line\">931</span><br><span class=\"line\">932</span><br><span class=\"line\">933</span><br><span class=\"line\">934</span><br><span class=\"line\">935</span><br><span class=\"line\">936</span><br><span class=\"line\">937</span><br><span class=\"line\">938</span><br><span class=\"line\">939</span><br><span class=\"line\">940</span><br><span class=\"line\">941</span><br><span class=\"line\">942</span><br><span class=\"line\">943</span><br><span class=\"line\">944</span><br><span class=\"line\">945</span><br><span class=\"line\">946</span><br><span class=\"line\">947</span><br><span class=\"line\">948</span><br><span class=\"line\">949</span><br><span class=\"line\">950</span><br><span class=\"line\">951</span><br><span class=\"line\">952</span><br><span class=\"line\">953</span><br><span class=\"line\">954</span><br><span class=\"line\">955</span><br><span class=\"line\">956</span><br><span class=\"line\">957</span><br><span class=\"line\">958</span><br><span class=\"line\">959</span><br><span class=\"line\">960</span><br><span class=\"line\">961</span><br><span class=\"line\">962</span><br><span class=\"line\">963</span><br><span class=\"line\">964</span><br><span class=\"line\">965</span><br><span class=\"line\">966</span><br><span class=\"line\">967</span><br><span class=\"line\">968</span><br><span class=\"line\">969</span><br><span class=\"line\">970</span><br><span class=\"line\">971</span><br><span class=\"line\">972</span><br><span class=\"line\">973</span><br><span class=\"line\">974</span><br><span class=\"line\">975</span><br><span class=\"line\">976</span><br><span class=\"line\">977</span><br><span class=\"line\">978</span><br><span class=\"line\">979</span><br><span class=\"line\">980</span><br><span class=\"line\">981</span><br><span class=\"line\">982</span><br><span class=\"line\">983</span><br><span class=\"line\">984</span><br><span class=\"line\">985</span><br><span class=\"line\">986</span><br><span class=\"line\">987</span><br><span class=\"line\">988</span><br><span class=\"line\">989</span><br><span class=\"line\">990</span><br><span class=\"line\">991</span><br><span class=\"line\">992</span><br><span class=\"line\">993</span><br><span class=\"line\">994</span><br><span class=\"line\">995</span><br><span class=\"line\">996</span><br><span class=\"line\">997</span><br><span class=\"line\">998</span><br><span class=\"line\">999</span><br><span class=\"line\">1000</span><br><span class=\"line\">1001</span><br><span class=\"line\">1002</span><br><span class=\"line\">1003</span><br><span class=\"line\">1004</span><br><span class=\"line\">1005</span><br><span class=\"line\">1006</span><br><span class=\"line\">1007</span><br><span class=\"line\">1008</span><br><span class=\"line\">1009</span><br><span class=\"line\">1010</span><br><span class=\"line\">1011</span><br><span class=\"line\">1012</span><br><span class=\"line\">1013</span><br><span class=\"line\">1014</span><br><span class=\"line\">1015</span><br><span class=\"line\">1016</span><br><span class=\"line\">1017</span><br><span class=\"line\">1018</span><br><span class=\"line\">1019</span><br><span class=\"line\">1020</span><br><span class=\"line\">1021</span><br><span class=\"line\">1022</span><br><span class=\"line\">1023</span><br><span class=\"line\">1024</span><br><span class=\"line\">1025</span><br><span class=\"line\">1026</span><br><span class=\"line\">1027</span><br><span class=\"line\">1028</span><br><span class=\"line\">1029</span><br><span class=\"line\">1030</span><br><span class=\"line\">1031</span><br><span class=\"line\">1032</span><br><span class=\"line\">1033</span><br><span class=\"line\">1034</span><br><span class=\"line\">1035</span><br><span class=\"line\">1036</span><br><span class=\"line\">1037</span><br><span class=\"line\">1038</span><br><span class=\"line\">1039</span><br><span class=\"line\">1040</span><br><span class=\"line\">1041</span><br><span class=\"line\">1042</span><br><span class=\"line\">1043</span><br><span class=\"line\">1044</span><br><span class=\"line\">1045</span><br><span class=\"line\">1046</span><br><span class=\"line\">1047</span><br><span class=\"line\">1048</span><br><span class=\"line\">1049</span><br><span class=\"line\">1050</span><br><span class=\"line\">1051</span><br><span class=\"line\">1052</span><br><span class=\"line\">1053</span><br><span class=\"line\">1054</span><br><span class=\"line\">1055</span><br><span class=\"line\">1056</span><br><span class=\"line\">1057</span><br><span class=\"line\">1058</span><br><span class=\"line\">1059</span><br><span class=\"line\">1060</span><br><span class=\"line\">1061</span><br><span class=\"line\">1062</span><br><span class=\"line\">1063</span><br><span class=\"line\">1064</span><br><span class=\"line\">1065</span><br><span class=\"line\">1066</span><br><span class=\"line\">1067</span><br><span class=\"line\">1068</span><br><span class=\"line\">1069</span><br><span class=\"line\">1070</span><br><span class=\"line\">1071</span><br><span class=\"line\">1072</span><br><span class=\"line\">1073</span><br><span class=\"line\">1074</span><br><span class=\"line\">1075</span><br><span class=\"line\">1076</span><br><span class=\"line\">1077</span><br><span class=\"line\">1078</span><br><span class=\"line\">1079</span><br><span class=\"line\">1080</span><br><span class=\"line\">1081</span><br><span class=\"line\">1082</span><br><span class=\"line\">1083</span><br><span class=\"line\">1084</span><br><span class=\"line\">1085</span><br><span class=\"line\">1086</span><br><span class=\"line\">1087</span><br><span class=\"line\">1088</span><br><span class=\"line\">1089</span><br><span class=\"line\">1090</span><br><span class=\"line\">1091</span><br><span class=\"line\">1092</span><br><span class=\"line\">1093</span><br><span class=\"line\">1094</span><br><span class=\"line\">1095</span><br><span class=\"line\">1096</span><br><span class=\"line\">1097</span><br><span class=\"line\">1098</span><br><span class=\"line\">1099</span><br><span class=\"line\">1100</span><br><span class=\"line\">1101</span><br><span class=\"line\">1102</span><br><span class=\"line\">1103</span><br><span class=\"line\">1104</span><br><span class=\"line\">1105</span><br><span class=\"line\">1106</span><br><span class=\"line\">1107</span><br><span class=\"line\">1108</span><br><span class=\"line\">1109</span><br><span class=\"line\">1110</span><br><span class=\"line\">1111</span><br><span class=\"line\">1112</span><br><span class=\"line\">1113</span><br><span class=\"line\">1114</span><br><span class=\"line\">1115</span><br><span class=\"line\">1116</span><br><span class=\"line\">1117</span><br><span class=\"line\">1118</span><br><span class=\"line\">1119</span><br><span class=\"line\">1120</span><br><span class=\"line\">1121</span><br><span class=\"line\">1122</span><br><span class=\"line\">1123</span><br><span class=\"line\">1124</span><br><span class=\"line\">1125</span><br><span class=\"line\">1126</span><br><span class=\"line\">1127</span><br><span class=\"line\">1128</span><br><span class=\"line\">1129</span><br><span class=\"line\">1130</span><br><span class=\"line\">1131</span><br><span class=\"line\">1132</span><br><span class=\"line\">1133</span><br><span class=\"line\">1134</span><br><span class=\"line\">1135</span><br><span class=\"line\">1136</span><br><span class=\"line\">1137</span><br><span class=\"line\">1138</span><br><span class=\"line\">1139</span><br><span class=\"line\">1140</span><br><span class=\"line\">1141</span><br><span class=\"line\">1142</span><br><span class=\"line\">1143</span><br><span class=\"line\">1144</span><br><span class=\"line\">1145</span><br><span class=\"line\">1146</span><br><span class=\"line\">1147</span><br><span class=\"line\">1148</span><br><span class=\"line\">1149</span><br><span class=\"line\">1150</span><br><span class=\"line\">1151</span><br><span class=\"line\">1152</span><br><span class=\"line\">1153</span><br><span class=\"line\">1154</span><br><span class=\"line\">1155</span><br><span class=\"line\">1156</span><br><span class=\"line\">1157</span><br><span class=\"line\">1158</span><br><span class=\"line\">1159</span><br><span class=\"line\">1160</span><br><span class=\"line\">1161</span><br><span class=\"line\">1162</span><br><span class=\"line\">1163</span><br><span class=\"line\">1164</span><br><span class=\"line\">1165</span><br><span class=\"line\">1166</span><br><span class=\"line\">1167</span><br><span class=\"line\">1168</span><br><span class=\"line\">1169</span><br><span class=\"line\">1170</span><br><span class=\"line\">1171</span><br><span class=\"line\">1172</span><br><span class=\"line\">1173</span><br><span class=\"line\">1174</span><br><span class=\"line\">1175</span><br><span class=\"line\">1176</span><br><span class=\"line\">1177</span><br><span class=\"line\">1178</span><br><span class=\"line\">1179</span><br><span class=\"line\">1180</span><br><span class=\"line\">1181</span><br><span class=\"line\">1182</span><br><span class=\"line\">1183</span><br><span class=\"line\">1184</span><br><span class=\"line\">1185</span><br><span class=\"line\">1186</span><br><span class=\"line\">1187</span><br><span class=\"line\">1188</span><br><span class=\"line\">1189</span><br><span class=\"line\">1190</span><br><span class=\"line\">1191</span><br><span class=\"line\">1192</span><br><span class=\"line\">1193</span><br><span class=\"line\">1194</span><br><span class=\"line\">1195</span><br><span class=\"line\">1196</span><br><span class=\"line\">1197</span><br><span class=\"line\">1198</span><br><span class=\"line\">1199</span><br><span class=\"line\">1200</span><br><span class=\"line\">1201</span><br><span class=\"line\">1202</span><br><span class=\"line\">1203</span><br><span class=\"line\">1204</span><br><span class=\"line\">1205</span><br><span class=\"line\">1206</span><br><span class=\"line\">1207</span><br><span class=\"line\">1208</span><br><span class=\"line\">1209</span><br><span class=\"line\">1210</span><br><span class=\"line\">1211</span><br><span class=\"line\">1212</span><br><span class=\"line\">1213</span><br><span class=\"line\">1214</span><br><span class=\"line\">1215</span><br><span class=\"line\">1216</span><br><span class=\"line\">1217</span><br><span class=\"line\">1218</span><br><span class=\"line\">1219</span><br><span class=\"line\">1220</span><br><span class=\"line\">1221</span><br><span class=\"line\">1222</span><br><span class=\"line\">1223</span><br><span class=\"line\">1224</span><br><span class=\"line\">1225</span><br><span class=\"line\">1226</span><br><span class=\"line\">1227</span><br><span class=\"line\">1228</span><br><span class=\"line\">1229</span><br><span class=\"line\">1230</span><br><span class=\"line\">1231</span><br><span class=\"line\">1232</span><br><span class=\"line\">1233</span><br><span class=\"line\">1234</span><br><span class=\"line\">1235</span><br><span class=\"line\">1236</span><br><span class=\"line\">1237</span><br><span class=\"line\">1238</span><br><span class=\"line\">1239</span><br><span class=\"line\">1240</span><br><span class=\"line\">1241</span><br><span class=\"line\">1242</span><br><span class=\"line\">1243</span><br><span class=\"line\">1244</span><br><span class=\"line\">1245</span><br><span class=\"line\">1246</span><br><span class=\"line\">1247</span><br><span class=\"line\">1248</span><br><span class=\"line\">1249</span><br><span class=\"line\">1250</span><br><span class=\"line\">1251</span><br><span class=\"line\">1252</span><br><span class=\"line\">1253</span><br><span class=\"line\">1254</span><br><span class=\"line\">1255</span><br><span class=\"line\">1256</span><br><span class=\"line\">1257</span><br><span class=\"line\">1258</span><br><span class=\"line\">1259</span><br><span class=\"line\">1260</span><br><span class=\"line\">1261</span><br><span class=\"line\">1262</span><br><span class=\"line\">1263</span><br><span class=\"line\">1264</span><br><span class=\"line\">1265</span><br><span class=\"line\">1266</span><br><span class=\"line\">1267</span><br><span class=\"line\">1268</span><br><span class=\"line\">1269</span><br><span class=\"line\">1270</span><br><span class=\"line\">1271</span><br><span class=\"line\">1272</span><br><span class=\"line\">1273</span><br><span class=\"line\">1274</span><br><span class=\"line\">1275</span><br><span class=\"line\">1276</span><br><span class=\"line\">1277</span><br><span class=\"line\">1278</span><br><span class=\"line\">1279</span><br><span class=\"line\">1280</span><br><span class=\"line\">1281</span><br><span class=\"line\">1282</span><br><span class=\"line\">1283</span><br><span class=\"line\">1284</span><br><span class=\"line\">1285</span><br><span class=\"line\">1286</span><br><span class=\"line\">1287</span><br><span class=\"line\">1288</span><br><span class=\"line\">1289</span><br><span class=\"line\">1290</span><br><span class=\"line\">1291</span><br><span class=\"line\">1292</span><br><span class=\"line\">1293</span><br><span class=\"line\">1294</span><br><span class=\"line\">1295</span><br><span class=\"line\">1296</span><br><span class=\"line\">1297</span><br><span class=\"line\">1298</span><br><span class=\"line\">1299</span><br><span class=\"line\">1300</span><br><span class=\"line\">1301</span><br><span class=\"line\">1302</span><br><span class=\"line\">1303</span><br><span class=\"line\">1304</span><br><span class=\"line\">1305</span><br><span class=\"line\">1306</span><br><span class=\"line\">1307</span><br><span class=\"line\">1308</span><br><span class=\"line\">1309</span><br><span class=\"line\">1310</span><br><span class=\"line\">1311</span><br><span class=\"line\">1312</span><br><span class=\"line\">1313</span><br><span class=\"line\">1314</span><br><span class=\"line\">1315</span><br><span class=\"line\">1316</span><br><span class=\"line\">1317</span><br><span class=\"line\">1318</span><br><span class=\"line\">1319</span><br><span class=\"line\">1320</span><br><span class=\"line\">1321</span><br><span class=\"line\">1322</span><br><span class=\"line\">1323</span><br><span class=\"line\">1324</span><br><span class=\"line\">1325</span><br><span class=\"line\">1326</span><br><span class=\"line\">1327</span><br><span class=\"line\">1328</span><br><span class=\"line\">1329</span><br><span class=\"line\">1330</span><br><span class=\"line\">1331</span><br><span class=\"line\">1332</span><br><span class=\"line\">1333</span><br><span class=\"line\">1334</span><br><span class=\"line\">1335</span><br><span class=\"line\">1336</span><br><span class=\"line\">1337</span><br><span class=\"line\">1338</span><br><span class=\"line\">1339</span><br><span class=\"line\">1340</span><br><span class=\"line\">1341</span><br><span class=\"line\">1342</span><br><span class=\"line\">1343</span><br><span class=\"line\">1344</span><br><span class=\"line\">1345</span><br><span class=\"line\">1346</span><br><span class=\"line\">1347</span><br><span class=\"line\">1348</span><br><span class=\"line\">1349</span><br><span class=\"line\">1350</span><br><span class=\"line\">1351</span><br><span class=\"line\">1352</span><br><span class=\"line\">1353</span><br><span class=\"line\">1354</span><br><span class=\"line\">1355</span><br><span class=\"line\">1356</span><br><span class=\"line\">1357</span><br><span class=\"line\">1358</span><br><span class=\"line\">1359</span><br><span class=\"line\">1360</span><br><span class=\"line\">1361</span><br><span class=\"line\">1362</span><br><span class=\"line\">1363</span><br><span class=\"line\">1364</span><br><span class=\"line\">1365</span><br><span class=\"line\">1366</span><br><span class=\"line\">1367</span><br><span class=\"line\">1368</span><br><span class=\"line\">1369</span><br><span class=\"line\">1370</span><br><span class=\"line\">1371</span><br><span class=\"line\">1372</span><br><span class=\"line\">1373</span><br><span class=\"line\">1374</span><br><span class=\"line\">1375</span><br><span class=\"line\">1376</span><br><span class=\"line\">1377</span><br><span class=\"line\">1378</span><br><span class=\"line\">1379</span><br><span class=\"line\">1380</span><br><span class=\"line\">1381</span><br><span class=\"line\">1382</span><br><span class=\"line\">1383</span><br><span class=\"line\">1384</span><br><span class=\"line\">1385</span><br><span class=\"line\">1386</span><br><span class=\"line\">1387</span><br><span class=\"line\">1388</span><br><span class=\"line\">1389</span><br><span class=\"line\">1390</span><br><span class=\"line\">1391</span><br><span class=\"line\">1392</span><br><span class=\"line\">1393</span><br><span class=\"line\">1394</span><br><span class=\"line\">1395</span><br><span class=\"line\">1396</span><br><span class=\"line\">1397</span><br><span class=\"line\">1398</span><br><span class=\"line\">1399</span><br><span class=\"line\">1400</span><br><span class=\"line\">1401</span><br><span class=\"line\">1402</span><br><span class=\"line\">1403</span><br><span class=\"line\">1404</span><br><span class=\"line\">1405</span><br><span class=\"line\">1406</span><br><span class=\"line\">1407</span><br><span class=\"line\">1408</span><br><span class=\"line\">1409</span><br><span class=\"line\">1410</span><br><span class=\"line\">1411</span><br><span class=\"line\">1412</span><br><span class=\"line\">1413</span><br><span class=\"line\">1414</span><br><span class=\"line\">1415</span><br><span class=\"line\">1416</span><br><span class=\"line\">1417</span><br><span class=\"line\">1418</span><br><span class=\"line\">1419</span><br><span class=\"line\">1420</span><br><span class=\"line\">1421</span><br><span class=\"line\">1422</span><br><span class=\"line\">1423</span><br><span class=\"line\">1424</span><br><span class=\"line\">1425</span><br><span class=\"line\">1426</span><br><span class=\"line\">1427</span><br><span class=\"line\">1428</span><br><span class=\"line\">1429</span><br><span class=\"line\">1430</span><br><span class=\"line\">1431</span><br><span class=\"line\">1432</span><br><span class=\"line\">1433</span><br><span class=\"line\">1434</span><br><span class=\"line\">1435</span><br><span class=\"line\">1436</span><br><span class=\"line\">1437</span><br><span class=\"line\">1438</span><br><span class=\"line\">1439</span><br><span class=\"line\">1440</span><br><span class=\"line\">1441</span><br><span class=\"line\">1442</span><br><span class=\"line\">1443</span><br><span class=\"line\">1444</span><br><span class=\"line\">1445</span><br><span class=\"line\">1446</span><br><span class=\"line\">1447</span><br><span class=\"line\">1448</span><br><span class=\"line\">1449</span><br><span class=\"line\">1450</span><br><span class=\"line\">1451</span><br><span class=\"line\">1452</span><br><span class=\"line\">1453</span><br><span class=\"line\">1454</span><br><span class=\"line\">1455</span><br><span class=\"line\">1456</span><br><span class=\"line\">1457</span><br><span class=\"line\">1458</span><br><span class=\"line\">1459</span><br><span class=\"line\">1460</span><br><span class=\"line\">1461</span><br><span class=\"line\">1462</span><br><span class=\"line\">1463</span><br><span class=\"line\">1464</span><br><span class=\"line\">1465</span><br><span class=\"line\">1466</span><br><span class=\"line\">1467</span><br><span class=\"line\">1468</span><br><span class=\"line\">1469</span><br><span class=\"line\">1470</span><br><span class=\"line\">1471</span><br><span class=\"line\">1472</span><br><span class=\"line\">1473</span><br><span class=\"line\">1474</span><br><span class=\"line\">1475</span><br><span class=\"line\">1476</span><br><span class=\"line\">1477</span><br><span class=\"line\">1478</span><br><span class=\"line\">1479</span><br><span class=\"line\">1480</span><br><span class=\"line\">1481</span><br><span class=\"line\">1482</span><br><span class=\"line\">1483</span><br><span class=\"line\">1484</span><br><span class=\"line\">1485</span><br><span class=\"line\">1486</span><br><span class=\"line\">1487</span><br><span class=\"line\">1488</span><br><span class=\"line\">1489</span><br><span class=\"line\">1490</span><br><span class=\"line\">1491</span><br><span class=\"line\">1492</span><br><span class=\"line\">1493</span><br><span class=\"line\">1494</span><br><span class=\"line\">1495</span><br><span class=\"line\">1496</span><br><span class=\"line\">1497</span><br><span class=\"line\">1498</span><br><span class=\"line\">1499</span><br><span class=\"line\">1500</span><br><span class=\"line\">1501</span><br><span class=\"line\">1502</span><br><span class=\"line\">1503</span><br><span class=\"line\">1504</span><br><span class=\"line\">1505</span><br><span class=\"line\">1506</span><br><span class=\"line\">1507</span><br><span class=\"line\">1508</span><br><span class=\"line\">1509</span><br><span class=\"line\">1510</span><br><span class=\"line\">1511</span><br><span class=\"line\">1512</span><br><span class=\"line\">1513</span><br><span class=\"line\">1514</span><br><span class=\"line\">1515</span><br><span class=\"line\">1516</span><br><span class=\"line\">1517</span><br><span class=\"line\">1518</span><br><span class=\"line\">1519</span><br><span class=\"line\">1520</span><br><span class=\"line\">1521</span><br><span class=\"line\">1522</span><br><span class=\"line\">1523</span><br><span class=\"line\">1524</span><br><span class=\"line\">1525</span><br><span class=\"line\">1526</span><br><span class=\"line\">1527</span><br><span class=\"line\">1528</span><br><span class=\"line\">1529</span><br><span class=\"line\">1530</span><br><span class=\"line\">1531</span><br><span class=\"line\">1532</span><br><span class=\"line\">1533</span><br><span class=\"line\">1534</span><br><span class=\"line\">1535</span><br><span class=\"line\">1536</span><br><span class=\"line\">1537</span><br><span class=\"line\">1538</span><br><span class=\"line\">1539</span><br><span class=\"line\">1540</span><br><span class=\"line\">1541</span><br><span class=\"line\">1542</span><br><span class=\"line\">1543</span><br><span class=\"line\">1544</span><br><span class=\"line\">1545</span><br><span class=\"line\">1546</span><br><span class=\"line\">1547</span><br><span class=\"line\">1548</span><br><span class=\"line\">1549</span><br><span class=\"line\">1550</span><br><span class=\"line\">1551</span><br><span class=\"line\">1552</span><br><span class=\"line\">1553</span><br><span class=\"line\">1554</span><br><span class=\"line\">1555</span><br><span class=\"line\">1556</span><br><span class=\"line\">1557</span><br><span class=\"line\">1558</span><br><span class=\"line\">1559</span><br><span class=\"line\">1560</span><br><span class=\"line\">1561</span><br><span class=\"line\">1562</span><br><span class=\"line\">1563</span><br><span class=\"line\">1564</span><br><span class=\"line\">1565</span><br><span class=\"line\">1566</span><br><span class=\"line\">1567</span><br><span class=\"line\">1568</span><br><span class=\"line\">1569</span><br><span class=\"line\">1570</span><br><span class=\"line\">1571</span><br><span class=\"line\">1572</span><br><span class=\"line\">1573</span><br><span class=\"line\">1574</span><br><span class=\"line\">1575</span><br><span class=\"line\">1576</span><br><span class=\"line\">1577</span><br><span class=\"line\">1578</span><br><span class=\"line\">1579</span><br><span class=\"line\">1580</span><br><span class=\"line\">1581</span><br><span class=\"line\">1582</span><br><span class=\"line\">1583</span><br><span class=\"line\">1584</span><br><span class=\"line\">1585</span><br><span class=\"line\">1586</span><br><span class=\"line\">1587</span><br><span class=\"line\">1588</span><br><span class=\"line\">1589</span><br><span class=\"line\">1590</span><br><span class=\"line\">1591</span><br><span class=\"line\">1592</span><br><span class=\"line\">1593</span><br><span class=\"line\">1594</span><br><span class=\"line\">1595</span><br><span class=\"line\">1596</span><br><span class=\"line\">1597</span><br><span class=\"line\">1598</span><br><span class=\"line\">1599</span><br><span class=\"line\">1600</span><br><span class=\"line\">1601</span><br><span class=\"line\">1602</span><br><span class=\"line\">1603</span><br><span class=\"line\">1604</span><br><span class=\"line\">1605</span><br><span class=\"line\">1606</span><br><span class=\"line\">1607</span><br><span class=\"line\">1608</span><br><span class=\"line\">1609</span><br><span class=\"line\">1610</span><br><span class=\"line\">1611</span><br><span class=\"line\">1612</span><br><span class=\"line\">1613</span><br><span class=\"line\">1614</span><br><span class=\"line\">1615</span><br><span class=\"line\">1616</span><br><span class=\"line\">1617</span><br><span class=\"line\">1618</span><br><span class=\"line\">1619</span><br><span class=\"line\">1620</span><br><span class=\"line\">1621</span><br><span class=\"line\">1622</span><br><span class=\"line\">1623</span><br><span class=\"line\">1624</span><br><span class=\"line\">1625</span><br><span class=\"line\">1626</span><br><span class=\"line\">1627</span><br><span class=\"line\">1628</span><br><span class=\"line\">1629</span><br><span class=\"line\">1630</span><br><span class=\"line\">1631</span><br><span class=\"line\">1632</span><br><span class=\"line\">1633</span><br><span class=\"line\">1634</span><br><span class=\"line\">1635</span><br><span class=\"line\">1636</span><br><span class=\"line\">1637</span><br><span class=\"line\">1638</span><br><span class=\"line\">1639</span><br><span class=\"line\">1640</span><br><span class=\"line\">1641</span><br><span class=\"line\">1642</span><br><span class=\"line\">1643</span><br><span class=\"line\">1644</span><br><span class=\"line\">1645</span><br><span class=\"line\">1646</span><br><span class=\"line\">1647</span><br><span class=\"line\">1648</span><br><span class=\"line\">1649</span><br><span class=\"line\">1650</span><br><span class=\"line\">1651</span><br><span class=\"line\">1652</span><br><span class=\"line\">1653</span><br><span class=\"line\">1654</span><br><span class=\"line\">1655</span><br><span class=\"line\">1656</span><br><span class=\"line\">1657</span><br><span class=\"line\">1658</span><br><span class=\"line\">1659</span><br><span class=\"line\">1660</span><br><span class=\"line\">1661</span><br><span class=\"line\">1662</span><br><span class=\"line\">1663</span><br><span class=\"line\">1664</span><br><span class=\"line\">1665</span><br><span class=\"line\">1666</span><br><span class=\"line\">1667</span><br><span class=\"line\">1668</span><br><span class=\"line\">1669</span><br><span class=\"line\">1670</span><br><span class=\"line\">1671</span><br><span class=\"line\">1672</span><br><span class=\"line\">1673</span><br><span class=\"line\">1674</span><br><span class=\"line\">1675</span><br><span class=\"line\">1676</span><br><span class=\"line\">1677</span><br><span class=\"line\">1678</span><br><span class=\"line\">1679</span><br><span class=\"line\">1680</span><br><span class=\"line\">1681</span><br><span class=\"line\">1682</span><br><span class=\"line\">1683</span><br><span class=\"line\">1684</span><br><span class=\"line\">1685</span><br><span class=\"line\">1686</span><br><span class=\"line\">1687</span><br><span class=\"line\">1688</span><br><span class=\"line\">1689</span><br><span class=\"line\">1690</span><br><span class=\"line\">1691</span><br><span class=\"line\">1692</span><br><span class=\"line\">1693</span><br><span class=\"line\">1694</span><br><span class=\"line\">1695</span><br><span class=\"line\">1696</span><br><span class=\"line\">1697</span><br><span class=\"line\">1698</span><br><span class=\"line\">1699</span><br><span class=\"line\">1700</span><br><span class=\"line\">1701</span><br><span class=\"line\">1702</span><br><span class=\"line\">1703</span><br><span class=\"line\">1704</span><br><span class=\"line\">1705</span><br><span class=\"line\">1706</span><br><span class=\"line\">1707</span><br><span class=\"line\">1708</span><br><span class=\"line\">1709</span><br><span class=\"line\">1710</span><br><span class=\"line\">1711</span><br><span class=\"line\">1712</span><br><span class=\"line\">1713</span><br><span class=\"line\">1714</span><br><span class=\"line\">1715</span><br><span class=\"line\">1716</span><br><span class=\"line\">1717</span><br><span class=\"line\">1718</span><br><span class=\"line\">1719</span><br><span class=\"line\">1720</span><br><span class=\"line\">1721</span><br><span class=\"line\">1722</span><br><span class=\"line\">1723</span><br><span class=\"line\">1724</span><br><span class=\"line\">1725</span><br><span class=\"line\">1726</span><br><span class=\"line\">1727</span><br><span class=\"line\">1728</span><br><span class=\"line\">1729</span><br><span class=\"line\">1730</span><br><span class=\"line\">1731</span><br><span class=\"line\">1732</span><br><span class=\"line\">1733</span><br><span class=\"line\">1734</span><br><span class=\"line\">1735</span><br><span class=\"line\">1736</span><br><span class=\"line\">1737</span><br><span class=\"line\">1738</span><br><span class=\"line\">1739</span><br><span class=\"line\">1740</span><br><span class=\"line\">1741</span><br><span class=\"line\">1742</span><br><span class=\"line\">1743</span><br><span class=\"line\">1744</span><br><span class=\"line\">1745</span><br><span class=\"line\">1746</span><br><span class=\"line\">1747</span><br><span class=\"line\">1748</span><br><span class=\"line\">1749</span><br><span class=\"line\">1750</span><br><span class=\"line\">1751</span><br><span class=\"line\">1752</span><br><span class=\"line\">1753</span><br><span class=\"line\">1754</span><br><span class=\"line\">1755</span><br><span class=\"line\">1756</span><br><span class=\"line\">1757</span><br><span class=\"line\">1758</span><br><span class=\"line\">1759</span><br><span class=\"line\">1760</span><br><span class=\"line\">1761</span><br><span class=\"line\">1762</span><br><span class=\"line\">1763</span><br><span class=\"line\">1764</span><br><span class=\"line\">1765</span><br><span class=\"line\">1766</span><br><span class=\"line\">1767</span><br><span class=\"line\">1768</span><br><span class=\"line\">1769</span><br><span class=\"line\">1770</span><br><span class=\"line\">1771</span><br><span class=\"line\">1772</span><br><span class=\"line\">1773</span><br><span class=\"line\">1774</span><br><span class=\"line\">1775</span><br><span class=\"line\">1776</span><br><span class=\"line\">1777</span><br><span class=\"line\">1778</span><br><span class=\"line\">1779</span><br><span class=\"line\">1780</span><br><span class=\"line\">1781</span><br><span class=\"line\">1782</span><br><span class=\"line\">1783</span><br><span class=\"line\">1784</span><br><span class=\"line\">1785</span><br><span class=\"line\">1786</span><br><span class=\"line\">1787</span><br><span class=\"line\">1788</span><br><span class=\"line\">1789</span><br><span class=\"line\">1790</span><br><span class=\"line\">1791</span><br><span class=\"line\">1792</span><br><span class=\"line\">1793</span><br><span class=\"line\">1794</span><br><span class=\"line\">1795</span><br><span class=\"line\">1796</span><br><span class=\"line\">1797</span><br><span class=\"line\">1798</span><br><span class=\"line\">1799</span><br><span class=\"line\">1800</span><br><span class=\"line\">1801</span><br><span class=\"line\">1802</span><br><span class=\"line\">1803</span><br><span class=\"line\">1804</span><br><span class=\"line\">1805</span><br><span class=\"line\">1806</span><br><span class=\"line\">1807</span><br><span class=\"line\">1808</span><br><span class=\"line\">1809</span><br><span class=\"line\">1810</span><br><span class=\"line\">1811</span><br><span class=\"line\">1812</span><br><span class=\"line\">1813</span><br><span class=\"line\">1814</span><br><span class=\"line\">1815</span><br><span class=\"line\">1816</span><br><span class=\"line\">1817</span><br><span class=\"line\">1818</span><br><span class=\"line\">1819</span><br><span class=\"line\">1820</span><br><span class=\"line\">1821</span><br><span class=\"line\">1822</span><br><span class=\"line\">1823</span><br><span class=\"line\">1824</span><br><span class=\"line\">1825</span><br><span class=\"line\">1826</span><br><span class=\"line\">1827</span><br><span class=\"line\">1828</span><br><span class=\"line\">1829</span><br><span class=\"line\">1830</span><br><span class=\"line\">1831</span><br><span class=\"line\">1832</span><br><span class=\"line\">1833</span><br><span class=\"line\">1834</span><br><span class=\"line\">1835</span><br><span class=\"line\">1836</span><br><span class=\"line\">1837</span><br><span class=\"line\">1838</span><br><span class=\"line\">1839</span><br><span class=\"line\">1840</span><br><span class=\"line\">1841</span><br><span class=\"line\">1842</span><br><span class=\"line\">1843</span><br><span class=\"line\">1844</span><br><span class=\"line\">1845</span><br><span class=\"line\">1846</span><br><span class=\"line\">1847</span><br><span class=\"line\">1848</span><br><span class=\"line\">1849</span><br><span class=\"line\">1850</span><br><span class=\"line\">1851</span><br><span class=\"line\">1852</span><br><span class=\"line\">1853</span><br><span class=\"line\">1854</span><br><span class=\"line\">1855</span><br><span class=\"line\">1856</span><br><span class=\"line\">1857</span><br><span class=\"line\">1858</span><br><span class=\"line\">1859</span><br><span class=\"line\">1860</span><br><span class=\"line\">1861</span><br><span class=\"line\">1862</span><br><span class=\"line\">1863</span><br><span class=\"line\">1864</span><br><span class=\"line\">1865</span><br><span class=\"line\">1866</span><br><span class=\"line\">1867</span><br><span class=\"line\">1868</span><br><span class=\"line\">1869</span><br><span class=\"line\">1870</span><br><span class=\"line\">1871</span><br><span class=\"line\">1872</span><br><span class=\"line\">1873</span><br><span class=\"line\">1874</span><br><span class=\"line\">1875</span><br><span class=\"line\">1876</span><br><span class=\"line\">1877</span><br><span class=\"line\">1878</span><br><span class=\"line\">1879</span><br><span class=\"line\">1880</span><br><span class=\"line\">1881</span><br><span class=\"line\">1882</span><br><span class=\"line\">1883</span><br><span class=\"line\">1884</span><br><span class=\"line\">1885</span><br><span class=\"line\">1886</span><br><span class=\"line\">1887</span><br><span class=\"line\">1888</span><br><span class=\"line\">1889</span><br><span class=\"line\">1890</span><br><span class=\"line\">1891</span><br><span class=\"line\">1892</span><br><span class=\"line\">1893</span><br><span class=\"line\">1894</span><br><span class=\"line\">1895</span><br><span class=\"line\">1896</span><br><span class=\"line\">1897</span><br><span class=\"line\">1898</span><br><span class=\"line\">1899</span><br><span class=\"line\">1900</span><br><span class=\"line\">1901</span><br><span class=\"line\">1902</span><br><span class=\"line\">1903</span><br><span class=\"line\">1904</span><br><span class=\"line\">1905</span><br><span class=\"line\">1906</span><br><span class=\"line\">1907</span><br><span class=\"line\">1908</span><br><span class=\"line\">1909</span><br><span class=\"line\">1910</span><br><span class=\"line\">1911</span><br><span class=\"line\">1912</span><br><span class=\"line\">1913</span><br><span class=\"line\">1914</span><br><span class=\"line\">1915</span><br><span class=\"line\">1916</span><br><span class=\"line\">1917</span><br><span class=\"line\">1918</span><br><span class=\"line\">1919</span><br><span class=\"line\">1920</span><br><span class=\"line\">1921</span><br><span class=\"line\">1922</span><br><span class=\"line\">1923</span><br><span class=\"line\">1924</span><br><span class=\"line\">1925</span><br><span class=\"line\">1926</span><br><span class=\"line\">1927</span><br><span class=\"line\">1928</span><br><span class=\"line\">1929</span><br><span class=\"line\">1930</span><br><span class=\"line\">1931</span><br><span class=\"line\">1932</span><br><span class=\"line\">1933</span><br><span class=\"line\">1934</span><br><span class=\"line\">1935</span><br><span class=\"line\">1936</span><br><span class=\"line\">1937</span><br><span class=\"line\">1938</span><br><span class=\"line\">1939</span><br><span class=\"line\">1940</span><br><span class=\"line\">1941</span><br><span class=\"line\">1942</span><br><span class=\"line\">1943</span><br><span class=\"line\">1944</span><br><span class=\"line\">1945</span><br><span class=\"line\">1946</span><br><span class=\"line\">1947</span><br><span class=\"line\">1948</span><br><span class=\"line\">1949</span><br><span class=\"line\">1950</span><br><span class=\"line\">1951</span><br><span class=\"line\">1952</span><br><span class=\"line\">1953</span><br><span class=\"line\">1954</span><br><span class=\"line\">1955</span><br><span class=\"line\">1956</span><br><span class=\"line\">1957</span><br><span class=\"line\">1958</span><br><span class=\"line\">1959</span><br><span class=\"line\">1960</span><br><span class=\"line\">1961</span><br><span class=\"line\">1962</span><br><span class=\"line\">1963</span><br><span class=\"line\">1964</span><br><span class=\"line\">1965</span><br><span class=\"line\">1966</span><br><span class=\"line\">1967</span><br><span class=\"line\">1968</span><br><span class=\"line\">1969</span><br><span class=\"line\">1970</span><br><span class=\"line\">1971</span><br><span class=\"line\">1972</span><br><span class=\"line\">1973</span><br><span class=\"line\">1974</span><br><span class=\"line\">1975</span><br><span class=\"line\">1976</span><br><span class=\"line\">1977</span><br><span class=\"line\">1978</span><br><span class=\"line\">1979</span><br><span class=\"line\">1980</span><br><span class=\"line\">1981</span><br><span class=\"line\">1982</span><br><span class=\"line\">1983</span><br><span class=\"line\">1984</span><br><span class=\"line\">1985</span><br><span class=\"line\">1986</span><br><span class=\"line\">1987</span><br><span class=\"line\">1988</span><br><span class=\"line\">1989</span><br><span class=\"line\">1990</span><br><span class=\"line\">1991</span><br><span class=\"line\">1992</span><br><span class=\"line\">1993</span><br><span class=\"line\">1994</span><br><span class=\"line\">1995</span><br><span class=\"line\">1996</span><br><span class=\"line\">1997</span><br><span class=\"line\">1998</span><br><span class=\"line\">1999</span><br><span class=\"line\">2000</span><br><span class=\"line\">2001</span><br><span class=\"line\">2002</span><br><span class=\"line\">2003</span><br><span class=\"line\">2004</span><br><span class=\"line\">2005</span><br><span class=\"line\">2006</span><br><span class=\"line\">2007</span><br><span class=\"line\">2008</span><br><span class=\"line\">2009</span><br><span class=\"line\">2010</span><br><span class=\"line\">2011</span><br><span class=\"line\">2012</span><br><span class=\"line\">2013</span><br><span class=\"line\">2014</span><br><span class=\"line\">2015</span><br><span class=\"line\">2016</span><br><span class=\"line\">2017</span><br><span class=\"line\">2018</span><br><span class=\"line\">2019</span><br><span class=\"line\">2020</span><br><span class=\"line\">2021</span><br><span class=\"line\">2022</span><br><span class=\"line\">2023</span><br><span class=\"line\">2024</span><br><span class=\"line\">2025</span><br><span class=\"line\">2026</span><br><span class=\"line\">2027</span><br><span class=\"line\">2028</span><br><span class=\"line\">2029</span><br><span class=\"line\">2030</span><br><span class=\"line\">2031</span><br><span class=\"line\">2032</span><br><span class=\"line\">2033</span><br><span class=\"line\">2034</span><br><span class=\"line\">2035</span><br><span class=\"line\">2036</span><br><span class=\"line\">2037</span><br><span class=\"line\">2038</span><br><span class=\"line\">2039</span><br><span class=\"line\">2040</span><br><span class=\"line\">2041</span><br><span class=\"line\">2042</span><br><span class=\"line\">2043</span><br><span class=\"line\">2044</span><br><span class=\"line\">2045</span><br><span class=\"line\">2046</span><br><span class=\"line\">2047</span><br><span class=\"line\">2048</span><br><span class=\"line\">2049</span><br><span class=\"line\">2050</span><br><span class=\"line\">2051</span><br><span class=\"line\">2052</span><br><span class=\"line\">2053</span><br><span class=\"line\">2054</span><br><span class=\"line\">2055</span><br><span class=\"line\">2056</span><br><span class=\"line\">2057</span><br><span class=\"line\">2058</span><br><span class=\"line\">2059</span><br><span class=\"line\">2060</span><br><span class=\"line\">2061</span><br><span class=\"line\">2062</span><br><span class=\"line\">2063</span><br><span class=\"line\">2064</span><br><span class=\"line\">2065</span><br><span class=\"line\">2066</span><br><span class=\"line\">2067</span><br><span class=\"line\">2068</span><br><span class=\"line\">2069</span><br><span class=\"line\">2070</span><br><span class=\"line\">2071</span><br><span class=\"line\">2072</span><br><span class=\"line\">2073</span><br><span class=\"line\">2074</span><br><span class=\"line\">2075</span><br><span class=\"line\">2076</span><br><span class=\"line\">2077</span><br><span class=\"line\">2078</span><br><span class=\"line\">2079</span><br><span class=\"line\">2080</span><br><span class=\"line\">2081</span><br><span class=\"line\">2082</span><br><span class=\"line\">2083</span><br><span class=\"line\">2084</span><br><span class=\"line\">2085</span><br><span class=\"line\">2086</span><br><span class=\"line\">2087</span><br><span class=\"line\">2088</span><br><span class=\"line\">2089</span><br><span class=\"line\">2090</span><br><span class=\"line\">2091</span><br><span class=\"line\">2092</span><br><span class=\"line\">2093</span><br><span class=\"line\">2094</span><br><span class=\"line\">2095</span><br><span class=\"line\">2096</span><br><span class=\"line\">2097</span><br><span class=\"line\">2098</span><br><span class=\"line\">2099</span><br><span class=\"line\">2100</span><br><span class=\"line\">2101</span><br><span class=\"line\">2102</span><br><span class=\"line\">2103</span><br><span class=\"line\">2104</span><br><span class=\"line\">2105</span><br><span class=\"line\">2106</span><br><span class=\"line\">2107</span><br><span class=\"line\">2108</span><br><span class=\"line\">2109</span><br><span class=\"line\">2110</span><br><span class=\"line\">2111</span><br><span class=\"line\">2112</span><br><span class=\"line\">2113</span><br><span class=\"line\">2114</span><br><span class=\"line\">2115</span><br><span class=\"line\">2116</span><br><span class=\"line\">2117</span><br><span class=\"line\">2118</span><br><span class=\"line\">2119</span><br><span class=\"line\">2120</span><br><span class=\"line\">2121</span><br><span class=\"line\">2122</span><br><span class=\"line\">2123</span><br><span class=\"line\">2124</span><br><span class=\"line\">2125</span><br><span class=\"line\">2126</span><br><span class=\"line\">2127</span><br><span class=\"line\">2128</span><br><span class=\"line\">2129</span><br><span class=\"line\">2130</span><br><span class=\"line\">2131</span><br><span class=\"line\">2132</span><br><span class=\"line\">2133</span><br><span class=\"line\">2134</span><br><span class=\"line\">2135</span><br><span class=\"line\">2136</span><br><span class=\"line\">2137</span><br><span class=\"line\">2138</span><br><span class=\"line\">2139</span><br><span class=\"line\">2140</span><br><span class=\"line\">2141</span><br><span class=\"line\">2142</span><br><span class=\"line\">2143</span><br><span class=\"line\">2144</span><br><span class=\"line\">2145</span><br><span class=\"line\">2146</span><br><span class=\"line\">2147</span><br><span class=\"line\">2148</span><br><span class=\"line\">2149</span><br><span class=\"line\">2150</span><br><span class=\"line\">2151</span><br><span class=\"line\">2152</span><br><span class=\"line\">2153</span><br><span class=\"line\">2154</span><br><span class=\"line\">2155</span><br><span class=\"line\">2156</span><br><span class=\"line\">2157</span><br><span class=\"line\">2158</span><br><span class=\"line\">2159</span><br><span class=\"line\">2160</span><br><span class=\"line\">2161</span><br><span class=\"line\">2162</span><br><span class=\"line\">2163</span><br><span class=\"line\">2164</span><br><span class=\"line\">2165</span><br><span class=\"line\">2166</span><br><span class=\"line\">2167</span><br><span class=\"line\">2168</span><br><span class=\"line\">2169</span><br><span class=\"line\">2170</span><br><span class=\"line\">2171</span><br><span class=\"line\">2172</span><br><span class=\"line\">2173</span><br><span class=\"line\">2174</span><br><span class=\"line\">2175</span><br><span class=\"line\">2176</span><br><span class=\"line\">2177</span><br><span class=\"line\">2178</span><br><span class=\"line\">2179</span><br><span class=\"line\">2180</span><br><span class=\"line\">2181</span><br><span class=\"line\">2182</span><br><span class=\"line\">2183</span><br><span class=\"line\">2184</span><br><span class=\"line\">2185</span><br><span class=\"line\">2186</span><br><span class=\"line\">2187</span><br><span class=\"line\">2188</span><br><span class=\"line\">2189</span><br><span class=\"line\">2190</span><br><span class=\"line\">2191</span><br><span class=\"line\">2192</span><br><span class=\"line\">2193</span><br><span class=\"line\">2194</span><br><span class=\"line\">2195</span><br><span class=\"line\">2196</span><br><span class=\"line\">2197</span><br><span class=\"line\">2198</span><br><span class=\"line\">2199</span><br><span class=\"line\">2200</span><br><span class=\"line\">2201</span><br><span class=\"line\">2202</span><br><span class=\"line\">2203</span><br><span class=\"line\">2204</span><br><span class=\"line\">2205</span><br><span class=\"line\">2206</span><br><span class=\"line\">2207</span><br><span class=\"line\">2208</span><br><span class=\"line\">2209</span><br><span class=\"line\">2210</span><br><span class=\"line\">2211</span><br><span class=\"line\">2212</span><br><span class=\"line\">2213</span><br><span class=\"line\">2214</span><br><span class=\"line\">2215</span><br><span class=\"line\">2216</span><br><span class=\"line\">2217</span><br><span class=\"line\">2218</span><br><span class=\"line\">2219</span><br><span class=\"line\">2220</span><br><span class=\"line\">2221</span><br><span class=\"line\">2222</span><br><span class=\"line\">2223</span><br><span class=\"line\">2224</span><br><span class=\"line\">2225</span><br><span class=\"line\">2226</span><br><span class=\"line\">2227</span><br><span class=\"line\">2228</span><br><span class=\"line\">2229</span><br><span class=\"line\">2230</span><br><span class=\"line\">2231</span><br><span class=\"line\">2232</span><br><span class=\"line\">2233</span><br><span class=\"line\">2234</span><br><span class=\"line\">2235</span><br><span class=\"line\">2236</span><br><span class=\"line\">2237</span><br><span class=\"line\">2238</span><br><span class=\"line\">2239</span><br><span class=\"line\">2240</span><br><span class=\"line\">2241</span><br><span class=\"line\">2242</span><br><span class=\"line\">2243</span><br><span class=\"line\">2244</span><br><span class=\"line\">2245</span><br><span class=\"line\">2246</span><br><span class=\"line\">2247</span><br><span class=\"line\">2248</span><br><span class=\"line\">2249</span><br><span class=\"line\">2250</span><br><span class=\"line\">2251</span><br><span class=\"line\">2252</span><br><span class=\"line\">2253</span><br><span class=\"line\">2254</span><br><span class=\"line\">2255</span><br><span class=\"line\">2256</span><br><span class=\"line\">2257</span><br><span class=\"line\">2258</span><br><span class=\"line\">2259</span><br><span class=\"line\">2260</span><br><span class=\"line\">2261</span><br><span class=\"line\">2262</span><br><span class=\"line\">2263</span><br><span class=\"line\">2264</span><br><span class=\"line\">2265</span><br><span class=\"line\">2266</span><br><span class=\"line\">2267</span><br><span class=\"line\">2268</span><br><span class=\"line\">2269</span><br><span class=\"line\">2270</span><br><span class=\"line\">2271</span><br><span class=\"line\">2272</span><br><span class=\"line\">2273</span><br><span class=\"line\">2274</span><br><span class=\"line\">2275</span><br><span class=\"line\">2276</span><br><span class=\"line\">2277</span><br><span class=\"line\">2278</span><br><span class=\"line\">2279</span><br><span class=\"line\">2280</span><br><span class=\"line\">2281</span><br><span class=\"line\">2282</span><br><span class=\"line\">2283</span><br><span class=\"line\">2284</span><br><span class=\"line\">2285</span><br><span class=\"line\">2286</span><br><span class=\"line\">2287</span><br><span class=\"line\">2288</span><br><span class=\"line\">2289</span><br><span class=\"line\">2290</span><br><span class=\"line\">2291</span><br><span class=\"line\">2292</span><br><span class=\"line\">2293</span><br><span class=\"line\">2294</span><br><span class=\"line\">2295</span><br><span class=\"line\">2296</span><br><span class=\"line\">2297</span><br><span class=\"line\">2298</span><br><span class=\"line\">2299</span><br><span class=\"line\">2300</span><br><span class=\"line\">2301</span><br><span class=\"line\">2302</span><br><span class=\"line\">2303</span><br><span class=\"line\">2304</span><br><span class=\"line\">2305</span><br><span class=\"line\">2306</span><br><span class=\"line\">2307</span><br><span class=\"line\">2308</span><br><span class=\"line\">2309</span><br><span class=\"line\">2310</span><br><span class=\"line\">2311</span><br><span class=\"line\">2312</span><br><span class=\"line\">2313</span><br><span class=\"line\">2314</span><br><span class=\"line\">2315</span><br><span class=\"line\">2316</span><br><span class=\"line\">2317</span><br><span class=\"line\">2318</span><br><span class=\"line\">2319</span><br><span class=\"line\">2320</span><br><span class=\"line\">2321</span><br><span class=\"line\">2322</span><br><span class=\"line\">2323</span><br><span class=\"line\">2324</span><br><span class=\"line\">2325</span><br><span class=\"line\">2326</span><br><span class=\"line\">2327</span><br><span class=\"line\">2328</span><br><span class=\"line\">2329</span><br><span class=\"line\">2330</span><br><span class=\"line\">2331</span><br><span class=\"line\">2332</span><br><span class=\"line\">2333</span><br><span class=\"line\">2334</span><br><span class=\"line\">2335</span><br><span class=\"line\">2336</span><br><span class=\"line\">2337</span><br><span class=\"line\">2338</span><br><span class=\"line\">2339</span><br><span class=\"line\">2340</span><br><span class=\"line\">2341</span><br><span class=\"line\">2342</span><br><span class=\"line\">2343</span><br><span class=\"line\">2344</span><br><span class=\"line\">2345</span><br><span class=\"line\">2346</span><br><span class=\"line\">2347</span><br><span class=\"line\">2348</span><br><span class=\"line\">2349</span><br><span class=\"line\">2350</span><br><span class=\"line\">2351</span><br><span class=\"line\">2352</span><br><span class=\"line\">2353</span><br><span class=\"line\">2354</span><br><span class=\"line\">2355</span><br><span class=\"line\">2356</span><br><span class=\"line\">2357</span><br><span class=\"line\">2358</span><br><span class=\"line\">2359</span><br><span class=\"line\">2360</span><br><span class=\"line\">2361</span><br><span class=\"line\">2362</span><br><span class=\"line\">2363</span><br><span class=\"line\">2364</span><br><span class=\"line\">2365</span><br><span class=\"line\">2366</span><br><span class=\"line\">2367</span><br><span class=\"line\">2368</span><br><span class=\"line\">2369</span><br><span class=\"line\">2370</span><br><span class=\"line\">2371</span><br><span class=\"line\">2372</span><br><span class=\"line\">2373</span><br><span class=\"line\">2374</span><br><span class=\"line\">2375</span><br><span class=\"line\">2376</span><br><span class=\"line\">2377</span><br><span class=\"line\">2378</span><br><span class=\"line\">2379</span><br><span class=\"line\">2380</span><br><span class=\"line\">2381</span><br><span class=\"line\">2382</span><br><span class=\"line\">2383</span><br><span class=\"line\">2384</span><br><span class=\"line\">2385</span><br><span class=\"line\">2386</span><br><span class=\"line\">2387</span><br><span class=\"line\">2388</span><br><span class=\"line\">2389</span><br><span class=\"line\">2390</span><br><span class=\"line\">2391</span><br><span class=\"line\">2392</span><br><span class=\"line\">2393</span><br><span class=\"line\">2394</span><br><span class=\"line\">2395</span><br><span class=\"line\">2396</span><br><span class=\"line\">2397</span><br><span class=\"line\">2398</span><br><span class=\"line\">2399</span><br><span class=\"line\">2400</span><br><span class=\"line\">2401</span><br><span class=\"line\">2402</span><br><span class=\"line\">2403</span><br><span class=\"line\">2404</span><br><span class=\"line\">2405</span><br><span class=\"line\">2406</span><br><span class=\"line\">2407</span><br><span class=\"line\">2408</span><br><span class=\"line\">2409</span><br><span class=\"line\">2410</span><br><span class=\"line\">2411</span><br><span class=\"line\">2412</span><br><span class=\"line\">2413</span><br><span class=\"line\">2414</span><br><span class=\"line\">2415</span><br><span class=\"line\">2416</span><br><span class=\"line\">2417</span><br><span class=\"line\">2418</span><br><span class=\"line\">2419</span><br><span class=\"line\">2420</span><br><span class=\"line\">2421</span><br><span class=\"line\">2422</span><br><span class=\"line\">2423</span><br><span class=\"line\">2424</span><br><span class=\"line\">2425</span><br><span class=\"line\">2426</span><br><span class=\"line\">2427</span><br><span class=\"line\">2428</span><br><span class=\"line\">2429</span><br><span class=\"line\">2430</span><br><span class=\"line\">2431</span><br><span class=\"line\">2432</span><br><span class=\"line\">2433</span><br><span class=\"line\">2434</span><br><span class=\"line\">2435</span><br><span class=\"line\">2436</span><br><span class=\"line\">2437</span><br><span class=\"line\">2438</span><br><span class=\"line\">2439</span><br><span class=\"line\">2440</span><br><span class=\"line\">2441</span><br><span class=\"line\">2442</span><br><span class=\"line\">2443</span><br><span class=\"line\">2444</span><br><span class=\"line\">2445</span><br><span class=\"line\">2446</span><br><span class=\"line\">2447</span><br><span class=\"line\">2448</span><br><span class=\"line\">2449</span><br><span class=\"line\">2450</span><br><span class=\"line\">2451</span><br><span class=\"line\">2452</span><br><span class=\"line\">2453</span><br><span class=\"line\">2454</span><br><span class=\"line\">2455</span><br><span class=\"line\">2456</span><br><span class=\"line\">2457</span><br><span class=\"line\">2458</span><br><span class=\"line\">2459</span><br><span class=\"line\">2460</span><br><span class=\"line\">2461</span><br><span class=\"line\">2462</span><br><span class=\"line\">2463</span><br><span class=\"line\">2464</span><br><span class=\"line\">2465</span><br><span class=\"line\">2466</span><br><span class=\"line\">2467</span><br><span class=\"line\">2468</span><br><span class=\"line\">2469</span><br><span class=\"line\">2470</span><br><span class=\"line\">2471</span><br><span class=\"line\">2472</span><br><span class=\"line\">2473</span><br><span class=\"line\">2474</span><br><span class=\"line\">2475</span><br><span class=\"line\">2476</span><br><span class=\"line\">2477</span><br><span class=\"line\">2478</span><br><span class=\"line\">2479</span><br><span class=\"line\">2480</span><br><span class=\"line\">2481</span><br><span class=\"line\">2482</span><br><span class=\"line\">2483</span><br><span class=\"line\">2484</span><br><span class=\"line\">2485</span><br><span class=\"line\">2486</span><br><span class=\"line\">2487</span><br><span class=\"line\">2488</span><br><span class=\"line\">2489</span><br><span class=\"line\">2490</span><br><span class=\"line\">2491</span><br><span class=\"line\">2492</span><br><span class=\"line\">2493</span><br><span class=\"line\">2494</span><br><span class=\"line\">2495</span><br><span class=\"line\">2496</span><br><span class=\"line\">2497</span><br><span class=\"line\">2498</span><br><span class=\"line\">2499</span><br><span class=\"line\">2500</span><br><span class=\"line\">2501</span><br><span class=\"line\">2502</span><br><span class=\"line\">2503</span><br><span class=\"line\">2504</span><br><span class=\"line\">2505</span><br><span class=\"line\">2506</span><br><span class=\"line\">2507</span><br><span class=\"line\">2508</span><br><span class=\"line\">2509</span><br><span class=\"line\">2510</span><br><span class=\"line\">2511</span><br><span class=\"line\">2512</span><br><span class=\"line\">2513</span><br><span class=\"line\">2514</span><br><span class=\"line\">2515</span><br><span class=\"line\">2516</span><br><span class=\"line\">2517</span><br><span class=\"line\">2518</span><br><span class=\"line\">2519</span><br><span class=\"line\">2520</span><br><span class=\"line\">2521</span><br><span class=\"line\">2522</span><br><span class=\"line\">2523</span><br><span class=\"line\">2524</span><br><span class=\"line\">2525</span><br><span class=\"line\">2526</span><br><span class=\"line\">2527</span><br><span class=\"line\">2528</span><br><span class=\"line\">2529</span><br><span class=\"line\">2530</span><br><span class=\"line\">2531</span><br><span class=\"line\">2532</span><br><span class=\"line\">2533</span><br><span class=\"line\">2534</span><br><span class=\"line\">2535</span><br><span class=\"line\">2536</span><br><span class=\"line\">2537</span><br><span class=\"line\">2538</span><br><span class=\"line\">2539</span><br><span class=\"line\">2540</span><br><span class=\"line\">2541</span><br><span class=\"line\">2542</span><br><span class=\"line\">2543</span><br><span class=\"line\">2544</span><br><span class=\"line\">2545</span><br><span class=\"line\">2546</span><br><span class=\"line\">2547</span><br><span class=\"line\">2548</span><br><span class=\"line\">2549</span><br><span class=\"line\">2550</span><br><span class=\"line\">2551</span><br><span class=\"line\">2552</span><br><span class=\"line\">2553</span><br><span class=\"line\">2554</span><br><span class=\"line\">2555</span><br><span class=\"line\">2556</span><br><span class=\"line\">2557</span><br><span class=\"line\">2558</span><br><span class=\"line\">2559</span><br><span class=\"line\">2560</span><br><span class=\"line\">2561</span><br><span class=\"line\">2562</span><br><span class=\"line\">2563</span><br><span class=\"line\">2564</span><br><span class=\"line\">2565</span><br><span class=\"line\">2566</span><br><span class=\"line\">2567</span><br><span class=\"line\">2568</span><br><span class=\"line\">2569</span><br><span class=\"line\">2570</span><br><span class=\"line\">2571</span><br><span class=\"line\">2572</span><br><span class=\"line\">2573</span><br><span class=\"line\">2574</span><br><span class=\"line\">2575</span><br><span class=\"line\">2576</span><br><span class=\"line\">2577</span><br><span class=\"line\">2578</span><br><span class=\"line\">2579</span><br><span class=\"line\">2580</span><br><span class=\"line\">2581</span><br><span class=\"line\">2582</span><br><span class=\"line\">2583</span><br><span class=\"line\">2584</span><br><span class=\"line\">2585</span><br><span class=\"line\">2586</span><br><span class=\"line\">2587</span><br><span class=\"line\">2588</span><br><span class=\"line\">2589</span><br><span class=\"line\">2590</span><br><span class=\"line\">2591</span><br><span class=\"line\">2592</span><br><span class=\"line\">2593</span><br><span class=\"line\">2594</span><br><span class=\"line\">2595</span><br><span class=\"line\">2596</span><br><span class=\"line\">2597</span><br><span class=\"line\">2598</span><br><span class=\"line\">2599</span><br><span class=\"line\">2600</span><br><span class=\"line\">2601</span><br><span class=\"line\">2602</span><br><span class=\"line\">2603</span><br><span class=\"line\">2604</span><br><span class=\"line\">2605</span><br><span class=\"line\">2606</span><br><span class=\"line\">2607</span><br><span class=\"line\">2608</span><br><span class=\"line\">2609</span><br><span class=\"line\">2610</span><br><span class=\"line\">2611</span><br><span class=\"line\">2612</span><br><span class=\"line\">2613</span><br><span class=\"line\">2614</span><br><span class=\"line\">2615</span><br><span class=\"line\">2616</span><br><span class=\"line\">2617</span><br><span class=\"line\">2618</span><br><span class=\"line\">2619</span><br><span class=\"line\">2620</span><br><span class=\"line\">2621</span><br><span class=\"line\">2622</span><br><span class=\"line\">2623</span><br><span class=\"line\">2624</span><br><span class=\"line\">2625</span><br><span class=\"line\">2626</span><br><span class=\"line\">2627</span><br><span class=\"line\">2628</span><br><span class=\"line\">2629</span><br><span class=\"line\">2630</span><br><span class=\"line\">2631</span><br><span class=\"line\">2632</span><br><span class=\"line\">2633</span><br><span class=\"line\">2634</span><br><span class=\"line\">2635</span><br><span class=\"line\">2636</span><br><span class=\"line\">2637</span><br><span class=\"line\">2638</span><br><span class=\"line\">2639</span><br><span class=\"line\">2640</span><br><span class=\"line\">2641</span><br><span class=\"line\">2642</span><br><span class=\"line\">2643</span><br><span class=\"line\">2644</span><br><span class=\"line\">2645</span><br><span class=\"line\">2646</span><br><span class=\"line\">2647</span><br><span class=\"line\">2648</span><br><span class=\"line\">2649</span><br><span class=\"line\">2650</span><br><span class=\"line\">2651</span><br><span class=\"line\">2652</span><br><span class=\"line\">2653</span><br><span class=\"line\">2654</span><br><span class=\"line\">2655</span><br><span class=\"line\">2656</span><br><span class=\"line\">2657</span><br><span class=\"line\">2658</span><br><span class=\"line\">2659</span><br><span class=\"line\">2660</span><br><span class=\"line\">2661</span><br><span class=\"line\">2662</span><br><span class=\"line\">2663</span><br><span class=\"line\">2664</span><br><span class=\"line\">2665</span><br><span class=\"line\">2666</span><br><span class=\"line\">2667</span><br><span class=\"line\">2668</span><br><span class=\"line\">2669</span><br><span class=\"line\">2670</span><br><span class=\"line\">2671</span><br><span class=\"line\">2672</span><br><span class=\"line\">2673</span><br><span class=\"line\">2674</span><br><span class=\"line\">2675</span><br><span class=\"line\">2676</span><br><span class=\"line\">2677</span><br><span class=\"line\">2678</span><br><span class=\"line\">2679</span><br><span class=\"line\">2680</span><br><span class=\"line\">2681</span><br><span class=\"line\">2682</span><br><span class=\"line\">2683</span><br><span class=\"line\">2684</span><br><span class=\"line\">2685</span><br><span class=\"line\">2686</span><br><span class=\"line\">2687</span><br><span class=\"line\">2688</span><br><span class=\"line\">2689</span><br><span class=\"line\">2690</span><br><span class=\"line\">2691</span><br><span class=\"line\">2692</span><br><span class=\"line\">2693</span><br><span class=\"line\">2694</span><br><span class=\"line\">2695</span><br><span class=\"line\">2696</span><br><span class=\"line\">2697</span><br><span class=\"line\">2698</span><br><span class=\"line\">2699</span><br><span class=\"line\">2700</span><br><span class=\"line\">2701</span><br><span class=\"line\">2702</span><br><span class=\"line\">2703</span><br><span class=\"line\">2704</span><br><span class=\"line\">2705</span><br><span class=\"line\">2706</span><br><span class=\"line\">2707</span><br><span class=\"line\">2708</span><br><span class=\"line\">2709</span><br><span class=\"line\">2710</span><br><span class=\"line\">2711</span><br><span class=\"line\">2712</span><br><span class=\"line\">2713</span><br><span class=\"line\">2714</span><br><span class=\"line\">2715</span><br><span class=\"line\">2716</span><br><span class=\"line\">2717</span><br><span class=\"line\">2718</span><br><span class=\"line\">2719</span><br><span class=\"line\">2720</span><br><span class=\"line\">2721</span><br><span class=\"line\">2722</span><br><span class=\"line\">2723</span><br><span class=\"line\">2724</span><br><span class=\"line\">2725</span><br><span class=\"line\">2726</span><br><span class=\"line\">2727</span><br><span class=\"line\">2728</span><br><span class=\"line\">2729</span><br><span class=\"line\">2730</span><br><span class=\"line\">2731</span><br><span class=\"line\">2732</span><br><span class=\"line\">2733</span><br><span class=\"line\">2734</span><br><span class=\"line\">2735</span><br><span class=\"line\">2736</span><br><span class=\"line\">2737</span><br><span class=\"line\">2738</span><br><span class=\"line\">2739</span><br><span class=\"line\">2740</span><br><span class=\"line\">2741</span><br><span class=\"line\">2742</span><br><span class=\"line\">2743</span><br><span class=\"line\">2744</span><br><span class=\"line\">2745</span><br><span class=\"line\">2746</span><br><span class=\"line\">2747</span><br><span class=\"line\">2748</span><br><span class=\"line\">2749</span><br><span class=\"line\">2750</span><br><span class=\"line\">2751</span><br><span class=\"line\">2752</span><br><span class=\"line\">2753</span><br><span class=\"line\">2754</span><br><span class=\"line\">2755</span><br><span class=\"line\">2756</span><br><span class=\"line\">2757</span><br><span class=\"line\">2758</span><br><span class=\"line\">2759</span><br><span class=\"line\">2760</span><br><span class=\"line\">2761</span><br><span class=\"line\">2762</span><br><span class=\"line\">2763</span><br><span class=\"line\">2764</span><br><span class=\"line\">2765</span><br><span class=\"line\">2766</span><br><span class=\"line\">2767</span><br><span class=\"line\">2768</span><br><span class=\"line\">2769</span><br><span class=\"line\">2770</span><br><span class=\"line\">2771</span><br><span class=\"line\">2772</span><br><span class=\"line\">2773</span><br><span class=\"line\">2774</span><br><span class=\"line\">2775</span><br><span class=\"line\">2776</span><br><span class=\"line\">2777</span><br><span class=\"line\">2778</span><br><span class=\"line\">2779</span><br><span class=\"line\">2780</span><br><span class=\"line\">2781</span><br><span class=\"line\">2782</span><br><span class=\"line\">2783</span><br><span class=\"line\">2784</span><br><span class=\"line\">2785</span><br><span class=\"line\">2786</span><br><span class=\"line\">2787</span><br><span class=\"line\">2788</span><br><span class=\"line\">2789</span><br><span class=\"line\">2790</span><br><span class=\"line\">2791</span><br><span class=\"line\">2792</span><br><span class=\"line\">2793</span><br><span class=\"line\">2794</span><br><span class=\"line\">2795</span><br><span class=\"line\">2796</span><br><span class=\"line\">2797</span><br><span class=\"line\">2798</span><br><span class=\"line\">2799</span><br><span class=\"line\">2800</span><br><span class=\"line\">2801</span><br><span class=\"line\">2802</span><br><span class=\"line\">2803</span><br><span class=\"line\">2804</span><br><span class=\"line\">2805</span><br><span class=\"line\">2806</span><br><span class=\"line\">2807</span><br><span class=\"line\">2808</span><br><span class=\"line\">2809</span><br><span class=\"line\">2810</span><br><span class=\"line\">2811</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;div class=&quot;cost-list&quot;&gt;</span><br><span class=\"line\">    &lt;ws-list-panel</span><br><span class=\"line\">      :loading=&quot;loading&quot;</span><br><span class=\"line\">      :data=&quot;list&quot;</span><br><span class=\"line\">      :columns=&quot;columns&quot;</span><br><span class=\"line\">      :selection=&quot;true&quot;</span><br><span class=\"line\">      :page-num=&quot;pageNum&quot;</span><br><span class=\"line\">      :page-size=&quot;pageSize&quot;</span><br><span class=\"line\">      :total=&quot;total&quot;</span><br><span class=\"line\">      :pageSizes=&quot;[10]&quot;</span><br><span class=\"line\">      :reset=&quot;false&quot;</span><br><span class=\"line\">      @size-change=&quot;handleSizeChange&quot;</span><br><span class=\"line\">      @detail-click=&quot;handleDetailGoto&quot;</span><br><span class=\"line\">      @detail-click-dialog=&quot;handleDetail&quot;</span><br><span class=\"line\">      @detail-click-writeoff=&quot;writeOffDetail&quot;</span><br><span class=\"line\">      @edit-click=&quot;editDetailClick&quot;</span><br><span class=\"line\">      @certificate-click=&quot;handleCertificateDetail&quot;</span><br><span class=\"line\">      @current-change=&quot;handleCurrentChange&quot;</span><br><span class=\"line\">      @handleConfirm=&quot;handleConfirm&quot;</span><br><span class=\"line\">      @selection-change=&quot;handleSelection&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;template slot=&quot;title&quot;&gt;</span><br><span class=\"line\">        &lt;ws-data-search</span><br><span class=\"line\">          ref=&quot;filters&quot;</span><br><span class=\"line\">          :filters=&quot;filters&quot;</span><br><span class=\"line\">          :loading=&quot;loading&quot;</span><br><span class=\"line\">          @search=&quot;dataSearch&quot;</span><br><span class=\"line\">          :showMore=&quot;true&quot;</span><br><span class=\"line\">        &gt;&lt;/ws-data-search&gt;</span><br><span class=\"line\">      &lt;/template&gt;</span><br><span class=\"line\">      &lt;template slot=&quot;operation&quot;&gt;</span><br><span class=\"line\">        &lt;div&gt;</span><br><span class=\"line\">          &lt;el-dropdown</span><br><span class=\"line\">            trigger=&quot;click&quot;</span><br><span class=\"line\">            size=&quot;mini&quot;</span><br><span class=\"line\">            type=&quot;primary&quot;</span><br><span class=\"line\">            v-for=&quot;(item, index) in commandList&quot;</span><br><span class=\"line\">            :key=&quot;index&quot;</span><br><span class=\"line\">            :v-permission=&quot;item.permission&quot;</span><br><span class=\"line\">            style=&quot;margin-right:10px;&quot;</span><br><span class=\"line\">            @command=&quot;handleCommand($event, item)&quot;</span><br><span class=\"line\">          &gt;</span><br><span class=\"line\">            &lt;el-button type=&quot;primary&quot;&gt;&#123;&#123; item.titleName &#125;&#125; &lt;i class=&quot;el-icon-arrow-down&quot;&gt;&lt;/i&gt; &lt;/el-button&gt;</span><br><span class=\"line\">            &lt;el-dropdown-menu slot=&quot;dropdown&quot;&gt;</span><br><span class=\"line\">              &lt;el-dropdown-item command=&quot;select&quot;&gt;按选择&#123;&#123; item.opt &#125;&#125;&lt;/el-dropdown-item&gt;</span><br><span class=\"line\">              &lt;el-dropdown-item command=&quot;query&quot;&gt;按条件&#123;&#123; item.opt &#125;&#125;&lt;/el-dropdown-item&gt;</span><br><span class=\"line\">              &lt;el-dropdown-item command=&quot;input&quot;&gt;按录入&#123;&#123; item.opt &#125;&#125;&lt;/el-dropdown-item&gt;</span><br><span class=\"line\">              &lt;el-dropdown-item command=&quot;scene&quot; v-if=&quot;item.type === &#x27;certificate&#x27;&quot;</span><br><span class=\"line\">                &gt;按场景&#123;&#123; item.opt &#125;&#125;&lt;/el-dropdown-item</span><br><span class=\"line\">              &gt;</span><br><span class=\"line\">            &lt;/el-dropdown-menu&gt;</span><br><span class=\"line\">          &lt;/el-dropdown&gt;</span><br><span class=\"line\">        &lt;/div&gt;</span><br><span class=\"line\">        &lt;el-button</span><br><span class=\"line\">          type=&quot;primary&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">          icon=&quot;&quot;</span><br><span class=\"line\">          v-permission=&quot;payConfirmPermission&quot;</span><br><span class=\"line\">          v-if=&quot;payConfirmShow&quot;</span><br><span class=\"line\">          @click=&quot;handlePayConfirm&quot;</span><br><span class=\"line\">          &gt;&#123;&#123; confirmTitle &#125;&#125;&lt;/el-button</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;el-button</span><br><span class=\"line\">          type=&quot;primary&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">          icon=&quot;el-icon-download&quot;</span><br><span class=\"line\">          v-if=&quot;payConfirmShow&quot;</span><br><span class=\"line\">          v-permission=&quot;uploadPermission&quot;</span><br><span class=\"line\">          @click=&quot;handleMulDownload&quot;</span><br><span class=\"line\">          &gt;下载导入模板&lt;/el-button</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; v-if=&quot;bankDataShow&quot; @click=&quot;handleProvisionInfo&quot;&gt;月底计提&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button</span><br><span class=\"line\">          type=&quot;primary&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">          icon=&quot;el-icon-download&quot;</span><br><span class=\"line\">          v-if=&quot;payConfirmShow&quot;</span><br><span class=\"line\">          v-permission=&quot;uploadPermission&quot;</span><br><span class=\"line\">          @click=&quot;handleImport&quot;</span><br><span class=\"line\">          :loading=&quot;importing&quot;</span><br><span class=\"line\">          &gt;&#123;&#123; importBtnName &#125;&#125;&lt;/el-button</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;!-- &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; icon=&quot;&quot; v-permission=&quot;generateCertificatePermission&quot; @click=&quot;handleMulOpt&quot;</span><br><span class=\"line\">          &gt;生成凭证&lt;/el-button</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; icon=&quot;&quot; v-permission=&quot;&quot; @click=&quot;conditionCertificateCreate&quot;</span><br><span class=\"line\">          &gt;按查询条件生成凭证&lt;/el-button</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;el-button</span><br><span class=\"line\">          type=&quot;primary&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">          v-if=&quot;payConfirmShow&quot;</span><br><span class=\"line\">          icon=&quot;&quot;</span><br><span class=\"line\">          permission=&quot;fap:accounting:business:head:delete&quot;</span><br><span class=\"line\">          @click=&quot;batchDelete&quot;</span><br><span class=\"line\">          &gt;批量删除&lt;/el-button</span><br><span class=\"line\">        &gt; --&gt;</span><br><span class=\"line\">        &lt;el-button</span><br><span class=\"line\">          type=&quot;primary&quot;</span><br><span class=\"line\">          :plain=&quot;true&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">          icon=&quot;el-icon-bottom&quot;</span><br><span class=\"line\">          v-permission=&quot;downloadPermission&quot;</span><br><span class=\"line\">          @click=&quot;handleExport&quot;</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">          导 出</span><br><span class=\"line\">        &lt;/el-button&gt;</span><br><span class=\"line\">        &lt;input ref=&quot;file&quot; type=&quot;file&quot; class=&quot;hide&quot; @change=&quot;fileChange&quot; /&gt;</span><br><span class=\"line\">        &lt;el-dialog</span><br><span class=\"line\">          title=&quot;批量生成凭证&quot;</span><br><span class=\"line\">          :visible.sync=&quot;showConditionDialog&quot;</span><br><span class=\"line\">          width=&quot;700px&quot;</span><br><span class=\"line\">          class=&quot;confirm-form&quot;</span><br><span class=\"line\">          :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">          请确认是否按所选的查询条件批量生成凭证</span><br><span class=\"line\">          &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">            &lt;el-button size=&quot;mini&quot; @click=&quot;showConditionDialog = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">            &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; @click=&quot;conditionHandleMulOpt&quot;&gt;</span><br><span class=\"line\">              确 认</span><br><span class=\"line\">            &lt;/el-button&gt;</span><br><span class=\"line\">          &lt;/div&gt;</span><br><span class=\"line\">        &lt;/el-dialog&gt;</span><br><span class=\"line\">      &lt;/template&gt;</span><br><span class=\"line\">    &lt;/ws-list-panel&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      title=&quot;明细&quot;</span><br><span class=\"line\">      :center=&quot;true&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showDetailDialog&quot;</span><br><span class=\"line\">      width=&quot;1300px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;CostListView :dialogDataId=&quot;dialogDataId&quot; ref=&quot;costListView&quot; /&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showDetailDialog = false&quot; type=&quot;primary&quot;&gt;关 闭&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      title=&quot;凭证&quot;</span><br><span class=\"line\">      :center=&quot;true&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showCertificateDialog&quot;</span><br><span class=\"line\">      width=&quot;1300px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;CostCertificateListView /&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showCertificateDialog = false&quot; type=&quot;primary&quot;&gt;关 闭&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      title=&quot;核销信息&quot;</span><br><span class=\"line\">      :center=&quot;true&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showWriteOffDialog&quot;</span><br><span class=\"line\">      width=&quot;1300px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;CostWriteOffListView :dialogDataId=&quot;writeOffDataId&quot; ref=&quot;costWriteOffListView&quot; /&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showWriteOffDialog = false&quot; type=&quot;primary&quot;&gt;关 闭&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      :title=&quot;confirmTitle&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showConfirmDialog&quot;</span><br><span class=\"line\">      width=&quot;750px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form-dialog&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;ws-form-wrapper :cols=&quot;2&quot;&gt;</span><br><span class=\"line\">        &lt;el-form :model=&quot;form&quot; ref=&quot;form&quot; :rules=&quot;rules&quot; label-position=&quot;left&quot; inline label-width=&quot;100px&quot; size=&quot;mini&quot;&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;用途&quot; prop=&quot;purposeType&quot;&gt;</span><br><span class=\"line\">            &lt;el-select</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              v-model=&quot;confirmForm.purposeType&quot;</span><br><span class=\"line\">              placeholder=&quot;请选择&quot;</span><br><span class=\"line\">              style=&quot;width: 178px&quot;</span><br><span class=\"line\">              @change=&quot;changePurposeType&quot;</span><br><span class=\"line\">            &gt;</span><br><span class=\"line\">              &lt;el-option v-for=&quot;item in purposeTypes&quot; :key=&quot;item.orderNo&quot; :label=&quot;item.text&quot; :value=&quot;item.value&quot;&gt;</span><br><span class=\"line\">              &lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;收付单号&quot; prop=&quot;businessNo&quot;&gt;</span><br><span class=\"line\">            &lt;el-select</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              v-model=&quot;confirmForm.businessNo&quot;</span><br><span class=\"line\">              placeholder=&quot;请选择&quot;</span><br><span class=\"line\">              style=&quot;width: 178px&quot;</span><br><span class=\"line\">              filterable</span><br><span class=\"line\">              @change=&quot;changeOrderNo&quot;</span><br><span class=\"line\">            &gt;</span><br><span class=\"line\">              &lt;el-option v-for=&quot;item in orderNoOptions&quot; :key=&quot;item.id&quot; :label=&quot;item.businessNo&quot; :value=&quot;item&quot;&gt;</span><br><span class=\"line\">              &lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;收付单金额&quot; prop=&quot;amount&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.amount&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;收付单余额&quot; prop=&quot;amount&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.remainAmount&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;收付日期&quot; prop=&quot;receiptTime&quot;&gt;</span><br><span class=\"line\">            &lt;el-date-picker</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              v-model=&quot;confirmForm.receiptTime&quot;</span><br><span class=\"line\">              :disabled=&quot;true&quot;</span><br><span class=\"line\">              type=&quot;date&quot;</span><br><span class=\"line\">              style=&quot;width: 178px&quot;</span><br><span class=\"line\">            /&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;会计日期&quot; prop=&quot;accountTime&quot;&gt;</span><br><span class=\"line\">            &lt;el-date-picker size=&quot;mini&quot; v-model=&quot;confirmForm.accountTime&quot; type=&quot;date&quot; style=&quot;width: 178px&quot; /&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;公司&quot; prop=&quot;companyName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.companyName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;账户&quot; prop=&quot;bankAccountNumber&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.bankAccountNumber&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;账户名称&quot; prop=&quot;bankAccountName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.bankAccountName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;账户银行&quot; prop=&quot;bankName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.bankName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;备注&quot; class=&quot;span-2&quot;&gt;</span><br><span class=\"line\">            &lt;el-input</span><br><span class=\"line\">              class=&quot;mark-input&quot;</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              type=&quot;textarea&quot;</span><br><span class=\"line\">              :disabled=&quot;true&quot;</span><br><span class=\"line\">              :rows=&quot;1&quot;</span><br><span class=\"line\">              v-model=&quot;confirmForm.remark&quot;</span><br><span class=\"line\">              style=&quot;width: 580px&quot;</span><br><span class=\"line\">            &gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-divider content-position=&quot;left&quot;&gt; 收付明细&lt;/el-divider&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;原结算金额&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.remainAmountSum&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;未结算金额&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.paymentAmountSum&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;总含税金额&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.amountTotal&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;税金&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.taxAmountTotal&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;不含税金额&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.amountExcludingTaxTotal&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;其他金额&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;confirmForm.otherAmountTotal&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;!-- &lt;el-form-item label=&quot;容差&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;form.remark&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt; --&gt;</span><br><span class=\"line\">        &lt;/el-form&gt;</span><br><span class=\"line\">        &lt;ws-list-panel</span><br><span class=\"line\">          :loading=&quot;loading&quot;</span><br><span class=\"line\">          :data=&quot;payConfirmList&quot;</span><br><span class=\"line\">          :columns=&quot;PayColumns&quot;</span><br><span class=\"line\">          :selection=&quot;false&quot;</span><br><span class=\"line\">          :showPage=&quot;false&quot;</span><br><span class=\"line\">          :disableHiddenCols=&quot;true&quot;</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;/ws-list-panel&gt;</span><br><span class=\"line\">      &lt;/ws-form-wrapper&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showConfirmDialog = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; :loading=&quot;confirmLoading&quot; @click=&quot;doHandleConfirm&quot;&gt;</span><br><span class=\"line\">          确 认</span><br><span class=\"line\">        &lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      :title=&quot;this.correctType == 1 ? &#x27;冲正确认&#x27; : &#x27;冲销确认&#x27;&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showCorrentDialog&quot;</span><br><span class=\"line\">      width=&quot;700px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;template&gt;</span><br><span class=\"line\">        &lt;span style=&quot;color:red&quot;&gt;*&lt;/span&gt;&lt;span&gt;会计日期：&lt;/span&gt;</span><br><span class=\"line\">        &lt;el-date-picker</span><br><span class=\"line\">          v-model=&quot;form.accountTime&quot;</span><br><span class=\"line\">          type=&quot;date&quot;</span><br><span class=\"line\">          value-format=&quot;timestamp&quot;</span><br><span class=\"line\">          :clearable=&quot;false&quot;</span><br><span class=\"line\">          placeholder=&quot;选择日期&quot;</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;/el-date-picker&gt; &lt;/template</span><br><span class=\"line\">      &gt;&lt;br /&gt;&lt;br /&gt;</span><br><span class=\"line\">      请确认是否对此业务单据号[&#123;&#123; this.form.businessNo &#125;&#125;]进行&#123;&#123; this.correctType === &#x27;1&#x27; ? &#x27;冲正&#x27; : &#x27;冲销&#x27; &#125;&#125;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showCorrentDialog = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; @click=&quot;doHandleCorrent&quot; v-permission=&quot;correctPermission&quot;&gt;</span><br><span class=\"line\">          确 认</span><br><span class=\"line\">        &lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      title=&quot;删除确认&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showDeleteDialog&quot;</span><br><span class=\"line\">      width=&quot;700px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;P style=&quot;text-align:center&quot;&gt;请确认是否删除&lt;/P&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showDeleteDialog = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; @click=&quot;doHandleDelete&quot; permission=&quot;&quot;&gt;</span><br><span class=\"line\">          确 认</span><br><span class=\"line\">        &lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog :title=&quot;commandTitle + &#x27;录入内容&#x27;&quot; :visible.sync=&quot;commandDialog&quot; width=&quot;400px&quot;&gt;</span><br><span class=\"line\">      &lt;el-input type=&quot;textarea&quot; :rows=&quot;15&quot; placeholder=&quot;请输入内容&quot; v-model=&quot;commandTextarea&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button @click=&quot;handleCancel&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; @click=&quot;handleInput&quot;&gt;确 定&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/span&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog :title=&quot;&#x27;选择场景生成凭证&#x27;&quot; :visible.sync=&quot;sceneDialog&quot; width=&quot;400px&quot;&gt;</span><br><span class=\"line\">      &lt;el-form label-position=&quot;left&quot; label-width=&quot;80px&quot;&gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;选择场景&quot;&gt;</span><br><span class=\"line\">          &lt;el-select size=&quot;mini&quot; style=&quot;width:270px&quot; filterable v-model=&quot;sceneId&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class=\"line\">            &lt;el-option</span><br><span class=\"line\">              v-for=&quot;item in sceneConfigList&quot;</span><br><span class=\"line\">              :key=&quot;item.sceneId&quot;</span><br><span class=\"line\">              :label=&quot;item.sceneName + &#x27;(&#x27; + item.sceneId + &#x27;)&#x27;&quot;</span><br><span class=\"line\">              :value=&quot;item.sceneId&quot;</span><br><span class=\"line\">            &gt;&lt;/el-option&gt;</span><br><span class=\"line\">          &lt;/el-select&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;录入内容&quot;&gt;</span><br><span class=\"line\">          &lt;el-input type=&quot;textarea&quot; :rows=&quot;15&quot; placeholder=&quot;请输入单据列表&quot; v-model=&quot;commandTextarea&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">      &lt;/el-form&gt;</span><br><span class=\"line\">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button @click=&quot;sceneDialog = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; @click=&quot;handleSceneCertificate&quot;&gt;确 定&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/span&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog :title=&quot;commandTitle + &#x27;录入内容&#x27;&quot; :visible.sync=&quot;hubCommandDialog&quot; width=&quot;400px&quot;&gt;</span><br><span class=\"line\">      &lt;el-form</span><br><span class=\"line\">        ref=&quot;changeStatusForm&quot;</span><br><span class=\"line\">        :model=&quot;hubchangeForm&quot;</span><br><span class=\"line\">        :rules=&quot;hubchangeRules&quot;</span><br><span class=\"line\">        label-position=&quot;left&quot;</span><br><span class=\"line\">        label-width=&quot;80px&quot;</span><br><span class=\"line\">      &gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;会计日期&quot; prop=&quot;hubaccountTime&quot;&gt;</span><br><span class=\"line\">          &lt;el-date-picker</span><br><span class=\"line\">            v-model=&quot;hubchangeForm.hubaccountTime&quot;</span><br><span class=\"line\">            type=&quot;date&quot;</span><br><span class=\"line\">            value-format=&quot;timestamp&quot;</span><br><span class=\"line\">            :clearable=&quot;false&quot;</span><br><span class=\"line\">            placeholder=&quot;选择日期&quot;</span><br><span class=\"line\">          &gt;</span><br><span class=\"line\">          &lt;/el-date-picker&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;录入内容&quot; prop=&quot;textarea&quot; v-if=&quot;buttonType === &#x27;input&#x27;&quot;&gt;</span><br><span class=\"line\">          &lt;el-input type=&quot;textarea&quot; :rows=&quot;15&quot; placeholder=&quot;请输入内容&quot; v-model=&quot;hubchangeForm.textarea&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">      &lt;/el-form&gt;</span><br><span class=\"line\">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button @click=&quot;hubhandleCancel&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; @click=&quot;hubhandleInput&quot;&gt;确 定&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/span&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog title=&quot;请选择计提月份&quot; :visible.sync=&quot;provisionFormDialog&quot; width=&quot;500px&quot;&gt;</span><br><span class=\"line\">      &lt;el-form :model=&quot;provisionForm&quot; label-position=&quot;left&quot; label-width=&quot;80px&quot;&gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;会计月份&quot;&gt;</span><br><span class=\"line\">          &lt;el-date-picker</span><br><span class=\"line\">            v-model=&quot;provisionForm.accountMonth&quot;</span><br><span class=\"line\">            type=&quot;month&quot;</span><br><span class=\"line\">            value-format=&quot;yyyy-MM&quot;</span><br><span class=\"line\">            :clearable=&quot;false&quot;</span><br><span class=\"line\">            placeholder=&quot;会计月份&quot;</span><br><span class=\"line\">          &gt;</span><br><span class=\"line\">          &lt;/el-date-picker&gt;</span><br><span class=\"line\">          &lt;el-button @click=&quot;getProvisionInfo&quot;&gt;查看计提信息&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">        &lt;el-form-item label=&quot;计提信息&quot; class=&quot;span-2&quot;&gt;</span><br><span class=\"line\">          &lt;el-input</span><br><span class=\"line\">            class=&quot;mark-input&quot;</span><br><span class=\"line\">            size=&quot;mini&quot;</span><br><span class=\"line\">            type=&quot;textarea&quot;</span><br><span class=\"line\">            :disabled=&quot;false&quot;</span><br><span class=\"line\">            :rows=&quot;5&quot;</span><br><span class=\"line\">            v-model=&quot;provisionForm.info&quot;</span><br><span class=\"line\">            style=&quot;width: 350px&quot;</span><br><span class=\"line\">          &gt;&lt;/el-input&gt;</span><br><span class=\"line\">        &lt;/el-form-item&gt;</span><br><span class=\"line\">      &lt;/el-form&gt;</span><br><span class=\"line\">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button @click=&quot;provisionFormCancel&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button type=&quot;primary&quot; @click=&quot;doProvision&quot;&gt;确定计提&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/span&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;el-dialog</span><br><span class=\"line\">      title=&quot;修改单据&quot;</span><br><span class=\"line\">      :center=&quot;true&quot;</span><br><span class=\"line\">      :visible.sync=&quot;showEditDetailDialog&quot;</span><br><span class=\"line\">      width=&quot;1300px&quot;</span><br><span class=\"line\">      class=&quot;confirm-form&quot;</span><br><span class=\"line\">      :close-on-click-modal=&quot;false&quot;</span><br><span class=\"line\">    &gt;</span><br><span class=\"line\">      &lt;ws-form-wrapper :cols=&quot;2&quot;&gt;</span><br><span class=\"line\">        &lt;el-form</span><br><span class=\"line\">          :model=&quot;detailForm&quot;</span><br><span class=\"line\">          ref=&quot;detailForm&quot;</span><br><span class=\"line\">          :rules=&quot;detailrules&quot;</span><br><span class=\"line\">          label-position=&quot;left&quot;</span><br><span class=\"line\">          inline</span><br><span class=\"line\">          class=&quot;detail-form&quot;</span><br><span class=\"line\">          label-width=&quot;100px&quot;</span><br><span class=\"line\">          size=&quot;mini&quot;</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;业务单据号&quot; prop=&quot;businessNo&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.businessNo&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;业务类型&quot; prop=&quot;businessTypeName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.businessTypeName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;冲正序号&quot; prop=&quot;correctingNo&quot;&gt;</span><br><span class=\"line\">            &lt;el-input</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              type=&quot;text&quot;</span><br><span class=\"line\">              v-model=&quot;detailForm.correctingNo&quot;</span><br><span class=\"line\">              :disabled=&quot;this.form.id !== &#x27;&#x27;&quot;</span><br><span class=\"line\">            &gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;单据类型&quot; prop=&quot;orderTypeName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.orderTypeName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;公司&quot; prop=&quot;companyName&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.companyName&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;往来单位1&quot; prop=&quot;contactUnit1&quot;&gt;</span><br><span class=\"line\">            &lt;el-select size=&quot;mini&quot; filterable v-model=&quot;detailForm.contactUnit1&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class=\"line\">              &lt;el-option</span><br><span class=\"line\">                v-for=&quot;item in contactUnitOptions&quot;</span><br><span class=\"line\">                :key=&quot;item.unitCode&quot;</span><br><span class=\"line\">                :label=&quot;item.unitName&quot;</span><br><span class=\"line\">                :value=&quot;item.unitCode&quot;</span><br><span class=\"line\">              &gt;&lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;往来单位2&quot;&gt;</span><br><span class=\"line\">            &lt;el-select size=&quot;mini&quot; filterable v-model=&quot;detailForm.contactUnit2&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class=\"line\">              &lt;el-option</span><br><span class=\"line\">                v-for=&quot;item in contactUnitOptions&quot;</span><br><span class=\"line\">                :key=&quot;item.unitCode&quot;</span><br><span class=\"line\">                :label=&quot;item.unitName&quot;</span><br><span class=\"line\">                :value=&quot;item.unitCode&quot;</span><br><span class=\"line\">              &gt;&lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;会计日期&quot; prop=&quot;accountTime&quot;&gt;</span><br><span class=\"line\">            &lt;el-date-picker</span><br><span class=\"line\">              size=&quot;mini&quot;</span><br><span class=\"line\">              v-model=&quot;detailForm.accountTime&quot;</span><br><span class=\"line\">              :clearable=&quot;false&quot;</span><br><span class=\"line\">              placeholder=&quot;选择日期&quot;</span><br><span class=\"line\">              style=&quot;width: 178px&quot;</span><br><span class=\"line\">            &gt;</span><br><span class=\"line\">            &lt;/el-date-picker&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;含税金额&quot; prop=&quot;amount&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.amount&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;税金&quot; prop=&quot;amountTax&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.amountTax&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;不含税金额&quot; prop=&quot;amountExcludingTax&quot;&gt;</span><br><span class=\"line\">            &lt;el-input size=&quot;mini&quot; v-model=&quot;detailForm.amountExcludingTax&quot; :disabled=&quot;true&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;我方账户&quot; prop=&quot;weAccountId&quot;&gt;</span><br><span class=\"line\">            &lt;el-select size=&quot;mini&quot; filterable v-model=&quot;detailForm.weAccountId&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class=\"line\">              &lt;el-option</span><br><span class=\"line\">                v-for=&quot;item in ascriptionFlagOptions1&quot;</span><br><span class=\"line\">                :key=&quot;item.unitCode&quot;</span><br><span class=\"line\">                :label=&quot;`$&#123;item.accountId&#125;($&#123;item.accountName&#125;)`&quot;</span><br><span class=\"line\">                :value=&quot;item.accountId&quot;</span><br><span class=\"line\">              &gt;&lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;对方账户&quot; prop=&quot;accountId&quot;&gt;</span><br><span class=\"line\">            &lt;el-select size=&quot;mini&quot; filterable v-model=&quot;detailForm.accountId&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class=\"line\">              &lt;el-option</span><br><span class=\"line\">                v-for=&quot;item in ascriptionFlagOptions2&quot;</span><br><span class=\"line\">                :key=&quot;item.unitCode&quot;</span><br><span class=\"line\">                :label=&quot;`$&#123;item.accountId&#125;($&#123;item.accountName&#125;)`&quot;</span><br><span class=\"line\">                :value=&quot;item.accountId&quot;</span><br><span class=\"line\">              &gt;&lt;/el-option&gt;</span><br><span class=\"line\">            &lt;/el-select&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;关联单号&quot; prop=&quot;associateNo&quot;&gt;</span><br><span class=\"line\">            &lt;div class=&quot;el-input el-input--mini&quot;&gt;</span><br><span class=\"line\">              &lt;input</span><br><span class=\"line\">                size=&quot;mini&quot;</span><br><span class=\"line\">                v-model.lazy=&quot;detailForm.associateNo&quot;</span><br><span class=\"line\">                placeholder=&quot;请输入关联单号&quot;</span><br><span class=\"line\">                class=&quot;el-input__inner&quot;</span><br><span class=\"line\">              /&gt;</span><br><span class=\"line\">            &lt;/div&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">          &lt;el-form-item label=&quot;备注&quot; prop=&quot;summary&quot;&gt;</span><br><span class=\"line\">            &lt;div class=&quot;el-input el-input--mini&quot;&gt;</span><br><span class=\"line\">              &lt;textarea</span><br><span class=\"line\">                size=&quot;mini&quot;</span><br><span class=\"line\">                v-model.lazy=&quot;detailForm.summary&quot;</span><br><span class=\"line\">                placeholder=&quot;请输入备注&quot;</span><br><span class=\"line\">                class=&quot;el-textarea__inner&quot;</span><br><span class=\"line\">              &gt;&lt;/textarea&gt;</span><br><span class=\"line\">            &lt;/div&gt;</span><br><span class=\"line\">          &lt;/el-form-item&gt;</span><br><span class=\"line\">        &lt;/el-form&gt;</span><br><span class=\"line\">      &lt;/ws-form-wrapper&gt;</span><br><span class=\"line\">      &lt;el-table :data=&quot;detailFormList&quot; size=&quot;mini&quot; border stripe height=&quot;200px&quot; style=&quot;width: 100%&quot;&gt;</span><br><span class=\"line\">        &lt;template v-for=&quot;item in detailFormColumns&quot;&gt;</span><br><span class=\"line\">          &lt;el-table-column</span><br><span class=\"line\">            :show-overflow-tooltip=&quot;true&quot;</span><br><span class=\"line\">            :key=&quot;item.property&quot;</span><br><span class=\"line\">            :prop=&quot;item.property&quot;</span><br><span class=\"line\">            :label=&quot;item.title&quot;</span><br><span class=\"line\">            :width=&quot;item.width || undefined&quot;</span><br><span class=\"line\">            v-if=&quot;!item.hidden&quot;</span><br><span class=\"line\">          &gt;</span><br><span class=\"line\">            &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class=\"line\">              &lt;span v-if=&quot;!item.type&quot;&gt;&#123;&#123; scope.row[item.property] &#125;&#125;&lt;/span&gt;</span><br><span class=\"line\">              &lt;span v-else-if=&quot;item.type === &#x27;number&#x27;&quot;&gt;&#123;&#123; scope.row[item.property] | amountFilter &#125;&#125;&lt;/span&gt;</span><br><span class=\"line\">              &lt;el-input</span><br><span class=\"line\">                v-else-if=&quot;item.type === &#x27;textarea&#x27;&quot;</span><br><span class=\"line\">                size=&quot;mini&quot;</span><br><span class=\"line\">                type=&quot;textarea&quot;</span><br><span class=\"line\">                v-model=&quot;scope.row[item.property]&quot;</span><br><span class=\"line\">              &gt;&lt;/el-input&gt;</span><br><span class=\"line\">              &lt;el-select</span><br><span class=\"line\">                v-else-if=&quot;item.type === &#x27;select&#x27;&quot;</span><br><span class=\"line\">                size=&quot;mini&quot;</span><br><span class=\"line\">                v-model=&quot;scope.row[item.property]&quot;</span><br><span class=\"line\">                filterable</span><br><span class=\"line\">                clearable</span><br><span class=\"line\">                class=&quot;type-select&quot;</span><br><span class=\"line\">                @select=&quot;handleSelectItem(scope.row, item)&quot;</span><br><span class=\"line\">              &gt;</span><br><span class=\"line\">                &lt;el-option</span><br><span class=\"line\">                  v-for=&quot;option in item.selectOption || []&quot;</span><br><span class=\"line\">                  :key=&quot;option[item.selectKey]&quot;</span><br><span class=\"line\">                  :label=&quot;`$&#123;option[item.selectValue]&#125;($&#123;option[item.selectKey]&#125;)`&quot;</span><br><span class=\"line\">                  :value=&quot;option[item.selectKey]&quot;</span><br><span class=\"line\">                &gt;&lt;/el-option&gt;</span><br><span class=\"line\">              &lt;/el-select&gt;</span><br><span class=\"line\">            &lt;/template&gt;</span><br><span class=\"line\">          &lt;/el-table-column&gt;</span><br><span class=\"line\">        &lt;/template&gt;</span><br><span class=\"line\">      &lt;/el-table&gt;</span><br><span class=\"line\">      &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;showEditDetailDialog = false&quot; type=&quot;primary&quot; plain&gt;取 消&lt;/el-button&gt;</span><br><span class=\"line\">        &lt;el-button size=&quot;mini&quot; @click=&quot;editSave&quot; type=&quot;primary&quot;&gt;确 认&lt;/el-button&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/el-dialog&gt;</span><br><span class=\"line\">    &lt;!-- &lt;iframe :src=&quot;payDiaLog&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt; --&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">import &#123; mapState, mapActions &#125; from &#x27;vuex&#x27;</span><br><span class=\"line\">import &#123; purposeTypes, getFileName, accountFlags, paymentFlags, paymentCheckFlags, YesNoNum, clientCodes &#125; from &#x27;@/utils/dict&#x27; // orderOptions</span><br><span class=\"line\">import &#123; kiloSplit, dateFormat, getParamsUrl &#125; from &#x27;@/utils/utils&#x27;</span><br><span class=\"line\">import moment from &#x27;moment&#x27;</span><br><span class=\"line\">import api from &#x27;@/utils/api&#x27;</span><br><span class=\"line\">import CostListView from &#x27;@/views/CostPay/CostListView&#x27;</span><br><span class=\"line\">import CostCertificateListView from &#x27;@/views/CostPay/CostCertificateListView&#x27;</span><br><span class=\"line\">import CostWriteOffListView from &#x27;@/views/CostPay/CostWriteOffListView&#x27;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">  name: &#x27;cost-list&#x27;,</span><br><span class=\"line\">  components: &#123;</span><br><span class=\"line\">    CostListView,</span><br><span class=\"line\">    CostCertificateListView,</span><br><span class=\"line\">    CostWriteOffListView</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  props: [</span><br><span class=\"line\">    // &#x27;optColumn&#x27;,</span><br><span class=\"line\">    &#x27;payConfirmPermission&#x27;, // 收付确认</span><br><span class=\"line\">    &#x27;generateCertificatePermission&#x27;, // 生成凭证</span><br><span class=\"line\">    &#x27;uploadPermission&#x27;, // 导入</span><br><span class=\"line\">    &#x27;downloadPermission&#x27;, // 导出</span><br><span class=\"line\">    &#x27;correctPermission&#x27;, // 冲正</span><br><span class=\"line\">    &#x27;deletePermission&#x27;, // 删除</span><br><span class=\"line\">    &#x27;provisionPermission&#x27;, // 计提</span><br><span class=\"line\">    &#x27;orderTypeCodes&#x27;,</span><br><span class=\"line\">    &#x27;businessTypeCodes&#x27;,</span><br><span class=\"line\">    &#x27;fundDirect&#x27;,</span><br><span class=\"line\">    &#x27;businessScope&#x27;,</span><br><span class=\"line\">    &#x27;isShowEditOpt&#x27; // 显示修改按钮</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  data () &#123;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">      accountFlags,</span><br><span class=\"line\">      commandTitle: &#x27;&#x27;,</span><br><span class=\"line\">      commandDialog: false,</span><br><span class=\"line\">      sceneDialog: false,</span><br><span class=\"line\">      sceneId: &#x27;&#x27;,</span><br><span class=\"line\">      sceneConfigList: [],</span><br><span class=\"line\">      hubCommandDialog: false,</span><br><span class=\"line\">      hubaccountTime: &#x27;&#x27;,</span><br><span class=\"line\">      commandTextarea: &#x27;&#x27;,</span><br><span class=\"line\">      commandType: &#x27;&#x27;, // 按钮类型</span><br><span class=\"line\">      buttonType: &#x27;&#x27;, // 下拉选择类型</span><br><span class=\"line\">      provisionFormDialog: false, // 月底计提提示框</span><br><span class=\"line\">      provisionForm: &#123;</span><br><span class=\"line\">        accountMonth: &#x27;&#x27;,</span><br><span class=\"line\">        info: &#x27;&#x27;,</span><br><span class=\"line\">        fundDirect: &#x27;&#x27;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      commandList: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          titleName: &#x27;删除&#x27;,</span><br><span class=\"line\">          opt: &#x27;删除&#x27;,</span><br><span class=\"line\">          type: &#x27;delete&#x27;,</span><br><span class=\"line\">          permission: &#x27;deletePermission&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          titleName: &#x27;生成凭证&#x27;,</span><br><span class=\"line\">          opt: &#x27;生成凭证&#x27;,</span><br><span class=\"line\">          type: &#x27;certificate&#x27;,</span><br><span class=\"line\">          permission: &#x27;generateCertificatePermission&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          titleName: &#x27;冲销&#x27;,</span><br><span class=\"line\">          opt: &#x27;冲销&#x27;,</span><br><span class=\"line\">          type: &#x27;writeOff&#x27;,</span><br><span class=\"line\">          permission: &#x27;correctPermission&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          titleName: &#x27;冲正&#x27;,</span><br><span class=\"line\">          opt: &#x27;冲正&#x27;,</span><br><span class=\"line\">          type: &#x27;correct&#x27;,</span><br><span class=\"line\">          permission: &#x27;correctPermission&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      hubchangeForm: &#123;</span><br><span class=\"line\">        hubaccountTime: &#x27;&#x27;,</span><br><span class=\"line\">        textarea: &#x27;&#x27;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      hubchangeRules: &#123;</span><br><span class=\"line\">        hubaccountTime: [&#123; required: true, message: &#x27;必填&#x27;, trigger: &#x27;change&#x27; &#125;],</span><br><span class=\"line\">        textarea: [&#123; required: true, message: &#x27;必填&#x27;, trigger: &#x27;blur&#x27; &#125;]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      purposeTypes,</span><br><span class=\"line\">      actions: [],</span><br><span class=\"line\">      deleteIds: [],</span><br><span class=\"line\">      importing: false,</span><br><span class=\"line\">      importDisplay: false,</span><br><span class=\"line\">      payConfirmShow: false,</span><br><span class=\"line\">      bankDataShow: false,</span><br><span class=\"line\">      confirmForm: &#123;</span><br><span class=\"line\">        purposeType: &#x27;&#x27;,</span><br><span class=\"line\">        businessNo: &#x27;&#x27;,</span><br><span class=\"line\">        amount: &#x27;&#x27;,</span><br><span class=\"line\">        companyName: &#x27;&#x27;,</span><br><span class=\"line\">        bankAccountNumber: &#x27;&#x27;,</span><br><span class=\"line\">        bankAccountName: &#x27;&#x27;,</span><br><span class=\"line\">        remark: &#x27;&#x27;,</span><br><span class=\"line\">        amountTotal: &#x27;&#x27;,</span><br><span class=\"line\">        taxAmountTotal: &#x27;&#x27;,</span><br><span class=\"line\">        orderTypeCode: &#x27;&#x27;,</span><br><span class=\"line\">        amountExcludingTaxTotal: &#x27;&#x27;,</span><br><span class=\"line\">        otherAmountTotal: &#x27;&#x27;,</span><br><span class=\"line\">        receiptTime: &#x27;&#x27;,</span><br><span class=\"line\">        accountTime: &#x27;&#x27;,</span><br><span class=\"line\">        remainAmountSum: &#x27;&#x27;,</span><br><span class=\"line\">        paymentAmountSum: &#x27;&#x27;,</span><br><span class=\"line\">        remainAmount: &#x27;&#x27;,</span><br><span class=\"line\">        id: &#x27;&#x27;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      form: &#123;</span><br><span class=\"line\">        businessNo: &#x27;&#x27;,</span><br><span class=\"line\">        orderTypeCode: &#x27;&#x27;,</span><br><span class=\"line\">        accountTime: &#x27;&#x27;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      rules: &#123;</span><br><span class=\"line\">        purposeType: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        receiptPaymentNo: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        amount: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        remainAmount: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        companyName: [&#123; required: true, message: &#x27;请填写&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        bankAccountNumber: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        bankAccountName: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        receiptTime: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        accountTime: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        amountTotal: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        taxAmountTotal: [&#123; required: true, message: &#x27;请填写&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        bankName: [&#123; required: true, message: &#x27;请填写&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        amountExcludingTaxTotal: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        otherAmountTotal: [&#123; required: true, message: &#x27;请填写&#x27;, trigger: &#x27;blur&#x27; &#125;]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      loading: false,</span><br><span class=\"line\">      confirmLoading: false,</span><br><span class=\"line\">      refleshCb: () =&gt; &#123;&#125;,</span><br><span class=\"line\">      selectOptions: [],</span><br><span class=\"line\">      showConditionDialog: false,</span><br><span class=\"line\">      columns: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;业务类型&#x27;,</span><br><span class=\"line\">          property: &#x27;businessTypeName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;单据类型&#x27;,</span><br><span class=\"line\">          property: &#x27;orderTypeName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;公司代码&#x27;,</span><br><span class=\"line\">          property: &#x27;companyCode&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;公司名称&#x27;,</span><br><span class=\"line\">          property: &#x27;companyName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;往来单位代码&#x27;,</span><br><span class=\"line\">          property: &#x27;contactUnit1&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;往来单位名称&#x27;,</span><br><span class=\"line\">          property: &#x27;contactUnitName1&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;业务单据号&#x27;,</span><br><span class=\"line\">          property: &#x27;businessNo&#x27;,</span><br><span class=\"line\">          width: 140</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;冲正序号&#x27;,</span><br><span class=\"line\">          property: &#x27;correctingNo&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        // &#123;</span><br><span class=\"line\">        //   title: &#x27;收付单号&#x27;,</span><br><span class=\"line\">        //   property: &#x27;settlementNo&#x27;,</span><br><span class=\"line\">        //   detail: true,</span><br><span class=\"line\">        //   width: 120</span><br><span class=\"line\">        // &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;核销方单号&#x27;,</span><br><span class=\"line\">          property: &#x27;writeOffNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;核销方序号&#x27;,</span><br><span class=\"line\">          property: &#x27;writeOffCorrectingNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;被核销方单号&#x27;,</span><br><span class=\"line\">          property: &#x27;writtenOffNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;被核销方序号&#x27;,</span><br><span class=\"line\">          property: &#x27;writtenOffCorrectingNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;关联单号&#x27;,</span><br><span class=\"line\">          property: &#x27;associateNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;结算单号&#x27;,</span><br><span class=\"line\">          property: &#x27;settlementNo&#x27;,</span><br><span class=\"line\">          width: 120</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;冲正有效标记&#x27;,</span><br><span class=\"line\">          property: &#x27;correctingFlag&#x27;,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            return val.correctingFlag === 0 ? &#x27;否&#x27; : &#x27;是&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;税务单号&#x27;,</span><br><span class=\"line\">          property: &#x27;taxNo&#x27;,</span><br><span class=\"line\">          hidden: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;币种&#x27;,</span><br><span class=\"line\">          property: &#x27;currency&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;税金&#x27;,</span><br><span class=\"line\">          property: &#x27;amountTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amountTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;不含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amountExcludingTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          width: 130,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountExcludingTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amountExcludingTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;其他金额&#x27;,</span><br><span class=\"line\">          property: &#x27;otherAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.otherAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.otherAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;结算金额&#x27;,</span><br><span class=\"line\">          property: &#x27;settlementAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.settlementAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.settlementAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;businessTime&#x27;,</span><br><span class=\"line\">          title: &#x27;业务时间&#x27;,</span><br><span class=\"line\">          formatter: function (row) &#123;</span><br><span class=\"line\">            return row.businessTime === undefined ? &#x27;&#x27; : dateFormat(&#x27;yyyy-MM-dd hh:mm:ss&#x27;, new Date(row.businessTime))</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;accountTime&#x27;,</span><br><span class=\"line\">          title: &#x27;会计日期&#x27;,</span><br><span class=\"line\">          formatter: function (row) &#123;</span><br><span class=\"line\">            return row.accountTime === undefined ? &#x27;&#x27; : dateFormat(&#x27;yyyy-MM-dd&#x27;, new Date(row.accountTime))</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;paymentFlag&#x27;,</span><br><span class=\"line\">          title: &#x27;收付标记&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.paymentFlag === 0) &#123;</span><br><span class=\"line\">              return &#x27;未收付&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.paymentFlag === 1) &#123;</span><br><span class=\"line\">              return &#x27;已收付&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.paymentFlag === 2) &#123;</span><br><span class=\"line\">              return &#x27;部分收付&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;paymentTime&#x27;,</span><br><span class=\"line\">          title: &#x27;收付时间&#x27;,</span><br><span class=\"line\">          formatter: function (row) &#123;</span><br><span class=\"line\">            return row.paymentFlag === 0 || row.paymentTime === undefined</span><br><span class=\"line\">              ? &#x27;&#x27;</span><br><span class=\"line\">              : dateFormat(&#x27;yyyy-MM-dd hh:mm:ss&#x27;, new Date(row.paymentTime))</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;accountFlag&#x27;,</span><br><span class=\"line\">          title: &#x27;挂账标记 &#x27;,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            for (var i = 0; i &lt; accountFlags.length; i++) &#123;</span><br><span class=\"line\">              if (accountFlags[i].value === val.accountFlag) &#123;</span><br><span class=\"line\">                return accountFlags[i].text</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;taxAccountFlag&#x27;,</span><br><span class=\"line\">          title: &#x27;税务记账标记&#x27;,</span><br><span class=\"line\">          hidden: true,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.taxAccountFlag === 0) &#123;</span><br><span class=\"line\">              return &#x27;未记账&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.taxAccountFlag === 1) &#123;</span><br><span class=\"line\">              return &#x27;已记账&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.taxAccountFlag === 2) &#123;</span><br><span class=\"line\">              return &#x27;出错&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;我方账户&#x27;,</span><br><span class=\"line\">          property: &#x27;weAccountId&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;我方账户名称&#x27;,</span><br><span class=\"line\">          property: &#x27;weAccountName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;我方银行信息&#x27;,</span><br><span class=\"line\">          property: &#x27;weBankInfo&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;收付方账户&#x27;,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          property: &#x27;accountId&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;收付方账户名称&#x27;,</span><br><span class=\"line\">          property: &#x27;accountName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;收付方银行信息&#x27;,</span><br><span class=\"line\">          property: &#x27;accountBankName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;说明&#x27;,</span><br><span class=\"line\">          property: &#x27;summary&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;错误信息&#x27;,</span><br><span class=\"line\">          property: &#x27;errorMsg&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;taxAccountTime&#x27;,</span><br><span class=\"line\">          title: &#x27;税务时间&#x27;,</span><br><span class=\"line\">          formatter: &#x27;datetime&#x27;,</span><br><span class=\"line\">          hidden: true,</span><br><span class=\"line\">          datetimeFormat: &#x27;YYYY-MM-DD HH:mm:ss&#x27;,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;formerAccountTime&#x27;,</span><br><span class=\"line\">          title: &#x27;原会计日期&#x27;,</span><br><span class=\"line\">          formatter: function (row) &#123;</span><br><span class=\"line\">            return row.formerAccountTime === undefined ? &#x27;&#x27; : dateFormat(&#x27;yyyy-MM-dd&#x27;, new Date(row.formerAccountTime))</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;clientCode&#x27;,</span><br><span class=\"line\">          title: &#x27;来源&#x27;,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.clientCode === &#x27;FSS&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;综合结算&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;FM&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;费控&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;HLY&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;汇联易&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;HANDWORK&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;手工导入&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;ASSET&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;资产&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;EBS&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;EBS导入&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.clientCode === &#x27;BANK&#x27;) &#123;</span><br><span class=\"line\">              return &#x27;银企直联&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return val.clientCode</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;归档号&#x27;,</span><br><span class=\"line\">          property: &#x27;filingNo&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;付款校验状态&#x27;,</span><br><span class=\"line\">          property: &#x27;paymentCheckFlag&#x27;,</span><br><span class=\"line\">          hidden: true,</span><br><span class=\"line\">          width: 100,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.paymentCheckFlag === 0) &#123;</span><br><span class=\"line\">              return &#x27;待校验&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.paymentCheckFlag === 1) &#123;</span><br><span class=\"line\">              return &#x27;失败&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.paymentCheckFlag === 2) &#123;</span><br><span class=\"line\">              return &#x27;成功&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;付款校验失败原因&#x27;,</span><br><span class=\"line\">          property: &#x27;paymentCheckErrorMsg&#x27;,</span><br><span class=\"line\">          hidden: true,</span><br><span class=\"line\">          width: 100</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;银企付款状态&#x27;,</span><br><span class=\"line\">          property: &#x27;approvalStatusCode&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.approvalStatusCode === 0) &#123;</span><br><span class=\"line\">              return &#x27;未付款&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.approvalStatusCode === 1) &#123;</span><br><span class=\"line\">              return &#x27;付款中&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.approvalStatusCode === 4) &#123;</span><br><span class=\"line\">              return &#x27;付款成功&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (val.approvalStatusCode === 5) &#123;</span><br><span class=\"line\">              return &#x27;付款失败&#x27;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return val.approvalStatusCode</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          property: &#x27;operation&#x27;,</span><br><span class=\"line\">          title: &#x27;操作&#x27;,</span><br><span class=\"line\">          width: 200,</span><br><span class=\"line\">          fixed: &#x27;right&#x27;,</span><br><span class=\"line\">          actions: [</span><br><span class=\"line\">            &#123; name: &#x27;detail-click-dialog&#x27;, permission: &#x27;&#x27;, title: &#x27;明细&#x27; &#125;,</span><br><span class=\"line\">            &#123; name: &#x27;certificate-click&#x27;, permission: &#x27;&#x27;, title: &#x27;凭证&#x27; &#125;,</span><br><span class=\"line\">            &#123; name: &#x27;detail-click-writeoff&#x27;, permission: &#x27;&#x27;, title: &#x27;查看核销&#x27; &#125;,</span><br><span class=\"line\">            &#123; name: &#x27;edit-click&#x27;, permission: &#x27;&#x27;, title: &#x27;修改&#x27;, show: v =&gt; v.correctingNo &gt; 1 &amp;&amp; this.isShowEditOpt &amp;&amp; v.correctingFlag === 1 &#125;</span><br><span class=\"line\">          ]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      payConfirmList: [],</span><br><span class=\"line\">      PayColumns: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;单据类型&#x27;,</span><br><span class=\"line\">          property: &#x27;orderTypeName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;业务单据号&#x27;,</span><br><span class=\"line\">          property: &#x27;businessNo&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;税金&#x27;,</span><br><span class=\"line\">          property: &#x27;amountTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amountTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;不含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amountExcludingTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          width: 130,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountExcludingTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amountExcludingTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;其他金额&#x27;,</span><br><span class=\"line\">          property: &#x27;otherAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.otherAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.otherAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;原结算金额&#x27;,</span><br><span class=\"line\">          property: &#x27;remainAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.remainAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.remainAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;未结算金额&#x27;,</span><br><span class=\"line\">          property: &#x27;paymentAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.paymentAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.paymentAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      pageNum: 1,</span><br><span class=\"line\">      pageSize: 10,</span><br><span class=\"line\">      showConfirmDialog: false,</span><br><span class=\"line\">      showCorrentDialog: false,</span><br><span class=\"line\">      showDetailDialog: false,</span><br><span class=\"line\">      showWriteOffDialog: false,</span><br><span class=\"line\">      showCertificateDialog: false,</span><br><span class=\"line\">      showDeleteDialog: false,</span><br><span class=\"line\">      correctType: &#x27;1&#x27;,</span><br><span class=\"line\">      filters: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-a601-cdd5fba86f3b&#x27;,</span><br><span class=\"line\">          title: &#x27;业务类型&#x27;,</span><br><span class=\"line\">          name: &#x27;businessTypeCode&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: [],</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;businessTypeName&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;businessTypeCode&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">          title: &#x27;单据类型&#x27;,</span><br><span class=\"line\">          name: &#x27;orderTypeCode&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: [],</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;orderTypeName&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;orderTypeCode&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;14169248-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;公司名称&#x27;,</span><br><span class=\"line\">          name: &#x27;companyName&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;14169248-ae2a-4dd8-ba58-bdc1637b55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;往来单位名称&#x27;,</span><br><span class=\"line\">          name: &#x27;contactUnitName1&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;16969248-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;业务单据号&#x27;,</span><br><span class=\"line\">          name: &#x27;businessNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">          title: &#x27;冲正有效标记&#x27;,</span><br><span class=\"line\">          name: &#x27;correctingFlag&#x27;,</span><br><span class=\"line\">          default: 1,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: YesNoNum,</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        // &#123;</span><br><span class=\"line\">        //   type: &#x27;daterange&#x27;,</span><br><span class=\"line\">        //   id: &#x27;da9c99d3-05b5-45a7-ad67-5d938fa90109&#x27;,</span><br><span class=\"line\">        //   title: &#x27;创建日期&#x27;,</span><br><span class=\"line\">        //   name: &#x27;sysCtimeRange&#x27;,</span><br><span class=\"line\">        //   desc: &#x27;&#x27;,</span><br><span class=\"line\">        //   span: 1,</span><br><span class=\"line\">        //   dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">        //   dependencyValue: [],</span><br><span class=\"line\">        //   required: false,</span><br><span class=\"line\">        //   jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">        //   clickableInList: false,</span><br><span class=\"line\">        //   color: &#x27;&#x27;,</span><br><span class=\"line\">        //   autoFillControls: [],</span><br><span class=\"line\">        //   autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">        //   readonly: false,</span><br><span class=\"line\">        //   readonlyWhileCreate: false,</span><br><span class=\"line\">        //   hidden: false,</span><br><span class=\"line\">        //   hiddenWhileCreate: false,</span><br><span class=\"line\">        //   validateError: &#123;&#125;,</span><br><span class=\"line\">        //   regex: &#x27;&#x27;,</span><br><span class=\"line\">        //   listReadonlyList: [],</span><br><span class=\"line\">        //   dateFormat: &#x27;&#x27;,</span><br><span class=\"line\">        //   defaultDateDefine: true,</span><br><span class=\"line\">        //   defaultDateUnit: [&#x27;days&#x27;, &#x27;days&#x27;],</span><br><span class=\"line\">        //   defaultDateNum: [0, 0],</span><br><span class=\"line\">        //   dateRangeType: &#x27;daterange&#x27;,</span><br><span class=\"line\">        //   disabled: false,</span><br><span class=\"line\">        //   clearable: true,</span><br><span class=\"line\">        //   hideDisabled: false</span><br><span class=\"line\">        // &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;daterange&#x27;,</span><br><span class=\"line\">          id: &#x27;da9c99d3-05b5-45a7-ad67-5d938fa90109&#x27;,</span><br><span class=\"line\">          title: &#x27;会计日期&#x27;,</span><br><span class=\"line\">          name: &#x27;accountTimeRange&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          dateFormat: &#x27;&#x27;,</span><br><span class=\"line\">          defaultDateDefine: true,</span><br><span class=\"line\">          defaultDateUnit: [&#x27;days&#x27;, &#x27;days&#x27;],</span><br><span class=\"line\">          defaultDateNum: [0, 0],</span><br><span class=\"line\">          dateRangeType: &#x27;daterange&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">          title: &#x27;挂账标记&#x27;,</span><br><span class=\"line\">          name: &#x27;accountFlag&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: accountFlags,</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;16969248-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;结算单号&#x27;,</span><br><span class=\"line\">          name: &#x27;settlementNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          id: &#x27;ebbcee0d-9aa5-4c20-8257-584511ae503f&#x27;,</span><br><span class=\"line\">          title: &#x27;含税金额&#x27;,</span><br><span class=\"line\">          name: &#x27;amountRange&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          precision: 0,</span><br><span class=\"line\">          controls: false,</span><br><span class=\"line\">          max: 999999999,</span><br><span class=\"line\">          min: -999999999,</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          isRange: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;daterange&#x27;,</span><br><span class=\"line\">          id: &#x27;da9c99d3-05b5-45a7-ad67-5d938fa90109&#x27;,</span><br><span class=\"line\">          title: &#x27;收付时间&#x27;,</span><br><span class=\"line\">          name: &#x27;paymentTimeRange&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          dateFormat: &#x27;&#x27;,</span><br><span class=\"line\">          defaultDateDefine: true,</span><br><span class=\"line\">          defaultDateUnit: [&#x27;days&#x27;, &#x27;days&#x27;],</span><br><span class=\"line\">          defaultDateNum: [0, 0],</span><br><span class=\"line\">          dateRangeType: &#x27;daterange&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">          title: &#x27;收付标记&#x27;,</span><br><span class=\"line\">          name: &#x27;paymentFlag&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: paymentFlags,</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        // &#123;</span><br><span class=\"line\">        //   type: &#x27;select&#x27;,</span><br><span class=\"line\">        //   id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">        //   title: &#x27;收付记账标记&#x27;,</span><br><span class=\"line\">        //   name: &#x27;paymentAccountFlag&#x27;,</span><br><span class=\"line\">        //   default: &#x27;&#x27;,</span><br><span class=\"line\">        //   desc: &#x27;&#x27;,</span><br><span class=\"line\">        //   span: 1,</span><br><span class=\"line\">        //   dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">        //   dependencyValue: [],</span><br><span class=\"line\">        //   required: false,</span><br><span class=\"line\">        //   jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">        //   color: &#x27;&#x27;,</span><br><span class=\"line\">        //   autoFillControls: [],</span><br><span class=\"line\">        //   autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">        //   readonly: false,</span><br><span class=\"line\">        //   readonlyWhileCreate: false,</span><br><span class=\"line\">        //   hidden: false,</span><br><span class=\"line\">        //   hiddenWhileCreate: false,</span><br><span class=\"line\">        //   regex: &#x27;&#x27;,</span><br><span class=\"line\">        //   optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">        //   options: accountFlags,</span><br><span class=\"line\">        //   optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">        //   optionsParams: [],</span><br><span class=\"line\">        //   optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">        //   optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">        //   multiple: false,</span><br><span class=\"line\">        //   disabled: false,</span><br><span class=\"line\">        //   clearable: true,</span><br><span class=\"line\">        //   placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">        //   validateError: [],</span><br><span class=\"line\">        //   listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">        //   hideDisabled: true</span><br><span class=\"line\">        // &#125;,</span><br><span class=\"line\">        // &#123;</span><br><span class=\"line\">        //   type: &#x27;select&#x27;,</span><br><span class=\"line\">        //   id: &#x27;134b7fb4-1878-412e-a601-cdd5fba85f3b&#x27;,</span><br><span class=\"line\">        //   title: &#x27;税务记账标记&#x27;,</span><br><span class=\"line\">        //   name: &#x27;taxAccountFlag&#x27;,</span><br><span class=\"line\">        //   default: &#x27;&#x27;,</span><br><span class=\"line\">        //   desc: &#x27;&#x27;,</span><br><span class=\"line\">        //   span: 1,</span><br><span class=\"line\">        //   dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">        //   dependencyValue: [],</span><br><span class=\"line\">        //   required: false,</span><br><span class=\"line\">        //   jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">        //   color: &#x27;&#x27;,</span><br><span class=\"line\">        //   autoFillControls: [],</span><br><span class=\"line\">        //   autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">        //   readonly: false,</span><br><span class=\"line\">        //   readonlyWhileCreate: false,</span><br><span class=\"line\">        //   hidden: false,</span><br><span class=\"line\">        //   hiddenWhileCreate: false,</span><br><span class=\"line\">        //   regex: &#x27;&#x27;,</span><br><span class=\"line\">        //   optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">        //   options: accountFlags,</span><br><span class=\"line\">        //   optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">        //   optionsParams: [],</span><br><span class=\"line\">        //   optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">        //   optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">        //   multiple: false,</span><br><span class=\"line\">        //   disabled: false,</span><br><span class=\"line\">        //   clearable: true,</span><br><span class=\"line\">        //   placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">        //   validateError: [],</span><br><span class=\"line\">        //   listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">        //   hideDisabled: true</span><br><span class=\"line\">        // &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;14160148-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;核销方单号&#x27;,</span><br><span class=\"line\">          name: &#x27;writeOffNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;16969248-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;被核销方单号&#x27;,</span><br><span class=\"line\">          name: &#x27;writtenOffNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1812-412e-a601-cdd5fba85swq&#x27;,</span><br><span class=\"line\">          title: &#x27;来源&#x27;,</span><br><span class=\"line\">          name: &#x27;clientCode&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: clientCodes,</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;16969248-cd5a-4dd8-sd58-bdc1637a84rz&#x27;,</span><br><span class=\"line\">          title: &#x27;归档号&#x27;,</span><br><span class=\"line\">          name: &#x27;filingNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;input&#x27;,</span><br><span class=\"line\">          id: &#x27;14160148-cd5a-4dd8-ba58-bdc1637a55e2&#x27;,</span><br><span class=\"line\">          title: &#x27;关联单号&#x27;,</span><br><span class=\"line\">          name: &#x27;associateNo&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          clickableInList: false,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          validateError: &#123;&#125;,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          listReadonlyList: [],</span><br><span class=\"line\">          placeholder: &#x27;请输入&#x27;,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          quickEdit: false,</span><br><span class=\"line\">          _editing: false,</span><br><span class=\"line\">          secret: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          hideDisabled: false</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          id: &#x27;134b7fb4-1878-412e-sxza-cdd5fba53f3c&#x27;,</span><br><span class=\"line\">          title: &#x27;付款校验状态&#x27;,</span><br><span class=\"line\">          name: &#x27;paymentCheckFlag&#x27;,</span><br><span class=\"line\">          default: &#x27;&#x27;,</span><br><span class=\"line\">          desc: &#x27;&#x27;,</span><br><span class=\"line\">          span: 1,</span><br><span class=\"line\">          dependencyKey: &#x27;&#x27;,</span><br><span class=\"line\">          dependencyValue: [],</span><br><span class=\"line\">          required: false,</span><br><span class=\"line\">          jumpRule: &#x27;&#x27;,</span><br><span class=\"line\">          color: &#x27;&#x27;,</span><br><span class=\"line\">          autoFillControls: [],</span><br><span class=\"line\">          autoFillApi: &#x27;&#x27;,</span><br><span class=\"line\">          readonly: false,</span><br><span class=\"line\">          readonlyWhileCreate: false,</span><br><span class=\"line\">          hidden: false,</span><br><span class=\"line\">          hiddenWhileCreate: false,</span><br><span class=\"line\">          regex: &#x27;&#x27;,</span><br><span class=\"line\">          optionsType: &#x27;local&#x27;,</span><br><span class=\"line\">          options: paymentCheckFlags,</span><br><span class=\"line\">          optionsUrl: &#x27;&#x27;,</span><br><span class=\"line\">          optionsParams: [],</span><br><span class=\"line\">          optionsTextProp: &#x27;text&#x27;,</span><br><span class=\"line\">          optionsValueProp: &#x27;value&#x27;,</span><br><span class=\"line\">          multiple: false,</span><br><span class=\"line\">          disabled: false,</span><br><span class=\"line\">          clearable: true,</span><br><span class=\"line\">          placeholder: &#x27;请选择&#x27;,</span><br><span class=\"line\">          validateError: [],</span><br><span class=\"line\">          listReadonlyList: &#123;&#125;,</span><br><span class=\"line\">          hideDisabled: true</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      handleRow: &#123;&#125;,</span><br><span class=\"line\">      dialogDataId: &#123;&#125;,</span><br><span class=\"line\">      writeOffDataId: &#123;&#125;,</span><br><span class=\"line\">      orderNoOptions: [],</span><br><span class=\"line\">      showEditDetailDialog: false,</span><br><span class=\"line\">      detailFormNew: &#123;</span><br><span class=\"line\">        businessNo: &#x27;&#x27;,</span><br><span class=\"line\">        businessTypeName: &#x27;&#x27;,</span><br><span class=\"line\">        orderTypeName: &#x27;&#x27;,</span><br><span class=\"line\">        companyName: &#x27;&#x27;,</span><br><span class=\"line\">        contactUnit1: &#x27;&#x27;,</span><br><span class=\"line\">        contactUnitName1: &#x27;&#x27;,</span><br><span class=\"line\">        contactUnit2: &#x27;&#x27;,</span><br><span class=\"line\">        contactUnitName2: &#x27;&#x27;,</span><br><span class=\"line\">        accountTime: &#x27;&#x27;,</span><br><span class=\"line\">        amount: 0,</span><br><span class=\"line\">        amountTax: 0,</span><br><span class=\"line\">        amountExcludingTax: 0,</span><br><span class=\"line\">        weAccountId: &#x27;&#x27;,</span><br><span class=\"line\">        accountId: &#x27;&#x27;,</span><br><span class=\"line\">        associateNo: &#x27;&#x27;,</span><br><span class=\"line\">        summary: &#x27;&#x27;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      detailForm: &#123;&#125;,</span><br><span class=\"line\">      detailrules: &#123;</span><br><span class=\"line\">        correctingNo: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        businessNo: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        businessTypeName: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        orderTypeName: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        companyName: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        contactUnit1: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;],</span><br><span class=\"line\">        contactUnit2: [&#123; required: true, message: &#x27;请输入&#x27;, trigger: &#x27;blur&#x27; &#125;]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      detailFormList: [],</span><br><span class=\"line\">      contactUnitOptions: [],</span><br><span class=\"line\">      ascriptionFlagOptions1: [],</span><br><span class=\"line\">      ascriptionFlagOptions2: [],</span><br><span class=\"line\">      feeTypeOption: [],</span><br><span class=\"line\">      costCenterDataOption: [],</span><br><span class=\"line\">      productDataOption: [],</span><br><span class=\"line\">      sceneOptions: []</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  filters: &#123;</span><br><span class=\"line\">    amountFilter (value) &#123;</span><br><span class=\"line\">      if (value === &#x27;&#x27;) return &#x27;&#x27;</span><br><span class=\"line\">      if (value !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">        return kiloSplit(value)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return value</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  computed: &#123;</span><br><span class=\"line\">    ...mapState(&#x27;costList&#x27;, [&#x27;list&#x27;, &#x27;total&#x27;, &#x27;DialogList&#x27;]),</span><br><span class=\"line\">    pageSource () &#123;</span><br><span class=\"line\">      if (this.$route.path.indexOf(&#x27;assets/business&#x27;) !== -1) &#123;</span><br><span class=\"line\">        return &#x27;assetsBusiness&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return &#x27;null&#x27;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    importBtnName () &#123;</span><br><span class=\"line\">      if (this.businessScope === &#x27;writeoff&#x27;) &#123;</span><br><span class=\"line\">        return &#x27;导入核销关系&#x27;</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        return &#x27;导入业务单据&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    confirmTitle () &#123;</span><br><span class=\"line\">      // if (this.$route.path.indexOf(&#x27;payment&#x27;) !== -1) &#123;</span><br><span class=\"line\">      //   return &#x27;付款确认&#x27;</span><br><span class=\"line\">      // &#125; else if (this.$route.path.indexOf(&#x27;receipt&#x27;) !== -1) &#123;</span><br><span class=\"line\">      //   return &#x27;收款确认&#x27;</span><br><span class=\"line\">      // &#125; else &#123;</span><br><span class=\"line\">      //   return &#x27;收付确认&#x27;</span><br><span class=\"line\">      // &#125;</span><br><span class=\"line\">      return &#x27;收付确认&#x27;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    feeTypeOptions () &#123;</span><br><span class=\"line\">      return this.feeTypeOption</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    costCenterDatas () &#123;</span><br><span class=\"line\">      return this.costCenterDataOption</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    productDatas () &#123;</span><br><span class=\"line\">      return this.productDataOption</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    detailFormColumns () &#123;</span><br><span class=\"line\">      return [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;业务明细号&#x27;,</span><br><span class=\"line\">          property: &#x27;entryNo&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;成本中心&#x27;,</span><br><span class=\"line\">          property: &#x27;costCenterCode&#x27;,</span><br><span class=\"line\">          nameProperty: &#x27;costCenterName&#x27;,</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          selectOption: this.costCenterDatas,</span><br><span class=\"line\">          selectKey: &#x27;costCenterCode&#x27;,</span><br><span class=\"line\">          selectValue: &#x27;costCenterName&#x27;,</span><br><span class=\"line\">          width: &#x27;140px&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;费用类型&#x27;,</span><br><span class=\"line\">          property: &#x27;feeTypeCode&#x27;,</span><br><span class=\"line\">          nameProperty: &#x27;feeTypeName&#x27;,</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          selectOption: this.feeTypeOptions,</span><br><span class=\"line\">          selectKey: &#x27;feeTypeCode&#x27;,</span><br><span class=\"line\">          selectValue: &#x27;feeTypeName&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;产品&#x27;,</span><br><span class=\"line\">          property: &#x27;productCode&#x27;,</span><br><span class=\"line\">          nameProperty: &#x27;productName&#x27;,</span><br><span class=\"line\">          type: &#x27;select&#x27;,</span><br><span class=\"line\">          selectOption: this.productDatas,</span><br><span class=\"line\">          selectKey: &#x27;productCode&#x27;,</span><br><span class=\"line\">          selectValue: &#x27;productName&#x27;,</span><br><span class=\"line\">          width: &#x27;140px&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              return kiloSplit(val.amount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return 0</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;不含税金额&#x27;,</span><br><span class=\"line\">          property: &#x27;amountExcludingTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountExcludingTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              return kiloSplit(val.amountExcludingTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return 0</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;税金&#x27;,</span><br><span class=\"line\">          property: &#x27;amountTax&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.amountTax !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.amountTax)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return 0</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;其他金额&#x27;,</span><br><span class=\"line\">          property: &#x27;otherAmount&#x27;,</span><br><span class=\"line\">          type: &#x27;number&#x27;,</span><br><span class=\"line\">          formatter: function (val) &#123;</span><br><span class=\"line\">            if (val.otherAmount !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">              // return val.amount01</span><br><span class=\"line\">              return kiloSplit(val.otherAmount)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return 0</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;公司&#x27;,</span><br><span class=\"line\">          property: &#x27;companyCode&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;往来单位1&#x27;,</span><br><span class=\"line\">          property: &#x27;contactUnit1&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;往来单位2&#x27;,</span><br><span class=\"line\">          property: &#x27;contactUnit2&#x27;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          title: &#x27;说明&#x27;,</span><br><span class=\"line\">          property: &#x27;summary&#x27;,</span><br><span class=\"line\">          type: &#x27;textarea&#x27;,</span><br><span class=\"line\">          width: &#x27;160px&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  watch: &#123;</span><br><span class=\"line\">    commandDialog (cur, old) &#123;</span><br><span class=\"line\">      if (!cur) &#123;</span><br><span class=\"line\">        this.commandTextarea = &#x27;&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    hubCommandDialog (cur, old) &#123;</span><br><span class=\"line\">      if (!cur) &#123;</span><br><span class=\"line\">        this.hubchangeForm.textarea = &#x27;&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  methods: &#123;</span><br><span class=\"line\">    ...mapActions(&#x27;costCertificateListView&#x27;, [&#x27;searchDialogData&#x27;]),</span><br><span class=\"line\">    ...mapActions(&#x27;costList&#x27;, [&#x27;search&#x27;, &#x27;createCertificate&#x27;]),</span><br><span class=\"line\">    ...mapActions(&#x27;certificateTest&#x27;, [</span><br><span class=\"line\">      &#x27;getFeeType&#x27;,</span><br><span class=\"line\">      &#x27;costCenterData&#x27;,</span><br><span class=\"line\">      &#x27;companySectionData&#x27;,</span><br><span class=\"line\">      &#x27;contactUnitData&#x27;,</span><br><span class=\"line\">      &#x27;getAscriptionFlag1&#x27;,</span><br><span class=\"line\">      &#x27;getAscriptionFlag2&#x27;,</span><br><span class=\"line\">      &#x27;purposeData&#x27;,</span><br><span class=\"line\">      &#x27;productData&#x27;,</span><br><span class=\"line\">      &#x27;sceneData&#x27;</span><br><span class=\"line\">    ]),</span><br><span class=\"line\">    // 判断哪个事件</span><br><span class=\"line\">    handleCommand (command, item) &#123;</span><br><span class=\"line\">      console.log(&#x27;command&#x27;, command)</span><br><span class=\"line\">      console.log(&#x27;item.type&#x27;, item.type)</span><br><span class=\"line\">      this.buttonType = command</span><br><span class=\"line\">      this.commandType = item.type</span><br><span class=\"line\">      this.commandOpt = item.opt</span><br><span class=\"line\">      if (item.type === &#x27;writeOff&#x27; || item.type === &#x27;correct&#x27;) &#123;</span><br><span class=\"line\">        this.hubCommandOpt(item)</span><br><span class=\"line\">      &#125; else if (item.type === &#x27;delete&#x27; || item.type === &#x27;certificate&#x27;) &#123;</span><br><span class=\"line\">        this.unhubCommandOpt(item)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    // 删除操作 and 生成凭证</span><br><span class=\"line\">    unhubCommandOpt (item) &#123;</span><br><span class=\"line\">      let url = &#x27;&#x27;</span><br><span class=\"line\">      let param = &#123;&#125;</span><br><span class=\"line\">      let opt = &#x27;&#x27;</span><br><span class=\"line\">      if (this.buttonType === &#x27;select&#x27;) &#123;</span><br><span class=\"line\">        if (this.selectOptions.length === 0) &#123;</span><br><span class=\"line\">          this.$message.warning(&#x27;请选择数据&#x27;)</span><br><span class=\"line\">          return</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        let idArr = []</span><br><span class=\"line\">        this.selectOptions.forEach(v =&gt; &#123;</span><br><span class=\"line\">          idArr.push(v.id)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        url = api.businessBySelect</span><br><span class=\"line\">        param = &#123; ids: idArr &#125;</span><br><span class=\"line\">        opt = &#x27;选择&#x27;</span><br><span class=\"line\">      &#125; else if (this.buttonType === &#x27;query&#x27;) &#123;</span><br><span class=\"line\">        let data = &#123;&#125;</span><br><span class=\"line\">        data.filter = this.$refs.filters.getValue()</span><br><span class=\"line\">        data.filter.fundDirect = this.fundDirect</span><br><span class=\"line\">        data.filter.businessScope = this.businessScope</span><br><span class=\"line\">        url = api.businessbyParam</span><br><span class=\"line\">        param = &#123; filter: &#123; ...data.filter &#125; &#125;</span><br><span class=\"line\">        opt = &#x27;条件&#x27;</span><br><span class=\"line\">      &#125; else if (this.buttonType === &#x27;input&#x27;) &#123;</span><br><span class=\"line\">        this.commandTitle = item.titleName</span><br><span class=\"line\">        this.commandDialog = true</span><br><span class=\"line\">        url = api.businessbyInput</span><br><span class=\"line\">        param = &#123;</span><br><span class=\"line\">          itemText: this.commandTextarea</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125; else if (this.buttonType === &#x27;scene&#x27;) &#123;</span><br><span class=\"line\">        this.commandTitle = item.titleName</span><br><span class=\"line\">        this.sceneDialog = true</span><br><span class=\"line\">        url = api.businessbyInput</span><br><span class=\"line\">        this.sceneData().then(res =&gt; &#123;</span><br><span class=\"line\">          this.sceneConfigList = res.result || []</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$confirm(&#x27;是否按&#x27; + opt + &#x27;批量&#x27; + item.titleName + &#x27;?&#x27;, &#x27;提示&#x27;, &#123;</span><br><span class=\"line\">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class=\"line\">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class=\"line\">        type: &#x27;warning&#x27;</span><br><span class=\"line\">      &#125;).then(() =&gt; &#123;</span><br><span class=\"line\">        this.$http</span><br><span class=\"line\">          .post(url, &#123;</span><br><span class=\"line\">            ...param,</span><br><span class=\"line\">            type: item.type</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .then(res =&gt; &#123;</span><br><span class=\"line\">            if (res.code === 0) &#123;</span><br><span class=\"line\">              this.$message.success(res.message)</span><br><span class=\"line\">              this.handleSearch()</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">              this.$message.warning(res.message)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .catch(e =&gt; &#123;</span><br><span class=\"line\">            console.log(e)</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    // 冲销 and 冲正</span><br><span class=\"line\">    hubCommandOpt (item) &#123;</span><br><span class=\"line\">      if (this.buttonType === &#x27;select&#x27;) &#123;</span><br><span class=\"line\">        if (this.selectOptions.length === 0) &#123;</span><br><span class=\"line\">          this.$message.warning(&#x27;请选择数据&#x27;)</span><br><span class=\"line\">          return</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.commandTitle = item.titleName</span><br><span class=\"line\">      this.hubCommandDialog = true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleCancel () &#123;</span><br><span class=\"line\">      this.commandDialog = false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleInput () &#123;</span><br><span class=\"line\">      this.$confirm(&#x27;是否按录入批量&#x27; + this.commandOpt + &#x27;?&#x27;, &#x27;提示&#x27;, &#123;</span><br><span class=\"line\">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class=\"line\">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class=\"line\">        type: &#x27;warning&#x27;</span><br><span class=\"line\">      &#125;).then(() =&gt; &#123;</span><br><span class=\"line\">        this.$http</span><br><span class=\"line\">          .post(api.businessbyInput, &#123;</span><br><span class=\"line\">            itemText: this.commandTextarea,</span><br><span class=\"line\">            type: this.commandType</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .then(res =&gt; &#123;</span><br><span class=\"line\">            if (res.code === 0) &#123;</span><br><span class=\"line\">              this.$message.success(res.message)</span><br><span class=\"line\">              this.handleSearch()</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">              this.$message.warning(res.message)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .finally(() =&gt; &#123;</span><br><span class=\"line\">            this.commandDialog = false</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleSceneCertificate () &#123;</span><br><span class=\"line\">      if (!this.sceneId) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;场景不可为空&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (!this.commandTextarea) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;录入内容不可为空&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$confirm(&#x27;是否按场景批量&#x27; + this.commandOpt + &#x27;?&#x27;, &#x27;提示&#x27;, &#123;</span><br><span class=\"line\">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class=\"line\">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class=\"line\">        type: &#x27;warning&#x27;</span><br><span class=\"line\">      &#125;).then(() =&gt; &#123;</span><br><span class=\"line\">        this.$http</span><br><span class=\"line\">          .post(api.businessbyInput, &#123;</span><br><span class=\"line\">            itemText: this.commandTextarea,</span><br><span class=\"line\">            type: this.commandType,</span><br><span class=\"line\">            sceneId: this.sceneId</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .then(res =&gt; &#123;</span><br><span class=\"line\">            if (res.code === 0) &#123;</span><br><span class=\"line\">              this.$message.success(res.message)</span><br><span class=\"line\">              this.handleSearch()</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">              this.$message.warning(res.message)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .finally(() =&gt; &#123;</span><br><span class=\"line\">            this.sceneDialog = false</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    hubhandleCancel () &#123;</span><br><span class=\"line\">      this.hubCommandDialog = false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    provisionFormCancel () &#123;</span><br><span class=\"line\">      this.provisionFormDialog = false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getProvisionInfo () &#123;</span><br><span class=\"line\">      this.$http</span><br><span class=\"line\">        .post(api.getProvisionInfo, &#123;</span><br><span class=\"line\">          accountMonth: this.provisionForm.accountMonth,</span><br><span class=\"line\">          orderTypeCode: this.fundDirect === &#x27;payment&#x27; ? &#x27;bankPayment&#x27; : &#x27;bankReceive&#x27;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .then(res =&gt; &#123;</span><br><span class=\"line\">          if (res.code === 0) &#123;</span><br><span class=\"line\">            this.provisionForm.info = res.message</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            this.$message.warning(res.message)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    doProvision () &#123;</span><br><span class=\"line\">      this.$http</span><br><span class=\"line\">        .post(api.doPovision, &#123;</span><br><span class=\"line\">          accountMonth: this.provisionForm.accountMonth,</span><br><span class=\"line\">          orderTypeCode: this.fundDirect === &#x27;payment&#x27; ? &#x27;bankPayment&#x27; : &#x27;bankReceive&#x27;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .then(res =&gt; &#123;</span><br><span class=\"line\">          this.provisionFormDialog = false</span><br><span class=\"line\">          if (res.code === 0) &#123;</span><br><span class=\"line\">            this.$message.success(res.message)</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            this.$message.warning(res.message)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    hubhandleInput () &#123;</span><br><span class=\"line\">      let url = &#x27;&#x27;</span><br><span class=\"line\">      let param = &#123;&#125;</span><br><span class=\"line\">      let opt = &#x27;&#x27;</span><br><span class=\"line\">      if (this.buttonType === &#x27;select&#x27;) &#123;</span><br><span class=\"line\">        let idArr = []</span><br><span class=\"line\">        this.selectOptions.forEach(v =&gt; &#123;</span><br><span class=\"line\">          idArr.push(v.id)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        url = api.businessBySelect</span><br><span class=\"line\">        param = &#123; ids: idArr &#125;</span><br><span class=\"line\">        opt = &#x27;选择&#x27;</span><br><span class=\"line\">      &#125; else if (this.buttonType === &#x27;query&#x27;) &#123;</span><br><span class=\"line\">        let data = &#123;&#125;</span><br><span class=\"line\">        data.filter = this.$refs.filters.getValue()</span><br><span class=\"line\">        data.filter.fundDirect = this.fundDirect</span><br><span class=\"line\">        data.filter.businessScope = this.businessScope</span><br><span class=\"line\">        url = api.businessbyParam</span><br><span class=\"line\">        param = &#123; filter: &#123; ...data.filter &#125; &#125;</span><br><span class=\"line\">        opt = &#x27;条件&#x27;</span><br><span class=\"line\">      &#125; else if (this.buttonType === &#x27;input&#x27;) &#123;</span><br><span class=\"line\">        url = api.businessbyInput</span><br><span class=\"line\">        param = &#123;</span><br><span class=\"line\">          itemText: this.hubchangeForm.textarea</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        opt = &#x27;录入&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$confirm(&#x27;是否按&#x27; + opt + &#x27;批量&#x27; + this.commandOpt + &#x27;?&#x27;, &#x27;提示&#x27;, &#123;</span><br><span class=\"line\">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class=\"line\">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class=\"line\">        type: &#x27;warning&#x27;</span><br><span class=\"line\">      &#125;).then(() =&gt; &#123;</span><br><span class=\"line\">        this.$http</span><br><span class=\"line\">          .post(url, &#123;</span><br><span class=\"line\">            ...param,</span><br><span class=\"line\">            type: this.commandType,</span><br><span class=\"line\">            accountTime: this.hubchangeForm.hubaccountTime</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .then(res =&gt; &#123;</span><br><span class=\"line\">            if (res.code === 0) &#123;</span><br><span class=\"line\">              this.$message.success(res.message)</span><br><span class=\"line\">              this.handleSearch()</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">              this.$message.warning(res.message)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .finally(() =&gt; &#123;</span><br><span class=\"line\">            this.hubCommandDialog = false</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleCurrentChange (pageNum) &#123;</span><br><span class=\"line\">      this.pageNum = pageNum</span><br><span class=\"line\">      this.handleSearch()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleSizeChange (pageSize) &#123;</span><br><span class=\"line\">      this.pageSize = pageSize</span><br><span class=\"line\">      this.handleSearch()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    editDetailClick (row) &#123;</span><br><span class=\"line\">      this.$nextTick(() =&gt; &#123;</span><br><span class=\"line\">        for (let key in this.detailFormNew) &#123;</span><br><span class=\"line\">          this.detailForm[key] = this.detailFormNew[key]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.detailFormList = []</span><br><span class=\"line\">        this.showEditDetailDialog = true</span><br><span class=\"line\">        this.getList(row.id, row.sysCtime)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.contactUnitData().then(res =&gt; &#123;</span><br><span class=\"line\">        this.contactUnitOptions = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.getAscriptionFlag1().then(res =&gt; &#123;</span><br><span class=\"line\">        this.ascriptionFlagOptions1 = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.getAscriptionFlag2().then(res =&gt; &#123;</span><br><span class=\"line\">        this.ascriptionFlagOptions2 = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.getFeeType().then(res =&gt; &#123;</span><br><span class=\"line\">        this.feeTypeOption = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.costCenterData().then(res =&gt; &#123;</span><br><span class=\"line\">        this.costCenterDataOption = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.productData().then(res =&gt; &#123;</span><br><span class=\"line\">        this.productDataOption = res.result || []</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleSelectItem (row, col) &#123;</span><br><span class=\"line\">      row[col.nameProperty] = col.selectOption.find(v =&gt; v[col.selectKey] === row[col.property])[col.selectValue] || &#x27;&#x27;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    editSave () &#123;</span><br><span class=\"line\">      this.$refs[&#x27;detailForm&#x27;].validate(valid =&gt; &#123;</span><br><span class=\"line\">        if (valid) &#123;</span><br><span class=\"line\">          if (this.detailForm.contactUnit1) &#123;</span><br><span class=\"line\">            this.detailForm.contactUnitName1 =</span><br><span class=\"line\">              this.contactUnitOptions.find(v =&gt; v.unitCode === this.detailForm.contactUnit1).unitName || &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          if (this.detailForm.contactUnit2) &#123;</span><br><span class=\"line\">            this.detailForm.contactUnitName2 =</span><br><span class=\"line\">              this.contactUnitOptions.find(v =&gt; v.unitCode === this.detailForm.contactUnit2).unitName || &#x27;&#x27;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          this.$http</span><br><span class=\"line\">            .post(api.updateBusiness, &#123;</span><br><span class=\"line\">              entries: this.detailFormList,</span><br><span class=\"line\">              head: this.detailForm</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            .then(res =&gt; &#123;</span><br><span class=\"line\">              this.showEditDetailDialog = false</span><br><span class=\"line\">              if (res.code === 0) &#123;</span><br><span class=\"line\">                this.$message.success(res.message)</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getList (id, sysCtime) &#123;</span><br><span class=\"line\">      this.$http</span><br><span class=\"line\">        .post(api.costDetailSearch, &#123;</span><br><span class=\"line\">          id: id,</span><br><span class=\"line\">          sysCtime: sysCtime</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .then(res =&gt; &#123;</span><br><span class=\"line\">          if (res.code === 0) &#123;</span><br><span class=\"line\">            for (let key in res.result.head) &#123;</span><br><span class=\"line\">              if (key !== &#x27;entryList&#x27; &amp;&amp; key !== &#x27;certificateList&#x27;) &#123;</span><br><span class=\"line\">                this.$set(this.form, key, res.result.head[key])</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            this.detailForm = res.result.head</span><br><span class=\"line\">            this.detailFormList = res.result.entries</span><br><span class=\"line\">            console.log(this.listData, &#x27;listData&#x27;)</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            this.$message.warning(res.message)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleDetail (row) &#123;</span><br><span class=\"line\">      // this.$router.push(`/fap_receiptpayment_list/$&#123;val.settlementNo&#125;`)</span><br><span class=\"line\">      this.dialogDataId = &#123;</span><br><span class=\"line\">        id: row.id,</span><br><span class=\"line\">        sysCtime: row.sysCtime</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      console.log(this.dialogDataId, &#x27;ididididid&#x27;)</span><br><span class=\"line\">      this.showDetailDialog = true</span><br><span class=\"line\">      this.$nextTick(() =&gt; &#123;</span><br><span class=\"line\">        this.$refs.costListView.clickMe(this.dialogDataId)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    writeOffDetail (row) &#123;</span><br><span class=\"line\">      this.writeOffDataId = &#123;</span><br><span class=\"line\">        id: row.id,</span><br><span class=\"line\">        sysCtime: row.sysCtime</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.showWriteOffDialog = true</span><br><span class=\"line\">      this.$nextTick(() =&gt; &#123;</span><br><span class=\"line\">        this.$refs.costWriteOffListView.clickMe(this.writeOffDataId)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleDetailGoto (row) &#123;</span><br><span class=\"line\">      if (row.settlementNo !== &#x27;&#x27;) &#123;</span><br><span class=\"line\">        this.$router.push(`/$define/fap_receiptpayment_list?orderNo=$&#123;row.settlementNo&#125;`)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleCertificateDetail (row) &#123;</span><br><span class=\"line\">      // this.$router.push(`/costCertificateList/$&#123;row.businessNo&#125;/$&#123;row.sysCtime&#125;`)</span><br><span class=\"line\">      this.searchDialogData(&#123; id: row.id, sysCtime: row.sysCtime &#125;)</span><br><span class=\"line\">      this.showCertificateDialog = true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    deleteClick (row) &#123;</span><br><span class=\"line\">      this.deleteIds = []</span><br><span class=\"line\">      let obj = &#123;</span><br><span class=\"line\">        id: row.id,</span><br><span class=\"line\">        businessNo: row.businessNo,</span><br><span class=\"line\">        correctingNo: row.correctingNo,</span><br><span class=\"line\">        orderTypeCode: row.orderTypeCode</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.deleteIds.push(obj)</span><br><span class=\"line\">      this.showDeleteDialog = true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    batchDelete () &#123;</span><br><span class=\"line\">      if (this.selectOptions.length === 0) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;请选择数据&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let clientSelect = this.selectOptions.find(v =&gt; v.clientCode !== &#x27;HANDWORK&#x27;)</span><br><span class=\"line\">      if (clientSelect) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;请选择手工导入的数据(来源为HANDWORK)&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let correctingSelect = this.selectOptions.find(v =&gt; v.correctingNo !== 1)</span><br><span class=\"line\">      if (correctingSelect) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;选择的数据冲正序号不等于1,表示该数据已经冲正或冲销,不允许删除&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.deleteIds = []</span><br><span class=\"line\">      this.selectOptions.forEach(item =&gt; &#123;</span><br><span class=\"line\">        let obj = &#123;</span><br><span class=\"line\">          id: item.id,</span><br><span class=\"line\">          businessNo: item.businessNo,</span><br><span class=\"line\">          correctingNo: item.correctingNo,</span><br><span class=\"line\">          orderTypeCode: item.orderTypeCode</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.deleteIds.push(obj)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.showDeleteDialog = true</span><br><span class=\"line\">      console.log(this.deleteIds, &#x27;deleteIds&#x27;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    doHandleDelete () &#123;</span><br><span class=\"line\">      this.showDeleteDialog = false</span><br><span class=\"line\">      this.$http.post(api.businessDelete, this.deleteIds).then(res =&gt; &#123;</span><br><span class=\"line\">        if (res.code === 0) &#123;</span><br><span class=\"line\">          this.$message.success(res.message)</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          this.$message.warning(res.message)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.handleSearch()</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    dataSearch () &#123;</span><br><span class=\"line\">      this.pageNum = 1</span><br><span class=\"line\">      this.handleSearch()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleSearch () &#123;</span><br><span class=\"line\">      if (!this.getParams().filter.accountTimeRange &amp;&amp; this.getParams().filter.businessNo === &#x27;&#x27;) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;会计日期/业务单据号，不可同时为空&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.loading = true</span><br><span class=\"line\">      this.search(this.getParams())</span><br><span class=\"line\">        .then(() =&gt; &#123;</span><br><span class=\"line\">          this.loading = false</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .catch(() =&gt; &#123;</span><br><span class=\"line\">          this.loading = false</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    conditionCertificateCreate () &#123;</span><br><span class=\"line\">      this.showConditionDialog = true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    conditionHandleMulOpt () &#123;</span><br><span class=\"line\">      let data = &#123;&#125;</span><br><span class=\"line\">      data.filter = this.$refs.filters.getValue()</span><br><span class=\"line\">      data.filter.fundDirect = this.fundDirect</span><br><span class=\"line\">      data.filter.businessScope = this.businessScope</span><br><span class=\"line\">      data.pager = &#123;</span><br><span class=\"line\">        pageNum: this.pageNum,</span><br><span class=\"line\">        pageSize: this.pageSize</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$http.post(api.certificateCreateByCondition, data).then(res =&gt; &#123;</span><br><span class=\"line\">        if (res.code === 0) &#123;</span><br><span class=\"line\">          this.$message.success(res.message)</span><br><span class=\"line\">          this.refleshCb()</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          this.$message.warning(res.message)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.showConditionDialog = false</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleExport () &#123;</span><br><span class=\"line\">      let data = &#123;&#125;</span><br><span class=\"line\">      data.filter = this.$refs.filters.getValue()</span><br><span class=\"line\">      data.filter.fundDirect = this.fundDirect</span><br><span class=\"line\">      data.filter.businessScope = this.businessScope</span><br><span class=\"line\">      data.filter.fileName = getFileName(this.fundDirect)</span><br><span class=\"line\">      this.$message.warning(&#x27;正在下载，请稍后...&#x27;)</span><br><span class=\"line\">      window.open(api.costPayListExport + getParamsUrl(data.filter), &#x27;_self&#x27;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    initConfirmForm () &#123;</span><br><span class=\"line\">      for (let key in this.confirmForm) &#123;</span><br><span class=\"line\">        this.confirmForm[key] = &#x27;&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleConfirm (row, index, col, action, cb) &#123;</span><br><span class=\"line\">      this.initConfirmForm()</span><br><span class=\"line\">      this.showConfirmDialog = true</span><br><span class=\"line\">      this.orderNoOptions = []</span><br><span class=\"line\">      // this.form.sysCtime = new Date(row.sysCtime)</span><br><span class=\"line\">      // this.form.paymentTime = new Date()</span><br><span class=\"line\">      // this.form.id = row.id</span><br><span class=\"line\">      this.payConfirmList = [row]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    changePurposeType () &#123;</span><br><span class=\"line\">      let purposeType = this.confirmForm.purposeType</span><br><span class=\"line\">      let companyCode = this.payConfirmList[0].companyCode</span><br><span class=\"line\">      this.$http.post(`$&#123;api.getPaymentOrderList&#125;?purposeType=$&#123;purposeType&#125;&amp;companyCode=$&#123;companyCode&#125;`).then(res =&gt; &#123;</span><br><span class=\"line\">        this.orderNoOptions = res.result</span><br><span class=\"line\">        console.log(res, &#x27;purposeTypepurposeTypepurposeTypepurposeType&#x27;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    changeOrderNo (row) &#123;</span><br><span class=\"line\">      this.confirmForm.businessNo = row.businessNo</span><br><span class=\"line\">      this.confirmForm.amount = row.amount</span><br><span class=\"line\">      this.confirmForm.remainAmount = row.remainAmount</span><br><span class=\"line\">      this.confirmForm.companyName = row.companyName</span><br><span class=\"line\">      this.confirmForm.bankAccountNumber = row.accountId</span><br><span class=\"line\">      this.confirmForm.bankAccountName = row.accountName</span><br><span class=\"line\">      this.confirmForm.bankName = row.accountBankName</span><br><span class=\"line\">      this.confirmForm.remark = row.remark</span><br><span class=\"line\">      this.confirmForm.id = row.id</span><br><span class=\"line\">      this.confirmForm.receiptTime = row.businessTime</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    doHandleConfirm (row, index, col, action, cb) &#123;</span><br><span class=\"line\">      let params = []</span><br><span class=\"line\">      this.payConfirmList.forEach(item =&gt; &#123;</span><br><span class=\"line\">        let pushItem = &#123;&#125;</span><br><span class=\"line\">        pushItem.receiptPaymentNo = this.confirmForm.businessNo</span><br><span class=\"line\">        pushItem.receiptPaymentId = this.confirmForm.id</span><br><span class=\"line\">        pushItem.businessNo = item.businessNo</span><br><span class=\"line\">        pushItem.orderTypeCode = item.orderTypeCode</span><br><span class=\"line\">        pushItem.businessId = item.id</span><br><span class=\"line\">        pushItem.orderTypeName = item.orderTypeName</span><br><span class=\"line\">        pushItem.accountTime = moment(this.confirmForm.accountTime).valueOf()</span><br><span class=\"line\">        params.push(pushItem)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      this.confirmLoading = true</span><br><span class=\"line\">      this.$http</span><br><span class=\"line\">        .post(api.paymentConfirm, params)</span><br><span class=\"line\">        .then(res =&gt; &#123;</span><br><span class=\"line\">          if (res.code === 0) &#123;</span><br><span class=\"line\">            this.$message.success(res.message)</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            this.$message.warning(res.message)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          this.confirmLoading = false</span><br><span class=\"line\">          this.showConfirmDialog = false</span><br><span class=\"line\">          this.handleSearch()</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .catch(() =&gt; &#123;</span><br><span class=\"line\">          this.confirmLoading = false</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    doHandleCorrent () &#123;</span><br><span class=\"line\">      this.showCorrentDialog = false</span><br><span class=\"line\">      let url = &#x27;&#x27;</span><br><span class=\"line\">      if (this.correctType === &#x27;1&#x27;) &#123;</span><br><span class=\"line\">        url = api.businessCorrent</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        url = api.businessWriteOff</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$http.post(url, this.form).then(res =&gt; &#123;</span><br><span class=\"line\">        if (res.code === 0) &#123;</span><br><span class=\"line\">          this.$message.success(res.message)</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          this.$message.warning(res.message)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.handleSearch()</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getParams () &#123;</span><br><span class=\"line\">      let data = &#123;&#125;</span><br><span class=\"line\">      data.filter = this.$refs.filters.getValue()</span><br><span class=\"line\">      data.filter.fundDirect = this.fundDirect</span><br><span class=\"line\">      data.filter.businessScope = this.businessScope</span><br><span class=\"line\">      data.pager = &#123;</span><br><span class=\"line\">        pageNum: this.pageNum,</span><br><span class=\"line\">        pageSize: this.pageSize</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return data</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleMulOpt () &#123;</span><br><span class=\"line\">      if (this.selectOptions.length === 0) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;请选择数据&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let businessNoArr = []</span><br><span class=\"line\">      this.selectOptions.forEach(item =&gt; &#123;</span><br><span class=\"line\">        let pushItem = &#123;&#125;</span><br><span class=\"line\">        pushItem.businessNo = item.businessNo</span><br><span class=\"line\">        pushItem.sysCtime = item.sysCtime</span><br><span class=\"line\">        pushItem.orderTypeCode = item.orderTypeCode</span><br><span class=\"line\">        pushItem.correctingNo = item.correctingNo</span><br><span class=\"line\">        pushItem.id = item.id</span><br><span class=\"line\">        businessNoArr.push(pushItem)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      console.log(businessNoArr)</span><br><span class=\"line\">      this.createCertificate(businessNoArr)</span><br><span class=\"line\">      this.$message.success(&#x27;凭证生成中,请稍候查看数据&#x27;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handlePayConfirm () &#123;</span><br><span class=\"line\">      if (this.selectOptions.length === 0) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;请选择数据&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let cantSelect = this.selectOptions.find(v =&gt; v.paymentFlag === 1)</span><br><span class=\"line\">      if (cantSelect) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;选择的数据已收付，请重新选择&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let cantSelectCorrectingFlag = this.selectOptions.find(v =&gt; v.correctingFlag !== 1)</span><br><span class=\"line\">      if (cantSelectCorrectingFlag) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;选择的数据冲正有效为否，请重新选择&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      for (let key in this.confirmForm) &#123;</span><br><span class=\"line\">        this.confirmForm[key] = &#x27;&#x27;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      let businessNoList = []</span><br><span class=\"line\">      let companySet = new Set()</span><br><span class=\"line\">      this.selectOptions.forEach(item =&gt; &#123;</span><br><span class=\"line\">        businessNoList.push(item.businessNo)</span><br><span class=\"line\">        companySet.add(item.companyCode)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      if (companySet.size !== 1) &#123;</span><br><span class=\"line\">        this.$message.warning(&#x27;所选数据公司不一致，请重新选择&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      const data = new FormData()</span><br><span class=\"line\">      let strParam = businessNoList.toString()</span><br><span class=\"line\">      console.log(strParam, &#x27;strParam&#x27;)</span><br><span class=\"line\">      data.append(&#x27;businessNoList&#x27;, strParam)</span><br><span class=\"line\">      this.$http.post(api.remainAmountSum, data).then(res =&gt; &#123;</span><br><span class=\"line\">        if (res.code === 0) &#123;</span><br><span class=\"line\">          this.confirmForm.remainAmountSum = res.result.remainAmountSum.toFixed(2)</span><br><span class=\"line\">          this.confirmForm.paymentAmountSum = res.result.paymentAmountSum.toFixed(2)</span><br><span class=\"line\">          let entryList = res.result.entryList</span><br><span class=\"line\">          this.selectOptions.forEach(item =&gt; &#123;</span><br><span class=\"line\">            entryList.forEach(entry =&gt; &#123;</span><br><span class=\"line\">              if (item.businessNo === entry.businessNo) &#123;</span><br><span class=\"line\">                item.paymentAmount = entry.paymentAmount</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        this.showConfirmDialog = true</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">      this.confirmForm.amountTotal = this.calAmountlFromSelection(&#x27;amount&#x27;)</span><br><span class=\"line\">      this.confirmForm.taxAmountTotal = this.calAmountlFromSelection(&#x27;amountTax&#x27;)</span><br><span class=\"line\">      this.confirmForm.amountExcludingTaxTotal = this.calAmountlFromSelection(&#x27;amountExcludingTax&#x27;)</span><br><span class=\"line\">      this.confirmForm.otherAmountTotal = this.calAmountlFromSelection(&#x27;otherAmount&#x27;)</span><br><span class=\"line\">      this.payConfirmList = this.selectOptions</span><br><span class=\"line\">      // this.selection</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleMulDownload () &#123;</span><br><span class=\"line\">      if (this.businessScope === &#x27;business&#x27;) &#123;</span><br><span class=\"line\">        window.open(</span><br><span class=\"line\">          &#x27;https://common-1252347619.cosgz.myqcloud.com/template/3b6d7776-290c-481f-969d-1efd64adda4d.xlsx&#x27;,</span><br><span class=\"line\">          &#x27;_self&#x27;</span><br><span class=\"line\">        )</span><br><span class=\"line\">      &#125; else if (this.businessScope === &#x27;writeoff&#x27;) &#123;</span><br><span class=\"line\">        window.open(</span><br><span class=\"line\">          &#x27;https://common-1252347619.cosgz.myqcloud.com/common/dfbd078f-6334-43f0-b958-ce799b857359.xlsx&#x27;,</span><br><span class=\"line\">          &#x27;_self&#x27;</span><br><span class=\"line\">        )</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleImport () &#123;</span><br><span class=\"line\">      this.$refs.file.click()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleProvisionInfo () &#123;</span><br><span class=\"line\">      this.provisionForm.info = &#x27;&#x27;</span><br><span class=\"line\">      this.provisionFormDialog = true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    fileChange (e) &#123;</span><br><span class=\"line\">      const fileInput = e.target</span><br><span class=\"line\">      const data = new FormData()</span><br><span class=\"line\">      data.append(&#x27;file&#x27;, fileInput.files[0])</span><br><span class=\"line\">      data.append(&#x27;fundDirect&#x27;, this.fundDirect)</span><br><span class=\"line\">      data.append(&#x27;businessScope&#x27;, this.businessScope)</span><br><span class=\"line\">      let url = api.handworkUpload</span><br><span class=\"line\">      if (this.businessScope === &#x27;writeoff&#x27;) &#123;</span><br><span class=\"line\">        url = api.writeoffOrderImport</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.$http</span><br><span class=\"line\">        .post(url, data)</span><br><span class=\"line\">        .then(res =&gt; &#123;</span><br><span class=\"line\">          if (res.code === 0) &#123;</span><br><span class=\"line\">            this.$message.success(res.message)</span><br><span class=\"line\">            this.refleshCb()</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            this.$message.warning(res.message)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .finally(() =&gt; &#123;</span><br><span class=\"line\">          e.target.value = &#x27;&#x27;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    calAmountlFromSelection (amount) &#123;</span><br><span class=\"line\">      let totalAmount = 0</span><br><span class=\"line\">      totalAmount = this.selectOptions.reduce((pre, curr) =&gt; &#123;</span><br><span class=\"line\">        if (typeof curr[amount] === &#x27;number&#x27;) &#123;</span><br><span class=\"line\">          if (!curr[amount]) &#123;</span><br><span class=\"line\">            curr[amount] = 0</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          return parseFloat((pre + curr[amount]).toFixed(2))</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          return pre</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;, 0)</span><br><span class=\"line\">      return totalAmount.toFixed(2)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleSelection (selection, action) &#123;</span><br><span class=\"line\">      this.selectOptions = selection</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    selectRadio (selection) &#123;</span><br><span class=\"line\">      this.correctType = selection</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getCostList () &#123;</span><br><span class=\"line\">      this.init()</span><br><span class=\"line\">      if (this.$refs.filters) &#123;</span><br><span class=\"line\">        if (new Date().getDate() &lt; 13) &#123;</span><br><span class=\"line\">          this.$refs.filters.model.accountTimeRange = [</span><br><span class=\"line\">            moment()</span><br><span class=\"line\">              .subtract(1, &#x27;months&#x27;)</span><br><span class=\"line\">              .startOf(&#x27;month&#x27;)</span><br><span class=\"line\">              .format(&#x27;YYYY-MM-DD&#x27;),</span><br><span class=\"line\">            moment()</span><br><span class=\"line\">              .subtract(1, &#x27;months&#x27;)</span><br><span class=\"line\">              .endOf(&#x27;month&#x27;)</span><br><span class=\"line\">              .format(&#x27;YYYY-MM-DD&#x27;)</span><br><span class=\"line\">          ]</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          this.$refs.filters.model.accountTimeRange = [</span><br><span class=\"line\">            moment()</span><br><span class=\"line\">              .startOf(&#x27;month&#x27;)</span><br><span class=\"line\">              .format(&#x27;YYYY-MM-DD&#x27;),</span><br><span class=\"line\">            moment().format(&#x27;YYYY-MM-DD&#x27;)</span><br><span class=\"line\">          ]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      this.handleSearch()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    setFilters () &#123;</span><br><span class=\"line\">      const val = this.filters</span><br><span class=\"line\">      const orderTypeCodeFilters = val.find(x =&gt; x.name === &#x27;orderTypeCode&#x27;)</span><br><span class=\"line\">      orderTypeCodeFilters.options = this.orderTypeCodes</span><br><span class=\"line\">      const businessTypeCodeFilters = val.find(x =&gt; x.name === &#x27;businessTypeCode&#x27;)</span><br><span class=\"line\">      businessTypeCodeFilters.options = this.businessTypeCodes</span><br><span class=\"line\">      if (this.pageSource !== &#x27;assetsBusiness&#x27; &amp;&amp; this.businessScope === &#x27;business&#x27;) &#123;</span><br><span class=\"line\">        this.payConfirmShow = true</span><br><span class=\"line\">      &#125; else if (this.businessScope === &#x27;writeoff&#x27;) &#123;</span><br><span class=\"line\">        this.payConfirmShow = true</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        this.payConfirmShow = false</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (this.businessScope === &#x27;receiptPayment&#x27;) &#123;</span><br><span class=\"line\">        this.bankDataShow = true</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        this.bankDataShow = false</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    init () &#123;</span><br><span class=\"line\">      this.$watch(val =&gt; &#123;</span><br><span class=\"line\">        this.setFilters()</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  beforeRouteUpdate (to, from, next) &#123;</span><br><span class=\"line\">    next()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\">&lt;style scoped&gt;</span><br><span class=\"line\">.el-dropdown-menu__item &#123;</span><br><span class=\"line\">  line-height: 30px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br><span class=\"line\">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class=\"line\">.cost-list &#123;</span><br><span class=\"line\">  .el-dialog__body &#123;</span><br><span class=\"line\">    max-height: 550px;</span><br><span class=\"line\">    overflow: auto;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  .confirm-form-dialog &#123;</span><br><span class=\"line\">    div.panel-header.clearfix,</span><br><span class=\"line\">    .panel-header .table-header &#123;</span><br><span class=\"line\">      height: 0px;</span><br><span class=\"line\">      padding: 0px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  .detail-form &#123;</span><br><span class=\"line\">    .el-input &#123;</span><br><span class=\"line\">      width: 200px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n"},{"title":"IDEA暂存文件","date":"2022-06-28T07:23:08.000Z","cover":null,"_content":"从主菜单中，选择文件 | 新 | 暂存文件或按Ctrl+Alt+Shift+Insert\nhttps://www.jetbrains.com/help/webstorm/scratches.html#create-scratch-file\n","source":"_posts/插件/IDEA暂存文件.md","raw":"---\ntitle: IDEA暂存文件\ndate: 2022-6-28 15:23:08\ncover: \ntags:\n- 暂存文件\n---\n从主菜单中，选择文件 | 新 | 暂存文件或按Ctrl+Alt+Shift+Insert\nhttps://www.jetbrains.com/help/webstorm/scratches.html#create-scratch-file\n","slug":"插件/IDEA暂存文件","published":1,"updated":"2022-06-28T07:23:48.129Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl56irch00000hg2m0ake4be1"},{"_content":"fap-liquidate-流水管理-资金流水-待确认资金流水\n\n```js\n              title: () => {\n                return '月底计提'\n              },\n              name: 'mul-opt-accrual',\n              loading: false,\n              type: 'primary',\n              plain: false,\n              permission: '',\n              icon: '',\n              show: selection => {\n                return true\n              }\n            },\n```\n\n```\n@mul-opt-accrual=\"handleProvisionInfo\"\n```\n\n```\nhandleProvisionInfo () {\n  this.provisionForm.info = ''\n  this.provisionFormDialog = true\n},\n```\n\n```\n// 月底计提提示框\nprovisionFormDialog: false,\nprovisionForm: {\n  accountMonth: '',\n  info: '',\n  fundDirect: ''\n},\n```\n","source":"_posts/日志/22.6.28.md","raw":"fap-liquidate-流水管理-资金流水-待确认资金流水\n\n```js\n              title: () => {\n                return '月底计提'\n              },\n              name: 'mul-opt-accrual',\n              loading: false,\n              type: 'primary',\n              plain: false,\n              permission: '',\n              icon: '',\n              show: selection => {\n                return true\n              }\n            },\n```\n\n```\n@mul-opt-accrual=\"handleProvisionInfo\"\n```\n\n```\nhandleProvisionInfo () {\n  this.provisionForm.info = ''\n  this.provisionFormDialog = true\n},\n```\n\n```\n// 月底计提提示框\nprovisionFormDialog: false,\nprovisionForm: {\n  accountMonth: '',\n  info: '',\n  fundDirect: ''\n},\n```\n","slug":"日志/22.6.28","published":1,"date":"2022-06-28T02:15:28.911Z","updated":"2022-06-28T03:35:19.462Z","title":"","comments":1,"layout":"post","photos":[],"link":"","_id":"cl56irclo0002hg2m6b2xctd7"},{"_content":"计提月份\n\n计提批次号\n\n 计提批次号\n\n计提明细表\n\n​\t计提批次号 \n\n![image-20220629101520526](C:\\Users\\v_yangyqiu\\AppData\\Roaming\\Typora\\typora-user-images\\image-20220629101520526.png)\n\nliquidate:flow:accrual\n\nliquidate_fund_flow 资金流水表\n\n\n\n```\nCREATE TABLE `liquidate_provision_detail` (\n  `id` bigint NOT NULL  COMMENT '主键id',\n  `delete_flag` tinyint NOT NULL DEFAULT '0' COMMENT '有效状态：0有效，1无效',\n  `sys_ctime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `sys_utime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',\n  `create_by` varchar(32) NOT NULL DEFAULT '' COMMENT '创建人',\n  `update_by` varchar(32) NOT NULL DEFAULT '' COMMENT '修改人',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='计提批次明细表';\n```\n\n```\n// 月底计提\ngetProvisionInfo: '/fap/accounting/business/provision/info',\n```\n\n```\ndoProvision () {\n  this.$http\n    .post(api.doPovision, {\n      accountMonth: this.provisionForm.accountMonth,\n      accountId: this.provisionForm.accountId,\n      sceneType: this.sceneType.sceneName\n    })\n    .then(res => {\n      this.provisionFormDialog = false\n      if (res.code === 0) {\n        this.$message.success(res.message)\n      } else {\n        this.$message.warning(res.message)\n      }\n    })\n},\n```","source":"_posts/日志/22.6.29.md","raw":"计提月份\n\n计提批次号\n\n 计提批次号\n\n计提明细表\n\n​\t计提批次号 \n\n![image-20220629101520526](C:\\Users\\v_yangyqiu\\AppData\\Roaming\\Typora\\typora-user-images\\image-20220629101520526.png)\n\nliquidate:flow:accrual\n\nliquidate_fund_flow 资金流水表\n\n\n\n```\nCREATE TABLE `liquidate_provision_detail` (\n  `id` bigint NOT NULL  COMMENT '主键id',\n  `delete_flag` tinyint NOT NULL DEFAULT '0' COMMENT '有效状态：0有效，1无效',\n  `sys_ctime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `sys_utime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',\n  `create_by` varchar(32) NOT NULL DEFAULT '' COMMENT '创建人',\n  `update_by` varchar(32) NOT NULL DEFAULT '' COMMENT '修改人',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='计提批次明细表';\n```\n\n```\n// 月底计提\ngetProvisionInfo: '/fap/accounting/business/provision/info',\n```\n\n```\ndoProvision () {\n  this.$http\n    .post(api.doPovision, {\n      accountMonth: this.provisionForm.accountMonth,\n      accountId: this.provisionForm.accountId,\n      sceneType: this.sceneType.sceneName\n    })\n    .then(res => {\n      this.provisionFormDialog = false\n      if (res.code === 0) {\n        this.$message.success(res.message)\n      } else {\n        this.$message.warning(res.message)\n      }\n    })\n},\n```","slug":"日志/22.6.29","published":1,"date":"2022-06-29T02:47:12.300Z","updated":"2022-06-30T02:10:36.026Z","title":"","comments":1,"layout":"post","photos":[],"link":"","_id":"cl56irclp0003hg2m31gwdlkh"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cl48ai1k90001ys2mfq0scsnc","tag_id":"cl48ai1kd0004ys2m2hts10s4","_id":"cl48ai1kh0009ys2m89d11see"},{"post_id":"cl48ai1kf0005ys2m3ycw7wpf","tag_id":"cl48ai1ki000cys2m5jq81xzg","_id":"cl48ai1kl000iys2m7dy46tux"},{"post_id":"cl48ai1kf0006ys2m451q7mm3","tag_id":"cl48ai1kj000gys2mc3nqa2ue","_id":"cl48ai1km000mys2me2mu59vp"},{"post_id":"cl48ai1l5000wys2mhw539sbo","tag_id":"cl48ai1kl000kys2m8hiqc226","_id":"cl48ai1l7000zys2mfzvw3k8w"},{"post_id":"cl48ai1kj000fys2m7rli0uim","tag_id":"cl48ai1l6000xys2m78r0accz","_id":"cl48ai1l80011ys2mh9s43dyr"},{"post_id":"cl48ai1kk000hys2mf3w7h1ul","tag_id":"cl48ai1l6000xys2m78r0accz","_id":"cl48ai1l80013ys2m6oqc0fzv"},{"post_id":"cl48ai1kl000jys2mf8ch0git","tag_id":"cl48ai1l6000xys2m78r0accz","_id":"cl48ai1l90015ys2mc0a56h51"},{"post_id":"cl48ai1kl000lys2m6c54ghww","tag_id":"cl48ai1l6000xys2m78r0accz","_id":"cl48ai1la0017ys2m20588uty"},{"post_id":"cl48ai1km000nys2me0lk0bve","tag_id":"cl48ai1l6000xys2m78r0accz","_id":"cl48ai1lb0019ys2m1ucdevzh"},{"post_id":"cl48ai1kn000oys2m60vvedxo","tag_id":"cl48ai1l6000xys2m78r0accz","_id":"cl48ai1lb001bys2mbyjkhy5f"},{"post_id":"cl48ai1l0000rys2m6vld8o34","tag_id":"cl48ai1l6000xys2m78r0accz","_id":"cl48ai1lc001dys2m3eeu05cq"},{"post_id":"cl48ai1l1000sys2m5169hzva","tag_id":"cl48ai1l6000xys2m78r0accz","_id":"cl48ai1lc001fys2m0fiv5ic6"},{"post_id":"cl48ai1l4000vys2m12b3avdq","tag_id":"cl48ai1l6000xys2m78r0accz","_id":"cl48ai1ld001gys2m0qid40dt"},{"post_id":"cl48ai1kg0007ys2mf1qc12ww","tag_id":"cl48ai1ki000cys2m5jq81xzg","_id":"cl4f1felh0001fg2m1ts1c04x"},{"post_id":"cl4f1felq0005fg2mc7gq2v7c","tag_id":"cl4f1feli0003fg2maov64cc0","_id":"cl4f1fels0008fg2mejseb0u8"},{"post_id":"cl4f1felf0000fg2m65imhhgh","tag_id":"cl4f1feli0003fg2maov64cc0","_id":"cl4f1fels0009fg2m3t4ug49t"},{"post_id":"cl4f1felh0002fg2me6mo3qqb","tag_id":"cl4f1feli0003fg2maov64cc0","_id":"cl4f1felt000bfg2m9melh197"},{"post_id":"cl4f1feln0004fg2m19z80jmg","tag_id":"cl4f1feli0003fg2maov64cc0","_id":"cl4f1felt000dfg2mhq4x6ppz"},{"post_id":"cl4f7mfer0000vo2mez9cc6ig","tag_id":"cl4f1felt000cfg2m8y4m2sy0","_id":"cl4f7mfev0001vo2m3lqpabw1"},{"post_id":"cl4m4maug0000iw2meu7b1ioh","tag_id":"cl4m4mpfv0001iw2mf5sdfw21","_id":"cl4m4mpfw0002iw2m1ceh85lo"},{"post_id":"cl4m62ivv0003iw2m0nc68i2g","tag_id":"cl48ai1kl000kys2m8hiqc226","_id":"cl4m62ivx0004iw2m46km9648"},{"post_id":"cl4me80fx0000b82m96zu5dn1","tag_id":"cl48ai1l6000xys2m78r0accz","_id":"cl4me90t40001b82mh21eefpy"},{"post_id":"cl4mg2lfx0002b82m00abf3bu","tag_id":"cl48ai1kl000kys2m8hiqc226","_id":"cl4mg2lfz0003b82m055v8d7r"},{"post_id":"cl4mg2zvj0004b82m38rm0mmz","tag_id":"cl48ai1kl000kys2m8hiqc226","_id":"cl4mg3ieo0005b82mfiof3fpp"},{"post_id":"cl4wkcpay00000o2m7twme4wk","tag_id":"cl48ai1kl000kys2m8hiqc226","_id":"cl4wkcpbm00010o2m4ib05wk7"},{"post_id":"cl4wkcpbv00050o2makfi7lxq","tag_id":"cl4f1felt000cfg2m8y4m2sy0","_id":"cl4wkcpc500070o2m5j5mf0oy"},{"post_id":"cl4wkcpbt00040o2m7mkp1rc2","tag_id":"cl4wkcpbw00060o2mdhmiczkr","_id":"cl4wkcpc500080o2mf0s4e0z2"},{"post_id":"cl4wkcpc600090o2mdbi99kj7","tag_id":"cl48ai1l6000xys2m78r0accz","_id":"cl4wkcpc6000a0o2m1m0r46jf"},{"post_id":"cl4wkcpc8000b0o2m380997mq","tag_id":"cl4f1felt000cfg2m8y4m2sy0","_id":"cl4wkcpc8000c0o2mdlfhdtfa"},{"post_id":"cl56irch00000hg2m0ake4be1","tag_id":"cl56irclc0001hg2m57j09gg7","_id":"cl56irclq0004hg2m97ry4sla"}],"Tag":[{"name":"mysql","_id":"cl48ai1kd0004ys2m2hts10s4"},{"name":"万融","_id":"cl48ai1kg0008ys2m83l98vf9"},{"name":"嘿嘿","_id":"cl48ai1ki000cys2m5jq81xzg"},{"name":"工具","_id":"cl48ai1kj000gys2mc3nqa2ue"},{"name":"开发记录","_id":"cl48ai1kl000kys2m8hiqc226"},{"name":"组件","_id":"cl48ai1l6000xys2m78r0accz"},{"name":"IDEA插件","_id":"cl4f1feli0003fg2maov64cc0"},{"name":"日志","_id":"cl4f1felt000cfg2m8y4m2sy0"},{"name":"代码片段","_id":"cl4m4mpfv0001iw2mf5sdfw21"},{"name":"插件","_id":"cl4wkcpbw00060o2mdhmiczkr"},{"name":"暂存文件","_id":"cl56irclc0001hg2m57j09gg7"}]}}